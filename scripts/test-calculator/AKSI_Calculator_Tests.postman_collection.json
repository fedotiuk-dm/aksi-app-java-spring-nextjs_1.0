{
  "info": {
    "name": "AKSI Calculator Tests",
    "description": "Тестування калькулятора замовлень для системи хімчистки AKSI",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080/api",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Базові тести калькулятора",
      "item": [
        {
          "name": "Піджак - базова ціна (480 грн)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Піджак x2 штуки (960 грн)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 2,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Брюки - базова ціна (380 грн)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"1\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. Тести терміновості",
      "item": [
        {
          "name": "Піджак - термінова 48 год (+50%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"URGENT_48H\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Піджак - термінова 24 год (+100%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"URGENT_24H\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. Тести з характеристиками предметів",
      "item": [
        {
          "name": "Піджак з характеристиками (матеріал, колір)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\",\n  \"characteristics\": {\n    \"material\": \"WOOL\",\n    \"color\": \"чорний\",\n    \"stains\": [\"GREASE\", \"BLOOD\"],\n    \"defects\": [\"WORN_AREAS\"],\n    \"defectNotes\": \"Невелика потертість на ліктях\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Пуховик з наповнювачем і зносом",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"53\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\",\n  \"characteristics\": {\n    \"material\": \"SYNTHETIC\",\n    \"color\": \"синій\",\n    \"filling\": \"DOWN\",\n    \"wearDegree\": \"WEAR_30\",\n    \"stains\": [\"COFFEE\", \"MUD\"],\n    \"defectNotes\": \"Збитий наповнювач в деяких місцях\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Тести замовлень (декілька предметів)",
      "item": [
        {
          "name": "Костюм: Піджак + Брюки",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"8\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"1\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        },
        {
          "name": "Велике замовлення: 5 предметів",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"8\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"1\",\n      \"quantity\": 2,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"10\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"24\",\n      \"quantity\": 3,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"33\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"URGENT_48H\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Тести знижок",
      "item": [
        {
          "name": "Замовлення зі знижкою Еверкард (10%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"8\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"1\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    }\n  ],\n  \"discount\": {\n    \"type\": \"EVERCARD\",\n    \"value\": 10.0\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        },
        {
          "name": "Замовлення зі знижкою ЗСУ (10%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"8\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    },\n    {\n      \"priceListItemId\": \"10\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    }\n  ],\n  \"discount\": {\n    \"type\": \"MILITARY\",\n    \"value\": 10.0\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        },
        {
          "name": "Замовлення з кастомною знижкою (15%)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"8\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\"\n    }\n  ],\n  \"discount\": {\n    \"type\": \"OTHER\",\n    \"value\": 15.0\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Попередній перегляд (Preview)",
      "item": [
        {
          "name": "Попередній перегляд піджака",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item/preview",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item", "preview"]
            }
          },
          "response": []
        },
        {
          "name": "Попередній перегляд з терміновістю",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"URGENT_48H\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item/preview",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item", "preview"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Тести помилок і валідації",
      "item": [
        {
          "name": "Неіснуючий предмет (404)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"999\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Від'ємна кількість (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": -1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Нульова кількість (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 0,\n  \"appliedModifiers\": [],\n  \"urgency\": \"NORMAL\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        },
        {
          "name": "Невалідний JSON (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceListItemId\": \"8\",\n  \"quantity\": 1,\n  \"appliedModifiers\": [],\n  \"urgency\": \"INVALID_URGENCY\"\n"
            },
            "url": {
              "raw": "{{base_url}}/calculate/item",
              "host": ["{{base_url}}"],
              "path": ["calculate", "item"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "8. Реальні сценарії хімчистки",
      "item": [
        {
          "name": "Чоловічий костюм (піджак + брюки + сорочка)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"8\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\",\n      \"characteristics\": {\n        \"material\": \"WOOL\",\n        \"color\": \"темно-синій\",\n        \"stains\": [\"FOOD\"],\n        \"defectNotes\": \"Пляма від соусу на краватці\"\n      }\n    },\n    {\n      \"priceListItemId\": \"1\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\",\n      \"characteristics\": {\n        \"material\": \"WOOL\",\n        \"color\": \"темно-синій\"\n      }\n    },\n    {\n      \"priceListItemId\": \"24\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\",\n      \"characteristics\": {\n        \"material\": \"COTTON\",\n        \"color\": \"білий\",\n        \"stains\": [\"SWEAT\"]\n      }\n    }\n  ],\n  \"discount\": {\n    \"type\": \"EVERCARD\",\n    \"value\": 10.0\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        },
        {
          "name": "Весільна сукня з терміновістю",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"13\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"URGENT_48H\",\n      \"characteristics\": {\n        \"material\": \"SILK\",\n        \"color\": \"білий\",\n        \"stains\": [\"WINE\", \"MAKEUP\"],\n        \"defects\": [\"MINOR_DAMAGE\"],\n        \"defectNotes\": \"Невелика пляма червоного вина на підолі, сліди косметики на корсеті\"\n      }\n    },\n    {\n      \"priceListItemId\": \"17\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"URGENT_48H\",\n      \"characteristics\": {\n        \"material\": \"SILK\",\n        \"color\": \"білий\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        },
        {
          "name": "Зимовий одяг з хутром",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"priceListItemId\": \"45\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\",\n      \"characteristics\": {\n        \"material\": \"WOOL\",\n        \"color\": \"чорний\",\n        \"filling\": \"DOWN\",\n        \"wearDegree\": \"WEAR_10\",\n        \"stains\": [\"MUD\", \"SALT\"],\n        \"defectNotes\": \"Сліди реагентів від доріг, бруд на підолі\"\n      }\n    },\n    {\n      \"priceListItemId\": \"52\",\n      \"quantity\": 1,\n      \"appliedModifiers\": [],\n      \"urgency\": \"NORMAL\",\n      \"characteristics\": {\n        \"material\": \"OTHER\",\n        \"color\": \"коричневий\",\n        \"defectNotes\": \"Підстібка з натурального хутра норки\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/calculate/order-summary",
              "host": ["{{base_url}}"],
              "path": ["calculate", "order-summary"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
