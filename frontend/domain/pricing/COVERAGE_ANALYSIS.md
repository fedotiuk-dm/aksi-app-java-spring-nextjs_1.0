# –ê–Ω–∞–ª—ñ–∑ –ø–æ–∫—Ä–∏—Ç—Ç—è OpenAPI —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –≤ –¥–æ–º–µ–Ω—ñ Pricing

## –û–≥–ª—è–¥

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –∞–Ω–∞–ª—ñ–∑—É—î, —â–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –¥–æ–º–µ–Ω—ñ `pricing` –∑ –¥–æ—Å—Ç—É–ø–Ω–æ—ó OpenAPI —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ.

## –î–æ—Å—Ç—É–ø–Ω—ñ OpenAPI —Å–µ—Ä–≤—ñ—Å–∏ –¥–ª—è Pricing

### –û—Å–Ω–æ–≤–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏:

1. **PricingApiService** - –≥–æ–ª–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –∑ —É—Å—ñ—î—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é
2. **PricingCalculationService** - —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ü—ñ–Ω
3. **PricingModifiersService** - —Ä–æ–±–æ—Ç–∞ –∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞–º–∏
4. **PricingCategoriesService** - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥
5. **PricingPriceListService** - –ø—Ä–∞–π—Å-–ª–∏—Å—Ç
6. **PricingIssuesService** - –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è
7. **ModifierRecommendationService** - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤

## –ü–æ–∫—Ä–∏—Ç—Ç—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

### ‚úÖ –ü–û–í–ù–Ü–°–¢–Æ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û

#### –ü—Ä–∞–π—Å-–ª–∏—Å—Ç (PriceListItem)

- `getItemById(itemId)` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –∑–∞ ID
- `getItemsByCategoryCode(categoryCode)` - –µ–ª–µ–º–µ–Ω—Ç–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
- `getBasePrice(categoryCode, itemName, color?)` - –±–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞

#### –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥ (ServiceCategory)

- `getAllCategories()` - –≤—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `getActiveCategories()` - –∞–∫—Ç–∏–≤–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `getCategoryById(id)` - –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –∑–∞ ID
- `getCategoryByCode(code)` - –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –∑–∞ –∫–æ–¥–æ–º
- `getMaterialsForCategory(categoryCode)` - –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

#### –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ (PriceModifier)

- `getModifiersForServiceCategory(categoryCode)` - –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `getModifierByCode(code)` - –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–∞ –∫–æ–¥–æ–º
- `getModifiersByCategory(category)` - –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –∑–∞ —Ç–∏–ø–æ–º
- `searchModifiers(params)` - –ø–æ—à—É–∫ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é
- `getAvailableModifiersForCategory(categoryCode)` - –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–¥–∏

#### –ó–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è —Ç–∞ –¥–µ—Ñ–µ–∫—Ç–∏ (StainType, DefectType)

- `getStainTypes(activeOnly?, riskLevel?)` - —Ç–∏–ø–∏ –∑–∞–±—Ä—É–¥–Ω–µ–Ω—å
- `getStainTypeByCode(code)` - –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è –∑–∞ –∫–æ–¥–æ–º
- `getDefectTypes(activeOnly?, riskLevel?)` - —Ç–∏–ø–∏ –¥–µ—Ñ–µ–∫—Ç—ñ–≤
- `getDefectTypeByCode(code)` - –¥–µ—Ñ–µ–∫—Ç –∑–∞ –∫–æ–¥–æ–º

#### –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

- `calculatePrice(request)` - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ü—ñ–Ω–∏
- `getRiskWarnings(params)` - –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ —Ä–∏–∑–∏–∫–∏
- `getRecommendedModifiers(params)` - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏

### ‚ùì –ü–û–¢–ï–ù–¶–Ü–ô–ù–û –ü–†–û–ü–£–©–ï–ù–û ‚ûú ‚úÖ –ü–ï–†–ï–í–Ü–†–ï–ù–û

#### –ó PricingCategoriesService ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ü–æ–≤–Ω—ñ—Å—Ç—é –¥—É–±–ª—é—î PricingApiService - –Ω—ñ—á–æ–≥–æ –Ω–æ–≤–æ–≥–æ

#### –ó PricingPriceListService ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ü–æ–≤–Ω—ñ—Å—Ç—é –¥—É–±–ª—é—î PricingApiService - –Ω—ñ—á–æ–≥–æ –Ω–æ–≤–æ–≥–æ

#### –ó PricingIssuesService ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ü–æ–≤–Ω—ñ—Å—Ç—é –¥—É–±–ª—é—î PricingApiService - –Ω—ñ—á–æ–≥–æ –Ω–æ–≤–æ–≥–æ

#### –ó ModifierRecommendationService ‚úÖ

**–î–û–î–ê–¢–ö–û–í–ê –§–£–ù–ö–¶–Ü–û–ù–ê–õ–¨–ù–Ü–°–¢–¨ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–ê:**

- `getRecommendedModifiersForStains(stains, categoryCode?, materialType?)` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–ª—è–º ‚úÖ
- `getRecommendedModifiersForDefects(defects, categoryCode?, materialType?)` - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–µ—Ñ–µ–∫—Ç—ñ–≤ ‚úÖ
- `getRiskWarningsForItem(stains?, defects?, materialType?, categoryCode?)` - –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ —Ä–∏–∑–∏–∫–∏ ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û - –¥–æ–¥–∞–Ω–æ –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é —Ç–∞ —Ö—É–∫—ñ–≤

### üîß –ê–†–•–Ü–¢–ï–ö–¢–£–†–ù–Ü –ö–û–ú–ü–û–ù–ï–ù–¢–ò

#### ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

- **–¢–∏–ø–∏** (`pricing.types.ts`) - –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ —Ç–∞ enum
- **–°—É—Ç–Ω–æ—Å—Ç—ñ** (`*.entity.ts`) - PriceListItemEntity, PriceModifierEntity –∑ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–æ—é
- **–°—Ö–µ–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó** (`pricing.schema.ts`) - Zod —Å—Ö–µ–º–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤
- **–ê–¥–∞–ø—Ç–µ—Ä–∏** (`api.adapter.ts`) - –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è OpenAPI DTO ‚Üî Domain —Ç–∏–ø–∏
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π** (`pricing.repository.ts`) - —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è API –≤–∏–∫–ª–∏–∫—ñ–≤
- **–°—Ç–æ—Ä** (`pricing.store.ts`) - Zustand –¥–ª—è —Å—Ç–∞–Ω—É –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º
- **–•—É–∫–∏** (`use-pricing.hook.ts`, `use-price-calculator.hook.ts`) - React hooks
- **–ü—É–±–ª—ñ—á–Ω–µ API** (`index.ts`) - –µ–∫—Å–ø–æ—Ä—Ç –≤—Å—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

#### ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:

- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏** - PRICING_CONSTANTS –∑ —Ç–∞–π–º–∞—É—Ç–∞–º–∏ —Ç–∞ –ª—ñ–º—ñ—Ç–∞–º–∏
- **–£—Ç–∏–ª—ñ—Ç–∏** - pricingUtils –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ü—ñ–Ω–∞–º–∏
- **–ü–æ–º–∏–ª–∫–∏** - PricingDomainError –∑ –∫–æ–¥–∞–º–∏ –ø–æ–º–∏–ª–æ–∫
- **–ö–µ—à—É–≤–∞–Ω–Ω—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑ —Ç–∞–π–º–∞—É—Ç–∞–º–∏
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è** - –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–∞ (Zod + –¥–æ–º–µ–Ω–Ω–∞ –ª–æ–≥—ñ–∫–∞)
- **–°–µ–ª–µ–∫—Ç–æ—Ä–∏** - –º–µ–º–æ—ñ–∑–æ–≤–∞–Ω—ñ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

## –í–∏—Å–Ω–æ–≤–æ–∫

### –ü–æ–∫—Ä–∏—Ç—Ç—è: 100% ‚úÖ

–î–æ–º–µ–Ω `pricing` –ø–æ–∫—Ä–∏–≤–∞—î **–≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å** –∑ OpenAPI:

- **–ü–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è –æ—Å–Ω–æ–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π** - –≤—Å—ñ CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è –≤—Å—ñ—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π
- **–†–æ–∑—à–∏—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å** - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –∫–µ—à—É–≤–∞–Ω–Ω—è, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞** - DDD –ø—Ä–∏–Ω—Ü–∏–ø–∏, —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è, —Ç–∏–ø–æ–±–µ–∑–ø–µ–∫–∞
- **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** - –ø–æ–≤–Ω—ñ —Ö—É–∫–∏ —Ç–∞ —Å—Ç–æ—Ä–∏ –¥–ª—è UI

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

1. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º—ñ —Å–µ—Ä–≤—ñ—Å–∏** (PricingCategoriesService, PricingPriceListService, PricingIssuesService) –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
2. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é** –∑ —Ä–µ–∞–ª—å–Ω–∏–º API
3. **–°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é** –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ UI
4. **–î–æ–¥–∞—Ç–∏ —é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

### –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å: –î–æ–º–µ–Ω –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ UI! üöÄ

### üö® –©–û –ü–û–¢–†–Ü–ë–ù–û –î–û–î–ê–¢–ò ‚ûú ‚úÖ –î–û–î–ê–ù–û

#### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–µ—Ç–æ–¥–∏ –∑ ModifierRecommendationService: ‚úÖ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û
