# Auth Domain Improvement Plan

## üéØ –ú–µ—Ç–∞

–ü–æ–∫—Ä–∞—â–∏—Ç–∏ Auth –¥–æ–º–µ–Ω –∑–≥—ñ–¥–Ω–æ –∑ —á–µ–∫–ª—ñ—Å—Ç-–ø–ª–∞–Ω–æ–º, –∑–∞–±–µ–∑–ø–µ—á–∏–≤—à–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å, –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —Ç–∞ –∫–æ–¥-—Å—Ç–∏–ª—å.

---

## üìã TODO –ü–ª–∞–Ω (–≤—ñ–¥ –ø—Ä–æ—Å—Ç–æ–≥–æ –¥–æ —Å–∫–ª–∞–¥–Ω–æ–≥–æ)

### üîß **–ï–¢–ê–ü 1: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ –∑–º—ñ–Ω–∏ —Ç–∞ ID –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è**

_–ü—Ä–æ—Å—Ç—ñ –∑–º—ñ–Ω–∏ –±–µ–∑ —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏_

#### 1.1 –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è Entity ID

- [ ] **–ê—É–¥–∏—Ç –ø–æ—Ç–æ—á–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ ID**

  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ UserEntity —Ç–∞ RefreshTokenEntity –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥–≤–æ—Ö ID (id + uuid)
  - –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –ø–æ–ª—ñ–≤ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤

- [ ] **–û–Ω–æ–≤–∏—Ç–∏ BaseEntity**

  - –ó–º—ñ–Ω–∏—Ç–∏ BaseEntity –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è UUID —è–∫ primary key
  - –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ –ø–æ–ª–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è `id` (–Ω–µ `uuid`)
  - –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ Entity —â–æ –Ω–∞—Å–ª—ñ–¥—É—é—Ç—å BaseEntity

- [ ] **–ü—Ä–∏–±—Ä–∞—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è ID**
  - –í–∏–¥–∞–ª–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–ª—è id/uuid –≤ Auth entities
  - –ó–∞–ª–∏—à–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ–¥–Ω–µ –ø–æ–ª–µ `id` —Ç–∏–ø—É UUID
  - –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –º–∞–ø–ø—ñ–Ω–≥–∏ —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

#### 1.2 UUID Generator

- [ ] **–ê—É–¥–∏—Ç UUID –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó**
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–∞—Å—Ç–æ–º–Ω–∏–π UUID –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
  - –í–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ UUID –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ —è–∫—â–æ —î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π
  - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π JPA –ø—ñ–¥—Ö—ñ–¥ –∑ @GeneratedValue

---

### üîç **–ï–¢–ê–ü 2: –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –∫–æ–Ω—Å—Ç—Ä–µ–π–Ω—Ç–∏**

_–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –Ω–∞ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—è—Ö_

#### 2.1 Database Constraints

- [x] **–£–Ω—ñ–∫–∞–ª—å–Ω—ñ –∫–æ–Ω—Å—Ç—Ä–µ–π–Ω—Ç–∏ –≤ –ë–î**
  - ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ users —Ç–∞–±–ª–∏—Ü—é –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å email
  - ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ users —Ç–∞–±–ª–∏—Ü—é –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å username
  - ‚úÖ –í—Å—ñ UNIQUE constraints –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤ Liquibase –º—ñ–≥—Ä–∞—Ü—ñ—ó
  - ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ refresh_tokens —Ç–∞–±–ª–∏—Ü—é –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å token

#### 2.2 Cleanup –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ (–ü–†–Ü–û–†–ò–¢–ï–¢)

- [ ] **–ê—É–¥–∏—Ç MapStruct –º–∞–ø–ø–µ—Ä—ñ–≤**

  - [x] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ AuthMapper –Ω–∞ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –º–µ—Ç–æ–¥–∏ (–ø—ñ–¥—Å–≤—ñ—á–µ–Ω—ñ IDE)
  - [x] –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–æ –º–µ—Ç–æ–¥–∏ —â–æ –∑–∞–ª–∏—à–∏–ª–∏—Å—å –ø—ñ—Å–ª—è –≤–∏–Ω–µ—Å–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –≤ Specifications
  - [x] –î–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–æ —è–∫—ñ –º–µ—Ç–æ–¥–∏ —Ä–µ–∞–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è

- [ ] **–ü—Ä–∏–±—Ä–∞—Ç–∏ unused code –∑ AuthMapper**
  - [ ] –í–∏–¥–∞–ª–∏—Ç–∏ createUserFromLoginRequest() - –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
  - [ ] –í–∏–¥–∞–ª–∏—Ç–∏ offsetDateTimeToLocalDateTime() - –¥—É–±–ª—é—î—Ç—å—Å—è –∑ BaseMapperConfig
  - [ ] –í–∏–¥–∞–ª–∏—Ç–∏ fromApiUserRole() - –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
  - [ ] –í–∏–¥–∞–ª–∏—Ç–∏ apiRolesToDomainRoles() - –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è

#### 2.3 OpenAPI Schema Validation (–í–Ü–î–ö–õ–ê–î–ï–ù–û –Ω–∞ –ï–¢–ê–ü 6)

- [ ] **–°–∏—Å—Ç–µ–º–Ω–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è nullable –ø–æ–ª—ñ–≤**
  - [ ] –ê–Ω–∞–ª—ñ–∑ –≤—Å—ñ—Ö nullable –ø–æ–ª—ñ–≤ –≤ Auth –¥–æ–º–µ–Ω—ñ
  - [ ] –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Å—Ö–µ–º (email format, pattern)
  - [ ] –£—Å—É–Ω–µ–Ω–Ω—è nullable –¥–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ (–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥)
  - [ ] –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è OpenAPI —Å—Ö–µ–º –∑ actual –ø–æ—Ç—Ä–µ–±–∞–º–∏ –ø—ñ—Å–ª—è cleanup

---

### üõ†Ô∏è **–ï–¢–ê–ü 3: –õ–æ–≥—ñ–∫–∞ —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏**

_–í–∏–Ω–µ—Å–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –∑ Entity_

#### 3.1 Entity Cleanup

- [ ] **–ê—É–¥–∏—Ç –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –≤ Entity**

  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ UserEntity –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Å–∫–ª–∞–¥–Ω–∏—Ö business –º–µ—Ç–æ–¥—ñ–≤
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ RefreshTokenEntity –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å validation –ª–æ–≥—ñ–∫–∏
  - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–Ω–µ—Å—Ç–∏ –≤ —É—Ç–∏–ª—ñ—Ç–∏

- [ ] **–°—Ç–≤–æ—Ä–∏—Ç–∏ Auth —É—Ç–∏–ª—ñ—Ç–∏**
  - –í–∏–Ω–µ—Å—Ç–∏ password validation –≤ AuthValidationUtils
  - –í–∏–Ω–µ—Å—Ç–∏ token generation –ª–æ–≥—ñ–∫—É –≤ TokenUtils
  - –í–∏–Ω–µ—Å—Ç–∏ account locking –ª–æ–≥—ñ–∫—É –≤ AccountLockingUtils
  - –û–Ω–æ–≤–∏—Ç–∏ Entity —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —É—Ç–∏–ª—ñ—Ç–∏

#### 3.2 –ß–∏—Å–ª–æ–≤—ñ –ø–æ–ª—è —Ç–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–Ω—è

- [ ] **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏—Å–ª–æ–≤—ñ –ø–æ–ª—è**
  - –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —á–∏—Å–ª–æ–≤—ñ –ø–æ–ª—è –≤ Auth –¥–æ–º–µ–Ω—ñ (—è–∫—â–æ —î)
  - –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è %.2f –¥–ª—è –≥—Ä–æ—à–æ–≤–∏—Ö —Å—É–º
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ timestamp —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

---

### üîÑ **–ï–¢–ê–ü 4: –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —Ç–∞ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó**

_–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –º–µ—Ç–æ–¥—ñ–≤_

#### 4.1 Repository Specifications

- [ ] **–ê—É–¥–∏—Ç –ø–æ—Ç–æ—á–Ω–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤**

  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ UserRepository –Ω–∞ –≤–µ–ª–∏–∫—ñ –º–µ—Ç–æ–¥–∏ –∑ –±–∞–≥–∞—Ç—å–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ RefreshTokenRepository –Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ –∑–∞–ø–∏—Ç–∏
  - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —è–∫—ñ –º–µ—Ç–æ–¥–∏ —Ä–µ–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å Specification
  - –ó–Ω–∞–π—Ç–∏ –Ω–∞–¥–º—ñ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Specifications (–±–∞–≥–∞—Ç–æ –º–µ—Ç–æ–¥—ñ–≤ –Ω–µ –ø—Ä–∞—Ü—é—î)

- [ ] **–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –≤–µ–ª–∏–∫—ñ –º–µ—Ç–æ–¥–∏**
  - –†–æ–∑–±–∏—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ @Query –º–µ—Ç–æ–¥–∏ –Ω–∞ Specifications (—Ç—ñ–ª—å–∫–∏ –¥–µ –±–∞–≥–∞—Ç–æ –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö —Ñ—ñ–ª—å—Ç—Ä—ñ–≤)
  - –ó–∞–ª–∏—à–∏—Ç–∏ –ø—Ä–æ—Å—Ç—ñ –º–µ—Ç–æ–¥–∏ –±–µ–∑ –∑–º—ñ–Ω (–º–∞–ª—ñ –º–µ—Ç–æ–¥–∏ –Ω–µ —á—ñ–ø–∞—Ç–∏)
  - –ü—Ä–∏–±—Ä–∞—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ Specification –º–µ—Ç–æ–¥–∏ (–ø—ñ–¥—Å–≤—ñ—á–µ–Ω—ñ IDE)
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å—ñ –¥–∏–Ω–∞–º—ñ—á–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –ø—Ä–∞—Ü—é—é—Ç—å –ø—ñ—Å–ª—è cleanup

#### 4.2 –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

- [ ] **–£–∑–≥–æ–¥–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é**
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ Entity validation —Å–ø—ñ–≤–ø–∞–¥–∞—î –∑ OpenAPI
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ Service validation —Å–ø—ñ–≤–ø–∞–¥–∞—î –∑ OpenAPI
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ Repository constraints —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å –∑ OpenAPI
  - –£—Å—É–Ω—É—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

---

### ‚ö†Ô∏è **–ï–¢–ê–ü 5: Exception Handling —Ç–∞ Warnings**

_–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫_

#### 5.1 Return Warnings

- [ ] **–ê—É–¥–∏—Ç warning scenarios**

  - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ warning –∑–∞–º—ñ—Å—Ç—å exception
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ account locking scenarios
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ token expiration scenarios

- [ ] **–Ü–º–ø–ª–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ warnings**
  - –û–Ω–æ–≤–∏—Ç–∏ Service –º–µ—Ç–æ–¥–∏ –¥–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è warnings
  - –û–Ω–æ–≤–∏—Ç–∏ Response DTO –¥–ª—è –≤–∫–ª—é—á–µ–Ω–Ω—è warnings
  - –û–Ω–æ–≤–∏—Ç–∏ OpenAPI —Å—Ö–µ–º–∏ –¥–ª—è warning –ø–æ–ª—ñ–≤

#### 5.2 Exception Handler

- [ ] **–ü–µ—Ä–µ–ø–∏—Å–∞—Ç–∏ Exception Handler**
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π ExceptionHandler –Ω–∞ –ø–æ–∫—Ä–∏—Ç—Ç—è Auth exceptions
  - –î–æ–¥–∞—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É –æ–±—Ä–æ–±–∫—É –¥–ª—è Auth-specific exceptions
  - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å—ñ Auth exceptions –º–∞—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏
  - –î–æ–¥–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è security events

---

### üß™ **–ï–¢–ê–ü 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è**

_Groovy Spock —Ç–µ—Å—Ç–∏ + OpenAPI validation_

#### 6.1 Unit Tests

- [ ] **Service Layer Tests**
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è AuthService
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è JwtTokenService
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è UserValidator
  - –ü–æ–∫—Ä–∏—Ç–∏ –≤—Å—ñ business scenarios

#### 6.2 Integration Tests

- [ ] **Repository Tests**
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è UserRepository
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è RefreshTokenRepository
  - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ custom queries —Ç–∞ specifications

#### 6.3 Controller Tests

- [ ] **API Layer Tests**
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è AuthenticationApiController
  - –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è AuthorizationApiController
  - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ endpoints –∑ —Ä—ñ–∑–Ω–∏–º–∏ scenarios

#### 6.4 OpenAPI Schema Validation (–§–Ü–ù–ê–õ–¨–ù–ò–ô –ï–¢–ê–ü)

- [ ] **–°–∏—Å—Ç–µ–º–Ω–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è nullable –ø–æ–ª—ñ–≤**
  - –î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –≤—Å—ñ—Ö nullable –ø–æ–ª—ñ–≤ –≤ Auth –¥–æ–º–µ–Ω—ñ
  - –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Å—Ö–µ–º (email format, pattern, minLength/maxLength)
  - –£—Å—É–Ω–µ–Ω–Ω—è nullable –¥–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ (–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥)
  - –î–æ–¥–∞—Ç–∏ pattern –¥–ª—è password (–º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏ –±–µ–∑–ø–µ–∫–∏)
  - –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è OpenAPI —Å—Ö–µ–º –∑ —Ñ–∞–∫—Ç–∏—á–Ω–∏–º–∏ –ø–æ—Ç—Ä–µ–±–∞–º–∏

#### 6.5 Edge Cases

- [ ] **Security Tests**
  - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ account locking mechanism
  - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ token expiration scenarios
  - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ invalid credentials scenarios
  - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ concurrent access scenarios

---

## üìä –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### üü¢ **–í–∏—Å–æ–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (–ó–ê–†–ê–ó)**

- Cleanup –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –≤ AuthMapper
- Entity ID –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è
- Database constraints

### üü° **–°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç**

- –í–∏–Ω–µ—Å–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –∑ Entity
- Repository specifications
- Exception handling

### üî¥ **–ù–∏–∑—å–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (–ö–Ü–ù–ï–¶–¨)**

- OpenAPI Schema Validation (nullable fields)
- Return warnings
- Groovy Spock —Ç–µ—Å—Ç–∏

---

## üéØ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### ‚úÖ **–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–ª–∞–Ω—É:**

- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Entity –∑ UUID
- –ü–æ–≤–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—è—Ö
- –ß–∏—Å—Ç–∏–π –∫–æ–¥ –±–µ–∑ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –≤ Entity
- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ 80%+
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ warnings

### üìà **–ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ:**

- Checkstyle: 0 violations
- SonarQube: A rating
- Test coverage: 80%+
- Database constraints: 100% covered
- OpenAPI validation: 100% covered
