# –®–≤–∏–¥–∫–∏–π –≥–∞–π–¥ –ø–æ Pricing –¥–æ–º–µ–Ω—É

## üéØ –ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è
Pricing –¥–æ–º–µ–Ω —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î —Ü—ñ–Ω–∏ –¥–ª—è —Ö—ñ–º—á–∏—Å—Ç–∫–∏ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤, —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ—Å—Ç—ñ —Ç–∞ –∑–Ω–∏–∂–æ–∫.

## üß© –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. **PriceCalculationService** - —Ü–µ –ù–ï —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å!
- –¶–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π `@Service` –∫–ª–∞—Å
- –ú—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏
- –ó–±–µ—Ä—ñ–≥–∞—î –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∑ OpenAPI
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤—Å—ñ–º–∞ —ñ–Ω—à–∏–º–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞–º–∏

### 2. **–ß–æ–º—É PriceCalculationService –≤–∏–≥–ª—è–¥–∞—î "–Ω–µ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–º"?**
```java
@Service  // <-- –¶–µ –≤–∂–µ –≥–æ—Ç–æ–≤–∏–π —Å–µ—Ä–≤—ñ—Å!
public class PriceCalculationService {
    // –ù–µ –ø–æ—Ç—Ä–µ–±—É—î —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó, –±–æ —Ü–µ –Ω–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
}
```

### 3. **–•—Ç–æ —â–æ —Ä–æ–±–∏—Ç—å?**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î |
|-----------|------------------|--------------|
| **PricingServiceImpl** | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä, —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É | –í—Å—ñ —ñ–Ω—à—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ |
| **ItemPriceCalculator** | –†–∞—Ö—É—î —Ü—ñ–Ω—É 1 –ø—Ä–µ–¥–º–µ—Ç–∞ | PriceCalculationService |
| **TotalsCalculator** | –†–∞—Ö—É—î –∑–∞–≥–∞–ª—å–Ω—ñ —Å—É–º–∏ | PriceCalculationService |
| **PricingRulesService** | –ë—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ (–∫–æ–ª—ñ—Ä, –∑–Ω–∏–∂–∫–∏) | PriceCalculationService |
| **PriceCalculationService** | –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (BigDecimal) | –ù—ñ–∫–æ–≥–æ (—É—Ç–∏–ª—ñ—Ç–∞) |

## üìä –ó–≤—ñ–¥–∫–∏ –±–µ—Ä—É—Ç—å—Å—è –¥–∞–Ω—ñ?

```
OpenAPI (pricing-api.yaml)          –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ –¢–µ—Ä–º—ñ–Ω–æ–≤—ñ—Å—Ç—å %                  ‚îú‚îÄ‚îÄ –°–∫–ª–∞–¥–Ω—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏
‚îú‚îÄ‚îÄ –ó–Ω–∏–∂–∫–∏ %                        ‚îî‚îÄ‚îÄ –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ –∑–Ω–∏–∂–æ–∫
‚îî‚îÄ‚îÄ –í–∏–∫–ª—é—á–µ–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó             

        ‚Üì                                   ‚Üì
        
    PriceCalculationService ‚Üê –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –≤—Å—ñ
    (Maps –∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏)
```

## üîÑ –¢–∏–ø–æ–≤–∏–π flow

```
1. –ó–∞–ø–∏—Ç ‚Üí PricingServiceImpl
2. ‚Üí ItemPriceCalculator (–¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞)
   - –ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞ (PricingRulesService)
   - + –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ (PriceCalculationService)
   - + –¢–µ—Ä–º—ñ–Ω–æ–≤—ñ—Å—Ç—å (PriceCalculationService)
   - - –ó–Ω–∏–∂–∫–∞ (PriceCalculationService)
3. ‚Üí TotalsCalculator (–ø—ñ–¥—Å—É–º–∫–∏)
4. ‚Üê –í—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—î—é
```

## ‚ùì –ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è

**Q: –ß–æ–º—É —Å—Ç—ñ–ª—å–∫–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤?**
A: –ö–æ–∂–µ–Ω –º–∞—î –æ–¥–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å (SOLID)

**Q: –î–µ –ª–æ–≥—ñ–∫–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤?**
A: –í PriceCalculationService (–≤—Å—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)

**Q: –ß–æ–º—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –Ω–µ –≤ properties?**
A: API-first –ø—ñ–¥—Ö—ñ–¥ - –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∑ OpenAPI

**Q: –ù–∞–≤—ñ—â–æ –ë–î —è–∫—â–æ –≤—Å–µ –≤ OpenAPI?**
A: OpenAPI - –ø—Ä–æ—Å—Ç—ñ –ø—Ä–∞–≤–∏–ª–∞, –ë–î - —Å–∫–ª–∞–¥–Ω—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏