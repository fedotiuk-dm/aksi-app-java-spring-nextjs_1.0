# üèóÔ∏è STAGE 2 ORDER WIZARD - –†–ï–ê–õ–Ü–ó–ê–¶–Ü–Ø –ó –†–ï–ê–õ–¨–ù–ò–ú–ò –î–û–ú–ï–ù–ù–ò–ú–ò –°–ï–†–í–Ü–°–ê–ú–ò

## üéØ **–°–¢–†–ê–¢–ï–ì–Ü–ß–ù–ò–ô –ü–Ü–î–•–Ü–î**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —ñ—Å–Ω—É—é—á—ñ –¥–æ–º–µ–Ω–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ –∑ –ø–µ—Ä—à–æ–≥–æ –¥–Ω—è —Ä–æ–∑—Ä–æ–±–∫–∏. –ù—ñ—è–∫–∏—Ö –∑–∞–≥–ª—É—à–æ–∫ –∞–±–æ TODO.

**–ú–µ—Ç–∞:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Stage 2 (Item Management) –∑ —Ä–µ–∞–ª—å–Ω–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –∑ —É—Å—ñ–º–∞ –¥–æ–º–µ–Ω–∞–º–∏.

## üîó **–ö–û–ù–¢–ï–ö–°–¢ STAGE 2 –í ORDER WIZARD**

### **Stage 2 –ù–ï —î —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–º!**

Stage 2 –ø—Ä–∞—Ü—é—î –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ **–≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è** –∑ Stage 1:

```
Stage 1 —Å—Ç–≤–æ—Ä—é—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑:
‚îú‚îÄ‚îÄ üë§ –ö–ª—ñ—î–Ω—Ç (–æ–±—Ä–∞–Ω–∏–π/—Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤ 1.1)
‚îú‚îÄ‚îÄ üè¢ –§—ñ–ª—ñ—è (–æ–±—Ä–∞–Ω–∞ –≤ 1.2 "–ü—É–Ω–∫—Ç –ø—Ä–∏–π–æ–º—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è")
‚îú‚îÄ‚îÄ üìÑ –ù–æ–º–µ—Ä –∫–≤–∏—Ç–∞–Ω—Ü—ñ—ó (–∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π)
‚îú‚îÄ‚îÄ üè∑Ô∏è –£–Ω—ñ–∫–∞–ª—å–Ω–∞ –º—ñ—Ç–∫–∞ (–≤–≤–µ–¥–µ–Ω–∞/—Å–∫–µ–Ω–æ–≤–∞–Ω–∞)
‚îî‚îÄ‚îÄ üìÖ –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

Stage 2 –¥–æ–¥–∞—î –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:
‚îú‚îÄ‚îÄ üì¶ –ü—Ä–µ–¥–º–µ—Ç–∏ (—á–µ—Ä–µ–∑ –ø—ñ–¥–≤—ñ–∑–∞—Ä–¥ 2.1-2.5)
‚îú‚îÄ‚îÄ üí∞ –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ü—ñ–Ω –∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ üì∏ –§–æ—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ üìä –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å (–¥–∏–Ω–∞–º—ñ—á–Ω–æ)
```

### **–ß–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤—Å—ñ 4 Domain Facades:**

#### **1. PricingDomainFacade** üí∞ - **–û–°–ù–û–í–ù–ê –†–û–ë–û–¢–ê**

- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥, –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∏
- –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ü—ñ–Ω –∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞–º–∏
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è + –ø—Ä–µ–¥–º–µ—Ç

#### **2. OrderDomainFacade** üì¶ - **–û–°–ù–û–í–ù–ê –†–û–ë–û–¢–ê**

- CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—ñ–¥—Å—É–º–∫—ñ–≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç–∞–Ω—É –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ Stage 3

#### **3. ClientDomainFacade** üë§ - **–ö–û–ù–¢–ï–ö–°–¢ + –í–ê–õ–Ü–î–ê–¶–Ü–Ø**

- –ü–æ–∫–∞–∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–ª—ñ—î–Ω—Ç–∞ –≤ UI
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —â–æ –∫–ª—ñ—î–Ω—Ç –≤—Å–µ —â–µ —ñ—Å–Ω—É—î
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ (–ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ)

#### **4. BranchDomainFacade** üè¢ - **–ö–û–ù–¢–ï–ö–°–¢ + –í–ê–õ–Ü–î–ê–¶–Ü–Ø**

- –ü–æ–∫–∞–∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ñ—ñ–ª—ñ—é –≤ UI
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —â–æ —Ñ—ñ–ª—ñ—è –∞–∫—Ç–∏–≤–Ω–∞
- –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –∫–≤–∏—Ç–∞–Ω—Ü—ñ—ó (Stage 4)

### **UI –∫–æ–Ω—Ç–µ–∫—Å—Ç Stage 2:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¢ –§—ñ–ª—ñ—è: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ (–≤—É–ª. –®–µ–≤—á–µ–Ω–∫–∞, 15)    ‚îÇ
‚îÇ üë§ –ö–ª—ñ—î–Ω—Ç: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ (+380501234567)    ‚îÇ
‚îÇ üìÑ –ö–≤–∏—Ç–∞–Ω—Ü—ñ—è: #CT-2024-001234               ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ           –¢–ê–ë–õ–ò–¶–Ø –ü–†–ï–î–ú–ï–¢–Ü–í                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ –ü—ñ–¥–∂–∞–∫    ‚îÇ –ß–∏—Å—Ç–∫–∞ ‚îÇ 150 –≥—Ä–Ω ‚îÇ ‚úèÔ∏è üóëÔ∏è ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ –°—É–∫–Ω—è     ‚îÇ –ß–∏—Å—Ç–∫–∞ ‚îÇ 200 –≥—Ä–Ω ‚îÇ ‚úèÔ∏è üóëÔ∏è ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  [+ –î–æ–¥–∞—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç]                         ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  üí∞ –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å: 350 –≥—Ä–Ω              ‚îÇ
‚îÇ  [–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –µ—Ç–∞–ø—É]           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä **–Ü–°–ù–£–Æ–ß–Ü –î–û–ú–ï–ù–ù–Ü –°–ï–†–í–Ü–°–ò (–ì–û–¢–û–í–Ü –î–û –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø)**

### üí∞ **Pricing Domain - –ü–û–í–ù–Ü–°–¢–Æ –ì–û–¢–û–í–ò–ô**

```java
‚úÖ PriceCalculationService - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ü—ñ–Ω –∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞–º–∏
‚úÖ PriceListDomainService - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∏
‚úÖ PriceModifierCalculationService - –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ—Å–ª—É–≥–∏
‚úÖ ServiceCategoryDTO, PriceListItemDTO, PriceCalculationResponseDTO
```

### üì¶ **Order Domain - –ü–û–í–ù–Ü–°–¢–Æ –ì–û–¢–û–í–ò–ô**

```java
‚úÖ OrderFinancialService - —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω—å
‚úÖ DiscountService - –∑–Ω–∏–∂–∫–∏ —Ç–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó
‚úÖ PaymentService - —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ –æ–ø–ª–∞—Ç–∏
‚úÖ OrderEntity, OrderItemEntity, OrderRepository
```

### üë§ **Client Domain - –ü–û–í–ù–Ü–°–¢–Æ –ì–û–¢–û–í–ò–ô**

```java
‚úÖ ClientService - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏
‚úÖ ClientResponse, CreateClientRequest, UpdateClientRequest
```

### üè¢ **Branch Domain - –ü–û–í–ù–Ü–°–¢–Æ –ì–û–¢–û–í–ò–ô**

```java
‚úÖ BranchLocationService - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ—ñ–ª—ñ—è–º–∏
‚úÖ BranchLocationDTO
```

---

## üèóÔ∏è **–ê–†–•–Ü–¢–ï–ö–¢–£–†–ê STAGE 2**

### **–û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**

```
üìÅ stage2/
‚îú‚îÄ‚îÄ üéØ api/                    # REST –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏
‚îú‚îÄ‚îÄ üèóÔ∏è core/                  # –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ üñ•Ô∏è main/                  # –ì–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω (—Ç–∞–±–ª–∏—Ü—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤)
‚îú‚îÄ‚îÄ üîÑ subwizard/             # –ü—ñ–¥–≤—ñ–∑–∞—Ä–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ (2.1-2.5)
‚îú‚îÄ‚îÄ üîó integration/           # –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –¥–æ–º–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
‚îú‚îÄ‚îÄ üìä shared/                # –°–ø—ñ–ª—å–Ω—ñ DTO —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏
‚îî‚îÄ‚îÄ ‚öôÔ∏è config/                # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```

### **–ü–æ—Ç–æ–∫–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó:**

1. **–ì–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω (2.0):**

   ```
   Frontend ‚Üí API ‚Üí Core ‚Üí Main ‚Üí Integration ‚Üí Domain Services
   ```

2. **–ü—ñ–¥–≤—ñ–∑–∞—Ä–¥ (2.1-2.5):**
   ```
   Frontend ‚Üí API ‚Üí Core ‚Üí Subwizard ‚Üí Integration ‚Üí Domain Services
   ```

---

## üìã **–ü–õ–ê–ù –†–ï–ê–õ–Ü–ó–ê–¶–Ü–á –ó –í–Ü–î–ú–Ü–¢–ö–ê–ú–ò –ü–†–û–ì–†–ï–°–£**

### üéØ **–ï–¢–ê–ü 1: –Ü–ù–¢–ï–ì–†–ê–¶–Ü–ô–ù–ò–ô –®–ê–† (–ü–†–Ü–û–†–ò–¢–ï–¢)**

#### **Day 1: Domain Integration Facades**

- [x] `PricingDomainFacade` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ pricing —Å–µ—Ä–≤—ñ—Å–∞–º–∏ ‚úÖ
- [x] `OrderDomainFacade` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ order —Å–µ—Ä–≤—ñ—Å–∞–º–∏ ‚úÖ
- [x] `ClientDomainFacade` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ client —Å–µ—Ä–≤—ñ—Å–∞–º–∏ ‚úÖ
- [x] `BranchDomainFacade` - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ branch —Å–µ—Ä–≤—ñ—Å–∞–º–∏ ‚úÖ
- [ ] –¢–µ—Å—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞—Å–∞–¥—ñ–≤

#### **Day 1: Shared DTOs**

- [ ] `ItemTableRowDTO` - —Ä—è–¥–æ–∫ —Ç–∞–±–ª–∏—Ü—ñ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
- [ ] `OrderSummaryResponseDTO` - –ø—ñ–¥—Å—É–º–æ–∫ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- [ ] `SubwizardRequestDTO` - –∑–∞–ø–∏—Ç–∏ –ø—ñ–¥–≤—ñ–∑–∞—Ä–¥–∞
- [ ] `PricingCalculationDTO` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö DTO

### üèóÔ∏è **–ï–¢–ê–ü 2: CORE LAYER (–ö–û–û–†–î–ò–ù–ê–¶–Ü–Ø)**

#### **Day 2: Central Orchestration**

- [ ] `Stage2CoreService` - –≥–æ–ª–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó
- [ ] `Stage2StateMachine` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º Stage 2
- [ ] `WorkflowManager` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–±–æ—á–∏–º–∏ –ø—Ä–æ—Ü–µ—Å–∞–º–∏
- [ ] `ValidationEngine` - —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Spring State Machine

#### **Day 2: Error Handling**

- [ ] `Stage2Exception` - —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –≤–∏–Ω—è—Ç–∫–∏
- [ ] `Stage2ErrorHandler` - –≥–ª–æ–±–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- [ ] `ValidationErrorMapper` - –º–∞–ø–ø–µ—Ä –ø–æ–º–∏–ª–æ–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- [ ] –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

### üñ•Ô∏è **–ï–¢–ê–ü 3: MAIN SCREEN (–ì–û–õ–û–í–ù–ò–ô –ï–ö–†–ê–ù 2.0)**

#### **Day 3: Item Table Management**

- [ ] `ItemTableService` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü–µ—é –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
- [ ] `ItemOperationsService` - –æ–ø–µ—Ä–∞—Ü—ñ—ó CRUD –Ω–∞–¥ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏
- [ ] `TableDataProvider` - –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ –¥–∞–Ω–∏—Ö –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ
- [ ] `ItemValidationService` - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ OrderDomainFacade

#### **Day 3: Order Summary Calculation**

- [ ] `OrderSummaryService` - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—ñ–¥—Å—É–º–∫—ñ–≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- [ ] `DiscountCalculator` - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–Ω–∏–∂–æ–∫
- [ ] `TotalCalculator` - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏—Ö —Å—É–º
- [ ] `SummaryFormatter` - —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥—Å—É–º–∫—ñ–≤
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ PricingDomainFacade

#### **Day 3: Action Management**

- [ ] `ActionDispatcher` - –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- [ ] `TransitionManager` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
- [ ] `SessionManager` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Å—ñ—è–º–∏
- [ ] –û–±—Ä–æ–±–∫–∞ –¥—ñ–π: Add/Edit/Delete/Navigate

### üîÑ **–ï–¢–ê–ü 4: SUBWIZARD (–ü–Ü–î–í–Ü–ó–ê–†–î 2.1-2.5)**

#### **Day 4: Subwizard Coordination**

- [ ] `SubwizardCoordinator` - –≥–æ–ª–æ–≤–Ω–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ø—ñ–¥–≤—ñ–∑–∞—Ä–¥–∞
- [ ] `StageNavigator` - –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ –ø—ñ–¥–µ—Ç–∞–ø–∞–º–∏
- [ ] `DataCollector` - –∑–±—ñ—Ä –¥–∞–Ω–∏—Ö –∑ –ø—ñ–¥–µ—Ç–∞–ø—ñ–≤
- [ ] `SubwizardValidator` - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—ñ–¥–≤—ñ–∑–∞—Ä–¥–∞
- [ ] `ItemAssembler` - —Å–∫–ª–∞–¥–∞–Ω–Ω—è —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞

#### **Day 5: Stage 2.1 - Basic Info**

- [ ] `BasicInfoService` - –æ—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–µ–¥–º–µ—Ç
- [ ] `CategorySelector` - –≤–∏–±—ñ—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥–∏
- [ ] `PriceListProvider` - –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞
- [ ] `UnitMeasureManager` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–¥–∏–Ω–∏—Ü—è–º–∏ –≤–∏–º—ñ—Ä—É
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ PricingDomainFacade

#### **Day 5: Stage 2.2 - Characteristics**

- [ ] `CharacteristicsService` - —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–∞
- [ ] `MaterialSelector` - –≤–∏–±—ñ—Ä –º–∞—Ç–µ—Ä—ñ–∞–ª—É
- [ ] `ColorManager` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª—å–æ—Ä–∞–º–∏
- [ ] `WearLevelAssigner` - –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç—É–ø–µ–Ω—è –∑–Ω–æ—Å—É
- [ ] –î–∏–Ω–∞–º—ñ—á–Ω—ñ —Å–ø–∏—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

#### **Day 6: Stage 2.3 - Stains & Defects**

- [ ] `StainsDefectsService` - –ø–ª—è–º–∏ —Ç–∞ –¥–µ—Ñ–µ–∫—Ç–∏
- [ ] `StainAnalyzer` - –∞–Ω–∞–ª—ñ–∑ –ø–ª—è–º
- [ ] `DefectDetector` - –≤–∏—è–≤–ª–µ–Ω–Ω—è –¥–µ—Ñ–µ–∫—Ç—ñ–≤
- [ ] `RiskAssessment` - –æ—Ü—ñ–Ω–∫–∞ —Ä–∏–∑–∏–∫—ñ–≤
- [ ] `NotesManager` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–∏–º—ñ—Ç–∫–∞–º–∏

#### **Day 6: Stage 2.4 - Pricing**

- [ ] `PricingCalculationService` - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ü—ñ–Ω–∏ –ø—Ä–µ–¥–º–µ—Ç–∞
- [ ] `ModifierSelector` - –≤–∏–±—ñ—Ä –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤ —Ü—ñ–Ω–∏
- [ ] `InteractivePriceDisplay` - —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ü—ñ–Ω–∏
- [ ] `PriceBreakdownFormatter` - –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤
- [ ] –†–µ–∞–ª—å–Ω—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —á–µ—Ä–µ–∑ PricingDomainFacade

#### **Day 7: Stage 2.5 - Photo Documentation**

- [ ] `PhotoManagementService` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è–º–∏
- [ ] `FileUploadHandler` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- [ ] `ImageProcessor` - –æ–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å
- [ ] `PhotoValidator` - –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ–π
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é

### üéØ **–ï–¢–ê–ü 5: API LAYER (REST ENDPOINTS)**

#### **Day 8: REST Controllers**

- [ ] `Stage2Controller` - –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä Stage 2
- [ ] `ItemTableController` - API —Ç–∞–±–ª–∏—Ü—ñ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
- [ ] `SubwizardController` - API –ø—ñ–¥–≤—ñ–∑–∞—Ä–¥–∞
- [ ] `CalculationController` - API —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤
- [ ] Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

#### **Day 8: Request/Response Mapping**

- [ ] `Stage2RequestMapper` - –º–∞–ø–ø–µ—Ä –∑–∞–ø–∏—Ç—ñ–≤
- [ ] `Stage2ResponseMapper` - –º–∞–ø–ø–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- [ ] `ErrorResponseMapper` - –º–∞–ø–ø–µ—Ä –ø–æ–º–∏–ª–æ–∫
- [ ] `ValidationResponseMapper` - –º–∞–ø–ø–µ—Ä –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- [ ] –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –º—ñ–∂ API —Ç–∞ Domain –º–æ–¥–µ–ª—è–º–∏

### ‚úÖ **–ï–¢–ê–ü 6: TESTING & VALIDATION**

#### **Day 9: Unit Testing**

- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞—Å–∞–¥—ñ–≤
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤
- [ ] 90%+ –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏

#### **Day 9: Integration Testing**

- [ ] –¢–µ—Å—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ –¥–æ–º–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- [ ] –¢–µ—Å—Ç–∏ State Machine
- [ ] –¢–µ—Å—Ç–∏ API endpoints
- [ ] –¢–µ—Å—Ç–∏ —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
- [ ] E2E —Ç–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ REST API

#### **Day 10: Performance & Optimization**

- [ ] –ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- [ ] –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –ë–î
- [ ] –ö–µ—à—É–≤–∞–Ω–Ω—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- [ ] –§—ñ–Ω–∞–ª—å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—å–æ–≥–æ Stage 2

---

## üìÅ **–î–ï–¢–ê–õ–¨–ù–ê –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–Ü–í**

### üîó **Integration Layer**

```
integration/
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ pricing/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PricingDomainFacade.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryDataProvider.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PriceCalculationProvider.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ModifierDataProvider.java
‚îÇ   ‚îú‚îÄ‚îÄ order/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderDomainFacade.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemManager.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FinancialCalculator.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DiscountManager.java
‚îÇ   ‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ClientDomainFacade.java
‚îÇ   ‚îî‚îÄ‚îÄ branch/
‚îÇ       ‚îî‚îÄ‚îÄ BranchDomainFacade.java
‚îî‚îÄ‚îÄ mapper/
    ‚îú‚îÄ‚îÄ DomainToStage2Mapper.java
    ‚îî‚îÄ‚îÄ Stage2ToDomainMapper.java
```

### üèóÔ∏è **Core Layer**

```
core/
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ Stage2CoreService.java
‚îÇ   ‚îú‚îÄ‚îÄ WorkflowManager.java
‚îÇ   ‚îî‚îÄ‚îÄ ValidationEngine.java
‚îú‚îÄ‚îÄ statemachine/
‚îÇ   ‚îú‚îÄ‚îÄ Stage2StateMachine.java
‚îÇ   ‚îú‚îÄ‚îÄ StateTransitionHandler.java
‚îÇ   ‚îî‚îÄ‚îÄ ContextManager.java
‚îî‚îÄ‚îÄ exception/
    ‚îú‚îÄ‚îÄ Stage2Exception.java
    ‚îî‚îÄ‚îÄ Stage2ErrorHandler.java
```

### üñ•Ô∏è **Main Screen Layer**

```
main/
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ ItemTableService.java
‚îÇ   ‚îú‚îÄ‚îÄ OrderSummaryService.java
‚îÇ   ‚îú‚îÄ‚îÄ ActionDispatcher.java
‚îÇ   ‚îî‚îÄ‚îÄ SessionManager.java
‚îú‚îÄ‚îÄ calculator/
‚îÇ   ‚îú‚îÄ‚îÄ DiscountCalculator.java
‚îÇ   ‚îú‚îÄ‚îÄ TotalCalculator.java
‚îÇ   ‚îî‚îÄ‚îÄ SummaryFormatter.java
‚îî‚îÄ‚îÄ validator/
    ‚îú‚îÄ‚îÄ ItemValidationService.java
    ‚îî‚îÄ‚îÄ TableValidationService.java
```

### üîÑ **Subwizard Layer**

```
subwizard/
‚îú‚îÄ‚îÄ coordinator/
‚îÇ   ‚îú‚îÄ‚îÄ SubwizardCoordinator.java
‚îÇ   ‚îú‚îÄ‚îÄ StageNavigator.java
‚îÇ   ‚îú‚îÄ‚îÄ DataCollector.java
‚îÇ   ‚îî‚îÄ‚îÄ ItemAssembler.java
‚îú‚îÄ‚îÄ stages/
‚îÇ   ‚îú‚îÄ‚îÄ stage1/           # Basic Info (2.1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BasicInfoService.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategorySelector.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PriceListProvider.java
‚îÇ   ‚îú‚îÄ‚îÄ stage2/           # Characteristics (2.2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CharacteristicsService.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MaterialSelector.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ColorManager.java
‚îÇ   ‚îú‚îÄ‚îÄ stage3/           # Stains & Defects (2.3)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StainsDefectsService.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StainAnalyzer.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DefectDetector.java
‚îÇ   ‚îú‚îÄ‚îÄ stage4/           # Pricing (2.4)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PricingCalculationService.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModifierSelector.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ InteractivePriceDisplay.java
‚îÇ   ‚îî‚îÄ‚îÄ stage5/           # Photos (2.5)
‚îÇ       ‚îú‚îÄ‚îÄ PhotoManagementService.java
‚îÇ       ‚îú‚îÄ‚îÄ FileUploadHandler.java
‚îÇ       ‚îî‚îÄ‚îÄ ImageProcessor.java
‚îî‚îÄ‚îÄ navigation/
    ‚îú‚îÄ‚îÄ NavigationManager.java
    ‚îú‚îÄ‚îÄ ProgressTracker.java
    ‚îî‚îÄ‚îÄ ValidationGate.java
```

### üìä **Shared Layer**

```
shared/
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ request/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemActionRequestDTO.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SubwizardRequestDTO.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PricingRequestDTO.java
‚îÇ   ‚îú‚îÄ‚îÄ response/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemTableResponseDTO.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderSummaryResponseDTO.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SubwizardResponseDTO.java
‚îÇ   ‚îî‚îÄ‚îÄ internal/
‚îÇ       ‚îú‚îÄ‚îÄ ItemDataDTO.java
‚îÇ       ‚îú‚îÄ‚îÄ PricingDataDTO.java
‚îÇ       ‚îî‚îÄ‚îÄ ValidationResultDTO.java
‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îú‚îÄ‚îÄ ItemTableModel.java
‚îÇ   ‚îú‚îÄ‚îÄ OrderSummaryModel.java
‚îÇ   ‚îî‚îÄ‚îÄ SubwizardSessionModel.java
‚îú‚îÄ‚îÄ enums/
‚îÇ   ‚îú‚îÄ‚îÄ SubwizardStage.java
‚îÇ   ‚îú‚îÄ‚îÄ ItemAction.java
‚îÇ   ‚îî‚îÄ‚îÄ ValidationStatus.java
‚îî‚îÄ‚îÄ validator/
    ‚îú‚îÄ‚îÄ Stage2Validator.java
    ‚îî‚îÄ‚îÄ BusinessRuleValidator.java
```

---

## üéØ **–ü–†–ò–ù–¶–ò–ü–ò –†–û–ó–†–û–ë–ö–ò**

### **1. Real Data First**

- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ä–µ–∞–ª—å–Ω—ñ –¥–æ–º–µ–Ω–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ –∑ –ø–µ—Ä—à–æ–≥–æ –¥–Ω—è
- ‚úÖ –¢–µ—Å—Ç—É—î–º–æ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
- ‚úÖ –í–∏—è–≤–ª—è—î–º–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ä–∞–Ω—ñ—à–µ

### **2. Service Oriented Architecture**

- ‚úÖ –ö–æ–∂–µ–Ω —Å–µ—Ä–≤—ñ—Å –º–∞—î –æ–¥–Ω—É —á—ñ—Ç–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ –°–ª–∞–±–∫–µ –∑—á–µ–ø–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
- ‚úÖ –õ–µ–≥–∫–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–º—ñ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

### **3. Domain Driven Design**

- ‚úÖ –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –≤ –¥–æ–º–µ–Ω–Ω–æ–º—É —à–∞—Ä—ñ
- ‚úÖ Stage 2 —è–∫ bounded context
- ‚úÖ Ubiquitous language –≤ —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—ñ

### **4. Test Driven Development**

- ‚úÖ –¢–µ—Å—Ç–∏ –ø–∏—à—É—Ç—å—Å—è —Ä–∞–∑–æ–º –∑ –∫–æ–¥–æ–º
- ‚úÖ –í–∏—Å–æ–∫–µ –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏

### **5. API First Design**

- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- ‚úÖ –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è API
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

---

## üîÑ **–†–û–ë–û–ß–ò–ô –ü–†–û–¶–ï–°**

### **–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å:**

‚úÖ **Day 1 –ó–ê–í–ï–†–®–ï–ù–û** - Integration Layer —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ —É—Å—ñ–º–∞ 4 —Ñ–∞—Å–∞–¥–∞–º–∏

### **–©–æ–¥–µ–Ω–Ω–∏–π —Ü–∏–∫–ª —Ä–æ–∑—Ä–æ–±–∫–∏:**

1. **–†–∞–Ω–æ–∫**: –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –¥–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —á–µ–∫–ª—ñ—Å—Ç–∞
2. **–†–æ–∑—Ä–æ–±–∫–∞**: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
3. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: Unit + Integration —Ç–µ—Å—Ç–∏
4. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–µ–∞–ª—å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
5. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É

### **–ö—Ä–∏—Ç–µ—Ä—ñ—ó –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**

- ‚úÖ –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–π —Ç–∞ –≤—ñ–¥—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–∏–π
- ‚úÖ Unit —Ç–µ—Å—Ç–∏ –ø–æ–∫—Ä–∏–≤–∞—é—Ç—å –æ—Å–Ω–æ–≤–Ω—É –ª–æ–≥—ñ–∫—É
- ‚úÖ Integration —Ç–µ—Å—Ç–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (JavaDoc + README)

---

## üìà **–ú–ï–¢–†–ò–ö–ò –£–°–ü–Ü–•–£**

### **–¢–µ—Ö–Ω—ñ—á–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏:**

- ‚úÖ 90%+ –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –í—Å—ñ API endpoints –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ < 200ms
- ‚úÖ –ù—É–ª—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –í—Å—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å

### **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó:**

- ‚úÖ –ü–æ–≤–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å Order Wizard –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ü—ñ–Ω –∑ —É—Å—ñ–º–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞–º–∏
- ‚úÖ –ë–µ–∑—à–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Stage 1 —Ç–∞ Stage 3
- ‚úÖ –†–æ–±–æ—Ç–∞ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

### **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –≤–∏–º–æ–≥–∏:**

- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (–ª–µ–≥–∫–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏)
- ‚úÖ –°–ª–∞–±–∫–µ –∑—á–µ–ø–ª–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- ‚úÖ –î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤
- ‚úÖ –Ø—Å–Ω–∞ separation of concerns

---

## üöÄ **–ì–û–¢–û–í–ò–ô –†–û–ó–ü–û–ß–ê–¢–ò –†–ï–ê–õ–Ü–ó–ê–¶–Ü–Æ?**

**–ü–µ—Ä—à–∏–π –∫—Ä–æ–∫:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Integration Layer –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–æ–º–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏.

**–°—å–æ–≥–æ–¥–Ω—ñ —Ñ–æ–∫—É—Å:** PricingDomainFacade —Ç–∞ OrderDomainFacade –∑ –ø–æ–≤–Ω–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é.

**–ó–∞–≤—Ç—Ä–∞:** Core Layer —Ç–∞ –ø–µ—Ä—à–∏–π —Ä–æ–±–æ—á–∏–π Main Screen –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏.

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–∂–Ω—è:** –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Stage 2 –∑ —Ä–µ–∞–ª—å–Ω–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –≤—Å—ñ—Ö –¥–æ–º–µ–Ω—ñ–≤.

## üéØ **–î–ï–¢–ê–õ–¨–ù–Ü –ë–Ü–ó–ù–ï–°-–ü–†–ê–í–ò–õ–ê STAGE 2 (–Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ó –Ü–°–ù–£–Æ–ß–ò–ú–ò –î–û–ú–ï–ù–ê–ú–ò)**

> **‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:** –í—Å—ñ –æ–ø–∏—Å–∞–Ω—ñ –Ω–∏–∂—á–µ –¥–∞–Ω—ñ **–£–ñ–ï –Ü–°–ù–£–Æ–¢–¨** –≤ domain —Å–µ—Ä–≤—ñ—Å–∞—Ö!
> Stage 2 —Ç—ñ–ª—å–∫–∏ **–ü–Ü–î–ö–õ–Æ–ß–ê–Ñ–¢–¨–°–Ø** –¥–æ –Ω–∏—Ö —á–µ—Ä–µ–∑ Integration Layer.

### **2.0 - –ì–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤:**

#### **–¢–∞–±–ª–∏—Ü—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ (ItemTableService):**

```java
// –ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ñ:
- itemName: String          // –ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–µ–¥–º–µ—Ç–∞
- category: String          // –ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–∑ ServiceCategoryDTO)
- quantity: String          // "2 —à—Ç" –∞–±–æ "1.5 –∫–≥"
- material: String          // –ú–∞—Ç–µ—Ä—ñ–∞–ª –ø—Ä–µ–¥–º–µ—Ç–∞
- color: String             // –ö–æ–ª—ñ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞
- totalPrice: BigDecimal    // –§—ñ–Ω–∞–ª—å–Ω–∞ —Å—É–º–∞ –∑–∞ –ø—Ä–µ–¥–º–µ—Ç
- canEdit: boolean          // –ß–∏ –º–æ–∂–Ω–∞ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏
- canDelete: boolean        // –ß–∏ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏
```

#### **–õ—ñ—á–∏–ª—å–Ω–∏–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ (OrderSummaryService):**

```java
// –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏:
- itemsCount: int           // –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ñ–≤
- subtotal: BigDecimal      // –°—É–º–∞ –¥–æ –∑–Ω–∏–∂–æ–∫/–Ω–∞–¥–±–∞–≤–æ–∫
- totalPrice: BigDecimal    // –§—ñ–Ω–∞–ª—å–Ω–∞ —Å—É–º–∞
- hasItems: boolean         // –ß–∏ —î –ø—Ä–µ–¥–º–µ—Ç–∏ –≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ
```

### **2.1 - –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (BasicInfoService):**

#### **–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥ (–£–ñ–ï –Ü–°–ù–£–Æ–¢–¨ –≤ PricingDomain ‚Üí ServiceCategoryDTO):**

```java
// ‚úÖ –ì–û–¢–û–í–Ü –î–ê–ù–Ü –∑ PriceListDomainService.getAllCategories()
TEXTILE_CLEANING("CLEAN_TEXTILE", "–ß–∏—Å—Ç–∫–∞ –æ–¥—è–≥—É —Ç–∞ —Ç–µ–∫—Å—Ç–∏–ª—é"),
LAUNDRY("LAUNDRY", "–ü—Ä–∞–Ω–Ω—è –±—ñ–ª–∏–∑–Ω–∏"),
IRONING("IRONING", "–ü—Ä–∞—Å—É–≤–∞–Ω–Ω—è"),
LEATHER_CLEANING("CLEAN_LEATHER", "–ß–∏—Å—Ç–∫–∞ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —à–∫—ñ—Ä—è–Ω–∏—Ö –≤–∏—Ä–æ–±—ñ–≤"),
SHEEPSKIN("SHEEPSKIN", "–î—É–±–ª—è–Ω–∫–∏"),
FUR("FUR", "–í–∏—Ä–æ–±–∏ —ñ–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ —Ö—É—Ç—Ä–∞"),
TEXTILE_DYEING("DYE_TEXTILE", "–§–∞—Ä–±—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–∏—Ö –≤–∏—Ä–æ–±—ñ–≤")
```

#### **–ù–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –≤–∏—Ä–æ–±—ñ–≤ (–£–ñ–ï –Ü–°–ù–£–Æ–¢–¨ –≤ PricingDomain ‚Üí PriceListItemDTO):**

```java
// ‚úÖ –ì–û–¢–û–í–Ü –î–ê–ù–Ü –∑ PriceListDomainService.getPriceListItemsByCategory(categoryCode)
// –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–∏–±—Ä–∞–Ω–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
// –ö–æ–∂–µ–Ω PriceListItemDTO –º—ñ—Å—Ç–∏—Ç—å: name, basePrice, unitOfMeasure
```

#### **–û–¥–∏–Ω–∏—Ü—ñ –≤–∏–º—ñ—Ä—É (UnitMeasureManager):**

```java
PIECES("—à—Ç"),       // –î–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏—Ä–æ–±—ñ–≤
KILOGRAMS("–∫–≥")     // –î–ª—è –±—ñ–ª–∏–∑–Ω–∏ —Ç–∞ –ø–µ–≤–Ω–∏—Ö —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–∏—Ö –≤–∏—Ä–æ–±—ñ–≤
```

### **2.2 - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (CharacteristicsService):**

#### **–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ (MaterialSelector):**

```java
// –ó–∞–≥–∞–ª—å–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏:
COTTON("–ë–∞–≤–æ–≤–Ω–∞"),
WOOL("–®–µ—Ä—Å—Ç—å"),
SILK("–®–æ–≤–∫"),
SYNTHETIC("–°–∏–Ω—Ç–µ—Ç–∏–∫–∞"),

// –î–ª—è —à–∫—ñ—Ä—è–Ω–∏—Ö –≤–∏—Ä–æ–±—ñ–≤:
SMOOTH_LEATHER("–ì–ª–∞–¥–∫–∞ —à–∫—ñ—Ä–∞"),
NUBUCK("–ù—É–±—É–∫"),
SUEDE("–ó–∞–º—à–∞"),
SPLIT_LEATHER("–°–ø—ñ–ª–æ–∫")
```

#### **–ö–æ–ª—å–æ—Ä–∏ (ColorManager):**

```java
// –ë–∞–∑–æ–≤—ñ –∫–æ–ª—å–æ—Ä–∏ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –≤–∏–±–æ—Ä—É:
BLACK, WHITE, RED, BLUE, GREEN, YELLOW, BROWN, GRAY, OTHER

// + customColor: String –¥–ª—è –≤–ª–∞—Å–Ω–æ–≥–æ –∫–æ–ª—å–æ—Ä—É
```

#### **–ù–∞–ø–æ–≤–Ω—é–≤–∞—á—ñ (–¥–ª—è –ø–µ–≤–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π):**

```java
DOWN("–ü—É—Ö"),
SYNTHETIC_PADDING("–°–∏–Ω—Ç–µ–ø–æ–Ω"),
OTHER("–Ü–Ω—à–µ"),
// + isDamagedFilling: boolean "–ó–±–∏—Ç–∏–π –Ω–∞–ø–æ–≤–Ω—é–≤–∞—á"
```

#### **–°—Ç—É–ø—ñ–Ω—å –∑–Ω–æ—Å—É (WearLevelAssigner):**

```java
WEAR_10(10, "10%"),
WEAR_30(30, "30%"),
WEAR_50(50, "50%"),
WEAR_75(75, "75%")
```

### **2.3 - –ó–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è —Ç–∞ –¥–µ—Ñ–µ–∫—Ç–∏ (StainsDefectsService):**

#### **–¢–∏–ø–∏ –ø–ª—è–º (StainAnalyzer - –º—É–ª—å—Ç–∏–≤–∏–±—ñ—Ä):**

```java
GREASE("–ñ–∏—Ä"),
BLOOD("–ö—Ä–æ–≤"),
PROTEIN("–ë—ñ–ª–æ–∫"),
WINE("–í–∏–Ω–æ"),
COFFEE("–ö–∞–≤–∞"),
GRASS("–¢—Ä–∞–≤–∞"),
INK("–ß–æ—Ä–Ω–∏–ª–æ"),
COSMETICS("–ö–æ—Å–º–µ—Ç–∏–∫–∞"),
OTHER("–Ü–Ω—à–µ") // + customStain: String
```

#### **–î–µ—Ñ–µ–∫—Ç–∏ —Ç–∞ —Ä–∏–∑–∏–∫–∏ (DefectDetector - –º—É–ª—å—Ç–∏–≤–∏–±—ñ—Ä):**

```java
WEAR_MARKS("–ü–æ—Ç–µ—Ä—Ç–æ—Å—Ç—ñ"),
TORN("–ü–æ—Ä–≤–∞–Ω–µ"),
MISSING_HARDWARE("–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ñ—É—Ä–Ω—ñ—Ç—É—Ä–∏"),
DAMAGED_HARDWARE("–ü–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è —Ñ—É—Ä–Ω—ñ—Ç—É—Ä–∏"),
COLOR_CHANGE_RISK("–†–∏–∑–∏–∫–∏ –∑–º—ñ–Ω–∏ –∫–æ–ª—å–æ—Ä—É"),
DEFORMATION_RISK("–†–∏–∑–∏–∫–∏ –¥–µ—Ñ–æ—Ä–º–∞—Ü—ñ—ó"),
NO_WARRANTY("–ë–µ–∑ –≥–∞—Ä–∞–Ω—Ç—ñ–π") // + warningReason: String (–æ–±–æ–≤'—è–∑–∫–æ–≤–µ)
```

#### **–ü—Ä–∏–º—ñ—Ç–∫–∏ (NotesManager):**

```java
defectNotes: String // –ü—Ä–∏–º—ñ—Ç–∫–∏ —â–æ–¥–æ –¥–µ—Ñ–µ–∫—Ç—ñ–≤
```

### **2.4 - –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ü—ñ–Ω–∏ (PricingCalculationService):**

#### **–ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞ (–£–ñ–ï –Ü–°–ù–£–Ñ in PricingDomain ‚Üí PriceCalculationService):**

```java
// ‚úÖ –ì–û–¢–û–í–ò–ô –°–ï–†–í–Ü–°: PriceCalculationService.calculatePrice(categoryCode, itemName, color)
// –ú–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –¥–ª—è —á–æ—Ä–Ω–æ–≥–æ/—Å–≤—ñ—Ç–ª–∏—Ö –∫–æ–ª—å–æ—Ä—ñ–≤
```

#### **–ó–∞–≥–∞–ª—å–Ω—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ (–£–ñ–ï –Ü–°–ù–£–Æ–¢–¨ in PricingDomain ‚Üí PriceModifierCalculationService):**

```java
// ‚úÖ –ì–û–¢–û–í–Ü –ú–û–î–ò–§–Ü–ö–ê–¢–û–†–ò –∑ PriceModifierCalculationService
CHILDREN_ITEMS(30, "–î–∏—Ç—è—á—ñ —Ä–µ—á—ñ (–¥–æ 30 —Ä–æ–∑–º—ñ—Ä—É)"),      // -30%
HAND_CLEANING(20, "–†—É—á–Ω–∞ —á–∏—Å—Ç–∫–∞"),                       // +20%
HEAVILY_SOILED(20, 100, "–î—É–∂–µ –∑–∞–±—Ä—É–¥–Ω–µ–Ω—ñ —Ä–µ—á—ñ"),        // +20% –¥–æ +100%
EXPRESS_CLEANING(50, 100, "–¢–µ—Ä–º—ñ–Ω–æ–≤–∞ —á–∏—Å—Ç–∫–∞")           // +50% –¥–æ +100%
```

#### **–ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∏–ª—é (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π):**

```java
FUR_COLLAR_CUFFS(30, "–•—É—Ç—Ä—è–Ω—ñ –∫–æ–º—ñ—Ä–∏ —Ç–∞ –º–∞–Ω–∂–µ—Ç–∏"),                    // +30%
WATER_REPELLENT(30, "–í–æ–¥–æ–≤—ñ–¥—à—Ç–æ–≤—Ö—É—é—á–µ –ø–æ–∫—Ä–∏—Ç—Ç—è"),                     // +30%
NATURAL_SILK(50, "–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π —à–æ–≤–∫, –∞—Ç–ª–∞—Å, —à–∏—Ñ–æ–Ω"),                   // +50%
COMBINED_MATERIALS(100, "–ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω—ñ –≤–∏—Ä–æ–±–∏ (—à–∫—ñ—Ä–∞+—Ç–µ–∫—Å—Ç–∏–ª—å)"),       // +100%
LARGE_TOYS(100, "–í–µ–ª–∏–∫—ñ –º'—è–∫—ñ —ñ–≥—Ä–∞—à–∫–∏"),                              // +100%
BUTTON_SEWING("–ü—Ä–∏—à–∏–≤–∞–Ω–Ω—è –≥—É–¥–∑–∏–∫—ñ–≤"),                                  // —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ —Ü—ñ–Ω–∞
BLACK_LIGHT_COLORS(20, "–ß–æ—Ä–Ω—ñ —Ç–∞ —Å–≤—ñ—Ç–ª—ñ —Ç–æ–Ω–∏"),                       // +20%
WEDDING_DRESS_TRAIN(30, "–í–µ—Å—ñ–ª—å–Ω–∞ —Å—É–∫–Ω—è –∑—ñ —à–ª–µ–π—Ñ–æ–º")                  // +30%
```

#### **–ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –¥–ª—è —à–∫—ñ—Ä–∏ (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —à–∫—ñ—Ä—è–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π):**

```java
LEATHER_IRONING(70, "–ü—Ä–∞—Å—É–≤–∞–Ω–Ω—è —à–∫—ñ—Ä—è–Ω–∏—Ö –≤–∏—Ä–æ–±—ñ–≤"),                   // 70% –≤—ñ–¥ —á–∏—Å—Ç–∫–∏
LEATHER_WATER_REPELLENT(30, "–í–æ–¥–æ–≤—ñ–¥—à—Ç–æ–≤—Ö—É—é—á–µ –ø–æ–∫—Ä–∏—Ç—Ç—è"),            // +30%
DYEING_AFTER_OUR_CLEANING(50, "–§–∞—Ä–±—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –Ω–∞—à–æ—ó —á–∏—Å—Ç–∫–∏"),      // +50%
DYEING_AFTER_OTHER_CLEANING(100, "–§–∞—Ä–±—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è —á–∏—Å—Ç–∫–∏ –¥–µ—ñ–Ω–¥–µ"),  // 100% –≤—ñ–¥ —á–∏—Å—Ç–∫–∏
LEATHER_INSERTS(30, "–í—Å—Ç–∞–≤–∫–∏ (—à–∫—ñ—Ä–∞ —ñ–Ω—à–æ–≥–æ –∫–æ–ª—å–æ—Ä—É, —Ç–µ–∫—Å—Ç–∏–ª—å)"),     // +30%
PEARL_COATING(30, "–ü–µ—Ä–ª–∞–º—É—Ç—Ä–æ–≤–µ –ø–æ–∫—Ä–∏—Ç—Ç—è"),                           // +30%
ARTIFICIAL_FUR_SHEEPSKIN(-20, "–î—É–±–ª—è–Ω–∫–∏ –Ω–∞ —à—Ç—É—á–Ω–æ–º—É —Ö—É—Ç—Ä—ñ"),          // -20%
LEATHER_BUTTON_SEWING("–ü—Ä–∏—à–∏–≤–∞–Ω–Ω—è –≥—É–¥–∑–∏–∫—ñ–≤"),                         // —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ —Ü—ñ–Ω–∞
HAND_LEATHER_CLEANING(30, "–†—É—á–Ω–∞ —á–∏—Å—Ç–∫–∞ —à–∫—ñ—Ä–∏")                      // +30%
```

#### **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ (InteractivePriceDisplay):**

```java
PriceBreakdown {
    basePrice: BigDecimal,
    appliedModifiers: List<ModifierCalculation>,
    intermediateCalculations: List<String>,  // –ø–æ–∫—Ä–æ–∫–æ–≤—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏
    finalPrice: BigDecimal
}

ModifierCalculation {
    modifierName: String,
    modifierType: ModifierType,  // PERCENTAGE, FIXED_AMOUNT, REPLACEMENT
    originalValue: BigDecimal,   // –≤—ñ–¥—Å–æ—Ç–æ–∫ –∞–±–æ —Å—É–º–∞
    appliedAmount: BigDecimal,   // —Ä–µ–∞–ª—å–Ω–∞ —Å—É–º–∞ –≤–ø–ª–∏–≤—É
    description: String
}
```

### **2.5 - –§–æ—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (PhotoManagementService):**

#### **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–∞–π–ª–∞–º–∏ (FileUploadHandler):**

```java
PhotoUploadRequest {
    files: List<MultipartFile>,  // –¥–æ 5 —Ñ–∞–π–ª—ñ–≤
    maxFileSize: 5MB,           // –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É
    allowedTypes: ["image/jpeg", "image/png", "image/webp"]
}

PhotoProcessingResult {
    originalFiles: List<FileMetadata>,
    compressedFiles: List<FileMetadata>,  // —Å—Ç–∏—Å–Ω–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó
    thumbnails: List<FileMetadata>,       // –º—ñ–Ω—ñ–∞—Ç—é—Ä–∏
    validationErrors: List<String>
}
```

#### **–û–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å (ImageProcessor):**

```java
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è > 2MB
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –º—ñ–Ω—ñ–∞—Ç—é—Ä 150x150px
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤ WebP –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
- EXIF –¥–∞–Ω—ñ –¥–ª—è –º–µ—Ç–∞—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
```

---

## üîó **–ü–Ü–î–°–£–ú–û–ö: –Ü–ù–¢–ï–ì–†–ê–¶–Ü–ô–ù–ò–ô –ü–Ü–î–•–Ü–î**

### **üéØ –©–û –í–ñ–ï –ì–û–¢–û–í–ï (–Ω–µ —Ç—Ä–µ–±–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏):**

```java
‚úÖ –í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–æ—Å–ª—É–≥         ‚Üí ServiceCategoryDTO
‚úÖ –í—Å—ñ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∏              ‚Üí PriceListItemDTO
‚úÖ –í—Å—ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ —Ü—ñ–Ω         ‚Üí PriceModifierCalculationService
‚úÖ –í—Å—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —Ü—ñ–Ω           ‚Üí PriceCalculationService
‚úÖ –í—Å—ñ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó       ‚Üí OrderFinancialService
‚úÖ –í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏     ‚Üí ClientService
‚úÖ –í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ñ—ñ–ª—ñ—è–º–∏       ‚Üí BranchLocationService
```

### **üéØ –©–û –¢–†–ï–ë–ê –°–¢–í–û–†–ò–¢–ò (—Ç—ñ–ª—å–∫–∏ Integration Layer):**

```java
PricingDomainFacade    ‚Üí –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PricingDomain
OrderDomainFacade      ‚Üí –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ OrderDomain
ClientDomainFacade     ‚Üí –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ ClientDomain
BranchDomainFacade     ‚Üí –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ BranchDomain

+ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è + UI –ª–æ–≥—ñ–∫–∞ + State Machine
```

---

## üîó **–Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ó SPRING STATE MACHINE**

### **State Machine Context Data:**

```java
Stage2Context {
    // –ö–û–ù–¢–ï–ö–°–¢ –ó STAGE 1 (–Ω–∞—Å–ª—ñ–¥—É—î–º–æ)
    orderId: UUID,                    // ID –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
    clientId: UUID,                   // ID –∫–ª—ñ—î–Ω—Ç–∞ –∑ Stage 1
    branchId: UUID,                   // ID —Ñ—ñ–ª—ñ—ó –∑ Stage 1
    receiptNumber: String,            // –ù–æ–º–µ—Ä –∫–≤–∏—Ç–∞–Ω—Ü—ñ—ó
    uniqueLabel: String,              // –£–Ω—ñ–∫–∞–ª—å–Ω–∞ –º—ñ—Ç–∫–∞
    createdDate: LocalDateTime,       // –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

    // –ì–û–õ–û–í–ù–ò–ô –ï–ö–†–ê–ù STAGE 2
    itemTableData: List<ItemTableRowDTO>,
    orderSummary: OrderSummaryResponseDTO,

    // –ü–Ü–î–í–Ü–ó–ê–†–î STAGE 2
    currentSubwizardSession: SubwizardSessionDTO,
    currentStage: SubwizardStage,

    // –î–ê–ù–Ü –ü–Ü–î–í–Ü–ó–ê–†–î–ê
    basicInfo: BasicInfoDTO,
    characteristics: CharacteristicsDTO,
    stainsDefects: StainsDefectsDTO,
    pricing: PricingCalculationDTO,
    photos: List<PhotoMetadataDTO>,

    // –í–ê–õ–Ü–î–ê–¶–Ü–Ø
    validationResults: ValidationResultDTO,
    canProceedToNextStage: boolean,
    canCompleteSubwizard: boolean
}
```

### **Events –¥–ª—è State Machine:**

```java
// –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø STAGE 2 (–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∑ Stage 1)
INITIALIZE_STAGE2,
LOAD_ORDER_CONTEXT,
VALIDATE_STAGE1_COMPLETION,

// –ì–û–õ–û–í–ù–ò–ô –ï–ö–†–ê–ù
LOAD_ITEM_TABLE,
ADD_NEW_ITEM,
EDIT_EXISTING_ITEM,
DELETE_ITEM,
REFRESH_ORDER_SUMMARY,

// –ü–Ü–î–í–Ü–ó–ê–†–î –ù–ê–í–Ü–ì–ê–¶–Ü–Ø
START_SUBWIZARD,
PROCEED_TO_NEXT_STAGE,
GO_BACK_TO_PREVIOUS_STAGE,
COMPLETE_SUBWIZARD,
CANCEL_SUBWIZARD,

// –í–ê–õ–Ü–î–ê–¶–Ü–Ø
VALIDATE_CURRENT_STAGE,
VALIDATE_FULL_ITEM,
VALIDATE_ORDER_INTEGRITY,      // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —â–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è + –∫–ª—ñ—î–Ω—Ç + —Ñ—ñ–ª—ñ—è –≤–∞–ª—ñ–¥–Ω—ñ

// –†–û–ó–†–ê–•–£–ù–ö–ò
RECALCULATE_PRICE,
APPLY_MODIFIERS,
UPDATE_TOTAL_PRICE,

// –ü–ï–†–ï–•–Ü–î –î–û STAGE 3
COMPLETE_STAGE2,
PREPARE_FOR_STAGE3
```

---

## üéØ **–û–ù–û–í–õ–ï–ù–Ü –ï–¢–ê–ü–ò –†–ï–ê–õ–Ü–ó–ê–¶–Ü–á**
