# Endpoints для розрахунків цін
/api/calculate/item:
  post:
    tags:
      - item-calculations
    summary: Розрахувати вартість предмета з усіма модифікаторами
    operationId: calculateItemPrice
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/item-requests.yaml#/ItemCalculationRequest"
    responses:
      200:
        description: Розрахунок виконано
        content:
          application/json:
            schema:
              $ref: "../schemas/item-responses.yaml#/ItemCalculationResponse"
      400:
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
      404:
        description: Предмет або модифікатор не знайдено
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"

/api/calculate/item/preview:
  post:
    tags:
      - item-calculations
    summary: Попередній розрахунок для інтерактивного калькулятора
    description: Швидкий розрахунок без збереження для відображення в реальному часі
    operationId: previewItemPrice
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/item-requests.yaml#/ItemCalculationRequest"
    responses:
      200:
        description: Попередній розрахунок
        content:
          application/json:
            schema:
              $ref: "../schemas/item-responses.yaml#/ItemPricePreviewResponse"

/api/calculate/order-summary:
  post:
    tags:
      - item-calculations
    summary: Розрахувати загальну вартість замовлення
    operationId: calculateOrderSummary
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/item-requests.yaml#/CalculateOrderSummaryRequest"
    responses:
      200:
        description: Підсумок розрахунку
        content:
          application/json:
            schema:
              $ref: "../schemas/item-responses.yaml#/OrderSummaryResponse"
