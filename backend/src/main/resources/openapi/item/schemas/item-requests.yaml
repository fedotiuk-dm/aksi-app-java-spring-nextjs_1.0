# Request схеми для Item домену

ItemCharacteristicsRequest:
  type: object
  title: ItemCharacteristicsRequest
  required:
    - material
    - color
  properties:
    material:
      $ref: "../../order/schemas/price-modifiers.yaml#/MaterialType"
      description: Матеріал виробу
      nullable: false
    color:
      $ref: "./item-enums.yaml#/ItemColor"
      description: Колір виробу (базовий колір для швидкого вибору)
      nullable: false
    customColor:
      type: string
      maxLength: 50
      description: Кастомний колір (обов'язковий тільки якщо вибрано OTHER)
      example: "темно-бордовий"
      nullable: true
    filling:
      $ref: "../../order/schemas/price-modifiers.yaml#/FillingType"
      description: Наповнювач
      nullable: false
    wearDegree:
      $ref: "../../order/schemas/order-enums.yaml#/WearDegreeType"
      description: Ступінь зносу виробу
      nullable: false
    stains:
      type: array
      items:
        $ref: "../../order/schemas/order-item-schemas.yaml#/StainType"
      description: Типи плям
      maxItems: 10
      nullable: false
    customStain:
      type: string
      maxLength: 100
      description: Опис кастомної плями (якщо вибрано OTHER)
      nullable: false
    defects:
      type: array
      items:
        $ref: "../../order/schemas/order-item-schemas.yaml#/DefectType"
      description: Дефекти та ризики
      maxItems: 10
      nullable: false
    defectNotes:
      type: string
      maxLength: 500
      description: Примітки щодо дефектів
      nullable: false
    hasRisks:
      type: boolean
      description: Наявність ризиків
      nullable: false
    riskDescription:
      type: string
      maxLength: 500
      description: Опис ризиків
      nullable: false
    photos:
      type: array
      items:
        type: string
        format: uri
      maxItems: 5
      description: URL фотографій предмета (максимум 5 фото)
      nullable: false

# Service Category Requests
CreateServiceCategoryRequest:
  type: object
  title: CreateServiceCategoryRequest
  description: Запит на створення нової категорії послуг
  required:
    - code
    - name
    - standardDays
  properties:
    code:
      type: string
      maxLength: 20
      description: Унікальний код категорії
      example: "DRY_CLEANING"
      nullable: false
    name:
      type: string
      maxLength: 100
      description: Назва категорії
      example: "Хімчистка"
      nullable: false
    description:
      type: string
      maxLength: 500
      description: Опис категорії
      example: "Хімічне чищення одягу"
      nullable: false
    parentId:
      type: string
      format: uuid
      description: Ідентифікатор батьківської категорії
      nullable: false
    standardDays:
      type: integer
      minimum: 1
      maximum: 30
      description: Стандартний термін виконання в днях
      example: 3
      nullable: false
    isActive:
      type: boolean
      default: true
      description: Чи активна категорія
      nullable: false

UpdateServiceCategoryRequest:
  type: object
  title: UpdateServiceCategoryRequest
  description: Запит на оновлення категорії послуг
  properties:
    name:
      type: string
      maxLength: 100
      description: Назва категорії
      example: "Хімчистка"
      nullable: false
    description:
      type: string
      maxLength: 500
      description: Опис категорії
      example: "Хімічне чищення одягу"
      nullable: false
    standardDays:
      type: integer
      minimum: 1
      maximum: 30
      description: Стандартний термін виконання в днях
      example: 3
      nullable: false
    isActive:
      type: boolean
      description: Чи активна категорія
      nullable: false

# Price List Item Requests
CreatePriceListItemRequest:
  type: object
  title: CreatePriceListItemRequest
  description: Запит на створення нового предмета в прайс-листі
  required:
    - categoryId
    - catalogNumber
    - name
    - unitOfMeasure
    - basePrice
  properties:
    categoryId:
      type: string
      format: uuid
      description: Ідентифікатор категорії
      nullable: false
    catalogNumber:
      type: integer
      minimum: 1
      description: Каталоговий номер предмета
      example: 1
      nullable: false
    name:
      type: string
      maxLength: 255
      description: Назва предмета
      example: "Піджак, кітель"
      nullable: false
    unitOfMeasure:
      $ref: "../../order/schemas/price-modifiers.yaml#/UnitType"
      description: Одиниця виміру
      example: "шт"
      nullable: false
    basePrice:
      type: number
      format: double
      minimum: 0
      description: Базова ціна
      example: 480.00
      nullable: false
    priceBlack:
      type: number
      format: double
      minimum: 0
      description: Ціна для чорних речей (опціонально)
      example: null
    priceColor:
      type: number
      format: double
      minimum: 0
      description: Ціна для кольорових речей (опціонально)
      example: 700.00
    isActive:
      type: boolean
      default: true
      description: Чи активний предмет
      nullable: false

UpdatePriceListItemRequest:
  type: object
  title: UpdatePriceListItemRequest
  description: Запит на оновлення предмета в прайс-листі
  properties:
    name:
      type: string
      maxLength: 255
      description: Назва предмета
      example: "Піджак, кітель"
      nullable: false
    unitOfMeasure:
      $ref: "../../order/schemas/price-modifiers.yaml#/UnitType"
      description: Одиниця виміру
      example: "шт"
      nullable: false
    basePrice:
      type: number
      format: double
      minimum: 0
      description: Базова ціна
      example: 480.00
      nullable: false
    priceBlack:
      type: number
      format: double
      minimum: 0
      description: Ціна для чорних речей (опціонально)
      example: null
    priceColor:
      type: number
      format: double
      minimum: 0
      description: Ціна для кольорових речей (опціонально)
      example: 700.00
    isActive:
      type: boolean
      description: Чи активний предмет
      nullable: false

# Price Modifier Requests
CreatePriceModifierRequest:
  type: object
  title: CreatePriceModifierRequest
  description: Запит на створення нового модифікатора ціни
  required:
    - code
    - name
    - type
    - value
  properties:
    code:
      type: string
      maxLength: 50
      description: Унікальний код модифікатора
      example: "CHILDREN_ITEMS"
      nullable: false
    name:
      type: string
      maxLength: 200
      description: Назва модифікатора
      example: "Дитячі речі (до 30 розміру)"
      nullable: false
    type:
      $ref: "../../order/schemas/order-enums.yaml#/ModifierType"
      description: Тип модифікатора
      nullable: false
    value:
      type: number
      format: double
      description: Значення модифікатора
      example: 30.0
      nullable: false
    applicableTo:
      type: array
      items:
        type: string
        format: uuid
      description: Категорії, до яких застосовується модифікатор
      nullable: false
    description:
      type: string
      maxLength: 500
      description: Опис модифікатора
      example: "Знижка для дитячих речей"
      nullable: false
    isActive:
      type: boolean
      default: true
      description: Чи активний модифікатор
      nullable: false

UpdatePriceModifierRequest:
  type: object
  title: UpdatePriceModifierRequest
  description: Запит на оновлення модифікатора ціни
  properties:
    name:
      type: string
      maxLength: 200
      description: Назва модифікатора
      example: "Дитячі речі (до 30 розміру)"
      nullable: false
    value:
      type: number
      format: double
      description: Значення модифікатора
      example: 30.0
      nullable: false
    applicableTo:
      type: array
      items:
        type: string
        format: uuid
      description: Категорії, до яких застосовується модифікатор
      nullable: false
    description:
      type: string
      maxLength: 500
      description: Опис модифікатора
      example: "Знижка для дитячих речей"
      nullable: false
    isActive:
      type: boolean
      description: Чи активний модифікатор
      nullable: false

# Item Calculation Request for Order Summary
ItemCalculationRequest:
  type: object
  title: ItemCalculationRequest
  description: Предмет для розрахунку в замовленні
  required:
    - priceListItemId
    - quantity
  properties:
    priceListItemId:
      type: string
      format: uuid
      description: Ідентифікатор предмета з прайс-листа
      nullable: false
    quantity:
      type: integer
      minimum: 1
      description: Кількість предметів
      example: 2
      nullable: false
    appliedModifiers:
      type: array
      items:
        type: string
        format: uuid
      description: Список модифікаторів для застосування
      example: ["CHILDREN_ITEMS", "URGENT_SERVICE"]
      nullable: false
    urgency:
      $ref: "../../order/schemas/order-enums.yaml#/UrgencyType"
      description: Терміновість для конкретного предмета
      default: NORMAL
      nullable: false
    characteristics:
      $ref: "#/ItemCharacteristicsRequest"
      description: Характеристики предмета для розрахунку (матеріал, колір, плями, дефекти тощо)

# Order Summary Calculation Requests
CalculateOrderSummaryRequest:
  type: object
  title: CalculateOrderSummaryRequest
  description: Запит на розрахунок загальної вартості замовлення
  required:
    - items
  properties:
    items:
      type: array
      items:
        $ref: "#/ItemCalculationRequest"
      minItems: 1
      description: Список предметів для розрахунку
      nullable: false
    discount:
      type: object
      title: OrderDiscountInfo
      description: Інформація про знижку
      properties:
        type:
          $ref: "../../order/schemas/order-enums.yaml#/DiscountType"
          description: Тип знижки
          nullable: false
        value:
          type: number
          format: double
          minimum: 0
          description: Значення знижки
          example: 10.00
          nullable: false
    urgency:
      $ref: "../../order/schemas/order-enums.yaml#/UrgencyType"
      description: Загальна терміновість замовлення
      default: NORMAL
      nullable: false

# Photo Upload Requests
UploadItemPhotoRequest:
  type: object
  title: UploadItemPhotoRequest
  description: Запит на завантаження фото предмета
  required:
    - file
    - itemId
  properties:
    itemId:
      type: string
      format: uuid
      description: Ідентифікатор предмета
      nullable: false
    file:
      type: string
      format: binary
      description: Файл зображення
      nullable: false
    description:
      type: string
      maxLength: 500
      description: Опис фотографії
      example: "Фото дефекту на рукаві"
      nullable: false
    photoType:
      $ref: "./item-enums.yaml#/PhotoType"
      description: Тип фотографії
      nullable: false
    isMain:
      type: boolean
      default: false
      description: Чи є це основна фотографія предмета
      nullable: false

UpdatePhotoMetadataRequest:
  type: object
  title: UpdatePhotoMetadataRequest
  description: Запит на оновлення метаданих фотографії
  properties:
    description:
      type: string
      maxLength: 500
      description: Опис фотографії
      example: "Фото дефекту на рукаві"
      nullable: false
    photoType:
      $ref: "./item-enums.yaml#/PhotoType"
      description: Тип фотографії
      nullable: false
    isMain:
      type: boolean
      description: Чи є це основна фотографія предмета
      nullable: false
