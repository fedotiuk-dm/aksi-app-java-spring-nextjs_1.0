# Response схеми для Item домену
ServiceCategoryResponse:
  type: object
  title: ServiceCategoryResponse
  required:
    - id
    - code
    - name
    - standardDays
    - isActive
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    code:
      type: string
      description: Унікальний код категорії
      example: TEXTILE_CLEANING
    name:
      type: string
      description: Назва категорії
      example: Чистка одягу та текстилю
    description:
      type: string
      description: Опис категорії
    parentId:
      $ref: "../../common/schemas/base.yaml#/UUID"
    standardDays:
      type: integer
      description: Стандартний термін виконання в днях
      example: 2
    isActive:
      type: boolean
      description: Чи активна категорія
    availableMaterials:
      type: array
      items:
        type: string
      description: Доступні матеріали для категорії
    availableModifiers:
      type: array
      items:
        type: string
        format: uuid
      description: Доступні модифікатори для категорії
    itemsCount:
      type: integer
      description: Кількість предметів в категорії

PriceListItemResponse:
  type: object
  title: PriceListItemResponse
  required:
    - id
    - categoryId
    - catalogNumber
    - name
    - unitOfMeasure
    - basePrice
    - isActive
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    categoryId:
      $ref: "../../common/schemas/base.yaml#/UUID"
    categoryInfo:
      $ref: "#/ServiceCategorySummary"
    catalogNumber:
      type: integer
      description: Каталоговий номер предмета
      example: 8
    name:
      type: string
      description: Назва предмета
      example: "Піджак, кітель"
    unitOfMeasure:
      $ref: "../../order/schemas/price-modifiers.yaml#/UnitType"
      description: Одиниця виміру
      example: "шт"
    basePrice:
      type: number
      format: double
      description: Базова ціна
      example: 480.0
    priceBlack:
      type: number
      format: double
      description: Ціна для чорних речей (може бути null)
      example: null
    priceColor:
      type: number
      format: double
      description: Ціна для кольорових речей (може бути null)
      example: 700.0
    isActive:
      type: boolean
      description: Чи активний предмет
  allOf:
    - $ref: "../../common/schemas/base.yaml#/TimestampProperties"

PriceModifierResponse:
  type: object
  title: PriceModifierResponse
  required:
    - id
    - code
    - name
    - type
    - value
    - isActive
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    code:
      type: string
      description: Унікальний код модифікатора
      example: CHILDREN_ITEMS
    name:
      type: string
      description: Назва модифікатора
      example: Дитячі речі (до 30 розміру)
    type:
      $ref: "../../order/schemas/order-enums.yaml#/ModifierType"
    value:
      type: number
      format: double
      description: Значення модифікатора
      example: 30.0
    applicableTo:
      type: array
      items:
        type: string
        format: uuid
      description: Категорії, до яких застосовується
    isActive:
      type: boolean
      description: Чи активний модифікатор
    description:
      type: string
      description: Опис модифікатора

ItemCalculationResponse:
  type: object
  title: ItemCalculationResponse
  properties:
    priceListItemId:
      $ref: "../../common/schemas/base.yaml#/UUID"
    itemName:
      type: string
    quantity:
      type: integer
    basePrice:
      type: number
      format: double
      description: Базова ціна за одиницю
    totalBasePrice:
      type: number
      format: double
      description: Базова ціна за кількість
    appliedModifiers:
      type: array
      items:
        $ref: "#/AppliedModifierResult"
      description: Застосовані модифікатори
    modifiersTotal:
      type: number
      format: double
      description: Загальна сума модифікаторів
    subtotal:
      type: number
      format: double
      description: Проміжна сума
    urgencyCharge:
      type: number
      format: double
      description: Надбавка за терміновість
    finalPrice:
      type: number
      format: double
      description: Фінальна ціна
    calculationSteps:
      type: array
      items:
        $ref: "#/CalculationStep"
      description: Детальні кроки розрахунку
    warnings:
      type: array
      items:
        type: string
      description: Попередження щодо розрахунку

PhotoResponse:
  type: object
  title: PhotoResponse
  required:
    - id
    - itemId
    - filename
    - url
    - uploadedAt
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    itemId:
      $ref: "../../common/schemas/base.yaml#/UUID"
    filename:
      type: string
      description: Ім'я файлу
    originalFilename:
      type: string
      description: Оригінальне ім'я файлу
    url:
      type: string
      format: uri
      description: URL для доступу до фотографії
    thumbnailUrl:
      type: string
      format: uri
      description: URL мініатюри
    fileSize:
      type: integer
      format: int64
      description: Розмір файлу в байтах
    mimeType:
      type: string
      description: MIME тип файлу
      example: image/jpeg
    description:
      type: string
      description: Опис фотографії
    uploadedAt:
      $ref: "../../common/schemas/base.yaml#/Timestamp"

PriceListPageResponse:
  type: object
  title: PriceListPageResponse
  properties:
    content:
      type: array
      items:
        $ref: "#/PriceListItemResponse"
    pageable:
      $ref: "../../common/schemas/pagination.yaml#/PageableInfo"

ServiceCategorySummary:
  type: object
  title: ServiceCategorySummary
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    code:
      type: string
    name:
      type: string
    standardDays:
      type: integer

AppliedModifierResult:
  type: object
  title: AppliedModifierResult
  properties:
    modifierId:
      $ref: "../../common/schemas/base.yaml#/UUID"
    name:
      type: string
    type:
      $ref: "../../order/schemas/order-enums.yaml#/ModifierType"
    value:
      type: number
      format: double
    appliedAmount:
      type: number
      format: double
    description:
      type: string

CalculationStep:
  type: object
  title: CalculationStep
  properties:
    step:
      type: string
      description: Назва кроку
    description:
      type: string
      description: Опис кроку
    amount:
      type: number
      format: double
      description: Сума на цьому кроці
    runningTotal:
      type: number
      format: double
      description: Накопичена сума

# Price Preview Response
ItemPricePreviewResponse:
  type: object
  title: ItemPricePreviewResponse
  description: Попередній розрахунок ціни предмета
  properties:
    basePrice:
      type: number
      format: double
      description: Базова ціна за одиницю
      example: 480.00
    totalBasePrice:
      type: number
      format: double
      description: Базова ціна за кількість
      example: 480.00
    modifiersAmount:
      type: number
      format: double
      description: Сума модифікаторів
      example: 50.00
    subtotal:
      type: number
      format: double
      description: Проміжна сума (база + модифікатори)
      example: 530.00
    urgencyAmount:
      type: number
      format: double
      description: Надбавка за терміновість
      example: 100.00
    finalPrice:
      type: number
      format: double
      description: Фінальна ціна
      example: 630.00

# Order Summary Response
OrderSummaryResponse:
  type: object
  title: OrderSummaryResponse
  description: Підсумок розрахунку замовлення
  properties:
    itemsTotal:
      type: number
      format: double
      description: Сума всіх предметів
      example: 1530.00
    urgencyCharge:
      type: number
      format: double
      description: Надбавка за терміновість
      example: 200.00
    discountAmount:
      type: number
      format: double
      description: Сума знижки
      example: 50.00
    subtotal:
      type: number
      format: double
      description: Проміжна сума
      example: 1680.00
    finalTotal:
      type: number
      format: double
      description: Фінальна сума до сплати
      example: 1630.00
    itemCalculations:
      type: array
      items:
        $ref: "#/ItemCalculationResponse"
      description: Розрахунки по кожному предмету
    warnings:
      type: array
      items:
        type: string
      description: Попередження (наприклад, про незастосовані знижки)
      example:
        ["Модифікатор CHILDREN_ITEMS не застосовується до цієї категорії"]

# Photo Download Response
PhotoDownloadResponse:
  type: object
  title: PhotoDownloadResponse
  description: Відповідь для завантаження фотографії
  properties:
    photoId:
      $ref: "../../common/schemas/base.yaml#/UUID"
      description: Ідентифікатор фотографії
    filename:
      type: string
      description: Ім'я файлу
      example: "item_photo_001.jpg"
    contentType:
      type: string
      description: MIME тип файлу
      example: "image/jpeg"
    size:
      type: integer
      format: int64
      description: Розмір файлу в байтах
      example: 2048576
    downloadUrl:
      type: string
      format: uri
      description: URL для завантаження файлу
      example: "/api/photos/550e8400-e29b-41d4-a716-446655440000/download"
    thumbnailUrl:
      type: string
      format: uri
      description: URL мініатюри
      example: "/api/photos/550e8400-e29b-41d4-a716-446655440000/thumbnail"
