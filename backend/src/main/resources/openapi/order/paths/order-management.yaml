# Paths для управління замовленнями
/api/orders:
  get:
    tags:
      - orders
    summary: Отримати список замовлень
    description: Повертає список замовлень з можливістю фільтрації та пагінації
    parameters:
      - $ref: "../../common/parameters/query.yaml#/PageParam"
      - $ref: "../../common/parameters/query.yaml#/SizeParam"
      - name: status
        in: query
        description: Фільтр за статусом замовлення
        required: false
        schema:
          $ref: "../schemas/order-enums.yaml#/OrderStatus"
      - name: branchId
        in: query
        description: Фільтр за філією
        required: false
        schema:
          type: string
          format: uuid
      - name: clientId
        in: query
        description: Фільтр за клієнтом
        required: false
        schema:
          type: string
          format: uuid
      - name: dateFrom
        in: query
        description: Дата створення (від)
        required: false
        schema:
          type: string
          format: date
      - name: dateTo
        in: query
        description: Дата створення (до)
        required: false
        schema:
          type: string
          format: date
    responses:
      "200":
        description: Список замовлень
        content:
          application/json:
            schema:
              $ref: "../schemas/order-responses.yaml#/OrderPageResponse"
      "400":
        description: Некоректні параметри запиту
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: getOrders
  post:
    tags:
      - orders
    summary: Створити нове замовлення
    description: Створює нове замовлення для односторінкової системи
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/order-requests.yaml#/CreateOrderRequest"
    responses:
      "201":
        description: Замовлення успішно створене
        content:
          application/json:
            schema:
              $ref: "../schemas/order-responses.yaml#/OrderResponse"
      "400":
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
    operationId: createOrder

/api/orders/{id}:
  get:
    tags:
      - orders
    summary: Отримати замовлення за ID
    description: Повертає детальну інформацію про замовлення
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
    responses:
      "200":
        description: Інформація про замовлення
        content:
          application/json:
            schema:
              $ref: "../schemas/order-responses.yaml#/OrderResponse"
      "404":
        description: Замовлення не знайдене
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: getOrderById
  put:
    tags:
      - orders
    summary: Оновити замовлення
    description: Оновлює існуюче замовлення
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/order-requests.yaml#/UpdateOrderRequest"
    responses:
      "200":
        description: Замовлення успішно оновлене
        content:
          application/json:
            schema:
              $ref: "../schemas/order-responses.yaml#/OrderResponse"
      "400":
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
      "404":
        description: Замовлення не знайдене
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: updateOrder
  delete:
    tags:
      - orders
    summary: Скасувати замовлення
    description: Скасовує замовлення (м'яке видалення)
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
    responses:
      "204":
        description: Замовлення успішно скасоване
      "404":
        description: Замовлення не знайдене
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: deleteOrder

/api/orders/{id}/payment:
  put:
    tags:
      - orders
    summary: Оновити інформацію про оплату
    description: Оновлює спосіб оплати та суму передоплати
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/order-requests.yaml#/UpdatePaymentRequest"
    responses:
      "200":
        description: Інформація про оплату оновлена
        content:
          application/json:
            schema:
              $ref: "../schemas/order-responses.yaml#/OrderResponse"
      "400":
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
      "404":
        description: Замовлення не знайдене
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: updateOrderPayment
