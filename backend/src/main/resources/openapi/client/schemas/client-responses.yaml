# Response схеми для Client домену
ClientResponse:
  type: object
  title: ClientResponse
  required:
    - id
    - firstName
    - lastName
    - phone
    - createdAt
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
      nullable: false
    firstName:
      type: string
      description: Ім'я клієнта
      nullable: false
    lastName:
      type: string
      description: Прізвище клієнта
      nullable: false
    fullName:
      type: string
      description: Повне ім'я (firstName + lastName)
      readOnly: true
    phone:
      $ref: "../../common/schemas/base.yaml#/PhoneNumber"
      description: Номер телефону
      nullable: false
    email:
      $ref: "../../common/schemas/base.yaml#/Email"
      description: Email адреса
    address:
      $ref: "../../common/schemas/address.yaml#/Address"
    communicationMethods:
      type: array
      items:
        $ref: "./client-enums.yaml#/CommunicationMethod"
    sourceType:
      $ref: "./client-enums.yaml#/ClientSourceType"
    notes:
      type: string
      description: Примітки
    statistics:
      $ref: "#/ClientStatistics"
  allOf:
    - $ref: "../../common/schemas/base.yaml#/TimestampProperties"

ClientPageResponse:
  type: object
  title: ClientPageResponse
  required:
    - content
    - pageable
    - totalElements
    - totalPages
    - last
    - first
    - numberOfElements
  properties:
    content:
      type: array
      items:
        $ref: "#/ClientResponse"
      nullable: false
    pageable:
      $ref: "../../common/schemas/pagination.yaml#/PageableInfo"
      nullable: false
    totalElements:
      type: integer
      format: int64
      description: Загальна кількість елементів
      nullable: false
    totalPages:
      type: integer
      description: Загальна кількість сторінок
      nullable: false
    last:
      type: boolean
      description: Чи це остання сторінка
      nullable: false
    first:
      type: boolean
      description: Чи це перша сторінка
      nullable: false
    numberOfElements:
      type: integer
      description: Кількість елементів на поточній сторінці
      nullable: false

ClientSearchResponse:
  type: object
  title: ClientSearchResponse
  required:
    - results
    - totalFound
    - hasMore
  properties:
    results:
      type: array
      items:
        $ref: "#/ClientSearchResult"
      nullable: false
    totalFound:
      type: integer
      description: Загальна кількість знайдених результатів
      nullable: false
    hasMore:
      type: boolean
      description: Чи є ще результати
      nullable: false

ClientSearchResult:
  type: object
  title: ClientSearchResult
  required:
    - id
    - firstName
    - lastName
    - phone
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
      nullable: false
    firstName:
      type: string
      nullable: false
    lastName:
      type: string
      nullable: false
    fullName:
      type: string
      readOnly: true
    phone:
      $ref: "../../common/schemas/base.yaml#/PhoneNumber"
      nullable: false
    email:
      $ref: "../../common/schemas/base.yaml#/Email"
    lastOrderDate:
      $ref: "../../common/schemas/base.yaml#/Date"
      description: Дата останнього замовлення
    orderCount:
      type: integer
      description: Кількість замовлень
    highlightedFields:
      type: array
      items:
        type: string
      description: Поля, які відповідають пошуковому запиту

ClientContactsResponse:
  type: object
  title: ClientContactsResponse
  required:
    - id
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
      nullable: false
    phone:
      $ref: "../../common/schemas/base.yaml#/PhoneNumber"
      description: Номер телефону
    email:
      $ref: "../../common/schemas/base.yaml#/Email"
      description: Email адреса
    communicationMethods:
      type: array
      items:
        $ref: "./client-enums.yaml#/CommunicationMethod"
    address:
      $ref: "../../common/schemas/address.yaml#/Address"

ClientStatistics:
  type: object
  title: ClientStatistics
  properties:
    totalOrders:
      type: integer
      description: Загальна кількість замовлень
    totalSpent:
      $ref: "../../common/schemas/base.yaml#/Money"
      description: Загальна сума витрат
    lastOrderDate:
      $ref: "../../common/schemas/base.yaml#/Date"
      description: Дата останнього замовлення
    averageOrderValue:
      $ref: "../../common/schemas/base.yaml#/Money"
      description: Середня вартість замовлення
    isVip:
      type: boolean
      description: Чи є клієнт VIP
    registrationDate:
      $ref: "../../common/schemas/base.yaml#/Date"
      description: Дата першого замовлення
