# Response схеми для Client домену
ClientResponse:
  type: object
  title: ClientResponse
  description: Інформація про клієнта хімчистки
  required:
    - id
    - firstName
    - lastName
    - phone
    - createdAt
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    firstName:
      type: string
      description: Ім'я клієнта
      minLength: 2
      maxLength: 50
      example: Олександр
    lastName:
      type: string
      description: Прізвище клієнта
      minLength: 2
      maxLength: 50
      example: Петренко
    phone:
      $ref: "../../common/schemas/base.yaml#/PhoneNumber"
      description: Номер телефону (обов'язковий)
    email:
      $ref: "../../common/schemas/base.yaml#/Email"
      description: Email адреса (опційна)
    address:
      $ref: "../../common/schemas/address.yaml#/Address"
      description: Адреса клієнта (опційна)
    communicationMethods:
      type: array
      description: Способи зв'язку (номер телефону, SMS, Viber)
      items:
        $ref: "./client-enums.yaml#/CommunicationMethod"
      example: ["PHONE", "SMS", "VIBER"]
    sourceType:
      $ref: "./client-enums.yaml#/ClientSourceType"
      description: Джерело інформації про хімчистку
    sourceOther:
      type: string
      description: Уточнення для джерела "Інше"
      maxLength: 100
    preferredBranchId:
      $ref: "../../common/schemas/base.yaml#/UUID"
      description: ID улюбленої філії клієнта
    orderCount:
      type: integer
      description: Кількість замовлень клієнта
      readOnly: true
      example: 10
    totalSpent:
      type: number
      format: double
      description: Загальна сума витрат клієнта
      readOnly: true
      example: 5000.00
    isVip:
      type: boolean
      description: VIP клієнт (10+ замовлень або 5000+ грн)
      readOnly: true
      example: true
  allOf:
    - $ref: "../../common/schemas/base.yaml#/TimestampProperties"

ClientListResponse:
  type: object
  title: ClientListResponse
  description: Список клієнтів
  required:
    - items
  properties:
    items:
      type: array
      description: Список клієнтів
      items:
        $ref: "#/ClientResponse"

ClientSearchResponse:
  type: object
  title: ClientSearchResponse
  description: Результати швидкого пошуку клієнтів
  required:
    - results
  properties:
    results:
      type: array
      description: Знайдені клієнти (максимум 10)
      items:
        $ref: "#/ClientSearchResult"
      maxItems: 10

ClientSearchResult:
  type: object
  title: ClientSearchResult
  description: Результат пошуку клієнта для швидкого вибору
  required:
    - id
    - firstName
    - lastName
    - phone
  properties:
    id:
      $ref: "../../common/schemas/base.yaml#/UUID"
    firstName:
      type: string
    lastName:
      type: string
    phone:
      $ref: "../../common/schemas/base.yaml#/PhoneNumber"
    email:
      $ref: "../../common/schemas/base.yaml#/Email"
    lastOrderDate:
      type: string
      format: date
      description: Дата останнього замовлення
    orderCount:
      type: integer
      description: Кількість замовлень
    highlightedText:
      type: string
      description: Підсвічений текст збігу пошуку
      example: "Петренко <mark>Олександр</mark>"