# Endpoints для управління клієнтами
/api/clients:
  get:
    tags:
      - clients
    summary: Отримати список клієнтів
    description: Повертає список всіх клієнтів
    responses:
      200:
        description: Список клієнтів
        content:
          application/json:
            schema:
              $ref: "../schemas/client-responses.yaml#/ClientListResponse"
      400:
        description: Некоректні параметри запиту
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: getClients

  post:
    tags:
      - clients
    summary: Створити нового клієнта
    description: Створює нового клієнта хімчистки
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/client-requests.yaml#/CreateClientRequest"
    responses:
      201:
        description: Клієнт успішно створений
        content:
          application/json:
            schema:
              $ref: "../schemas/client-responses.yaml#/ClientResponse"
      400:
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
      409:
        description: Клієнт з таким телефоном вже існує
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: createClient

/api/clients/{id}:
  get:
    tags:
      - clients
    summary: Отримати клієнта за ID
    description: Повертає детальну інформацію про конкретного клієнта
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
    responses:
      200:
        description: Інформація про клієнта
        content:
          application/json:
            schema:
              $ref: "../schemas/client-responses.yaml#/ClientResponse"
      404:
        description: Клієнт не знайдений
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: getClientById

  put:
    tags:
      - clients
    summary: Оновити інформацію про клієнта
    description: Оновлює існуючого клієнта
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/client-requests.yaml#/UpdateClientRequest"
    responses:
      200:
        description: Клієнт успішно оновлений
        content:
          application/json:
            schema:
              $ref: "../schemas/client-responses.yaml#/ClientResponse"
      400:
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
      404:
        description: Клієнт не знайдений
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: updateClient

/api/clients/by-phone/{phone}:
  get:
    tags:
      - clients
    summary: Отримати клієнта за номером телефону
    description: Знаходить клієнта за номером телефону
    parameters:
      - name: phone
        in: path
        required: true
        description: Номер телефону клієнта
        schema:
          type: string
          pattern: '^\+380[0-9]{9}$'
          example: "+380501234567"
    responses:
      200:
        description: Інформація про клієнта
        content:
          application/json:
            schema:
              $ref: "../schemas/client-responses.yaml#/ClientResponse"
      404:
        description: Клієнт не знайдений
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: getClientByPhone
