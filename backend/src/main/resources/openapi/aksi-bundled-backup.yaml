openapi: 3.0.4
info:
  title: Auth API
  description: Authentication API for dry cleaning management system operators
  version: 1.0.0
  contact:
    name: API Support
    email: support@dryclean.example.com
servers:
  - url: http://localhost:8080
    description: Local development
  - url: https://api.dryclean.example.com
    description: Production
tags:
  - name: auth
    description: Authentication and session management
    x-displayName: auth
  - name: branches
    description: Branch management operations
    x-displayName: branches
  - name: cart
    description: Cart management operations
    x-displayName: cart
  - name: customer
    description: Customer management operations
    x-displayName: customer
  - name: files
    description: File management operations
    x-displayName: files
  - name: games
    description: Games management operations
    x-displayName: games
  - name: service-types
    description: Service types management
    x-displayName: service-types
  - name: difficulty-levels
    description: Difficulty levels management
    x-displayName: difficulty-levels
  - name: boosters
    description: Boosters management
    x-displayName: boosters
  - name: price-configurations
    description: Price configurations management
    x-displayName: price-configurations
  - name: modifiers
    description: Game modifiers management
    x-displayName: modifiers
  - name: calculator
    description: Price calculation operations
    x-displayName: calculator
  - name: orders
    description: Order management operations
    x-displayName: orders
  - name: price-list
    description: Price list management operations
    x-displayName: price-list
  - name: pricing
    description: Pricing management operations
    x-displayName: pricing
  - name: receipts
    description: Receipt management operations
    x-displayName: receipts
  - name: users
    description: User management operations
    x-displayName: users
paths:
  /api/auth/login:
    post:
      operationId: login
      summary: Login to system
      description: Authenticate operator and return session cookie
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Successful login
          headers:
            Set-Cookie:
              description: >-
                Session cookie for authentication (e.g., SESSION=abc123xyz;
                Path=/; HttpOnly; Secure; SameSite=Strict)
              schema:
                type: string
            X-CSRF-TOKEN:
              description: CSRF token for protection
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '429':
          $ref: '#/components/responses/TooManyRequests'
      security:
        - cookieAuth: []
  /api/auth/logout:
    post:
      operationId: logout
      summary: Logout from system
      description: Terminate current session
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Successful logout
          headers:
            Set-Cookie:
              description: Clear session cookie (e.g., SESSION=; Path=/; Max-Age=0)
              schema:
                type: string
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/auth/session:
    get:
      operationId: getCurrentSession
      summary: Get current session info
      description: Information about current user and session
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Session information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
    delete:
      operationId: invalidateAllSessions
      summary: Terminate all sessions for user
      description: Logout user from all devices (admin only)
      tags:
        - auth
      parameters:
        - name: userId
          in: query
          required: true
          description: User ID to invalidate sessions for
          schema:
            type: string
            format: uuid
      security:
        - cookieAuth: []
      responses:
        '200':
          description: All sessions terminated
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/auth/sessions:
    get:
      operationId: getUserSessions
      summary: Get all user sessions
      description: List all active sessions for current user or specified user (admin only)
      tags:
        - auth
      security:
        - cookieAuth: []
      parameters:
        - name: userId
          in: query
          required: false
          description: User ID to get sessions for (admin only, defaults to current user)
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: List of user sessions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserSessionsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      operationId: terminateOtherSessions
      summary: Terminate all other sessions
      description: Logout user from all devices except current session
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Other sessions terminated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionTerminationResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/auth/sessions/{sessionId}:
    parameters:
      - name: sessionId
        in: path
        required: true
        description: Session ID to terminate
        schema:
          type: string
    delete:
      operationId: terminateSession
      summary: Terminate specific session
      description: Terminate a specific user session
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Session terminated successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/auth/security/attempts:
    get:
      operationId: getSecurityAttempts
      summary: Get login attempt statistics
      description: Get rate limiting and security attempt statistics (admin only)
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Security attempt statistics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityAttemptsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /api/auth/security/unlock/{username}:
    parameters:
      - name: username
        in: path
        required: true
        description: Username to unlock
        schema:
          type: string
    post:
      operationId: unlockUser
      summary: Unlock blocked user
      description: Clear failed login attempts and unlock blocked user (admin only)
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: User unlocked successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/auth/security/unlock-ip/{ipAddress}:
    post:
      operationId: unlockIp
      summary: Unlock IP address
      description: Clear failed login attempts and unlock blocked IP address (admin only)
      tags:
        - auth
      security:
        - cookieAuth: []
      parameters:
        - name: ipAddress
          in: path
          required: true
          description: IP address to unlock
          schema:
            type: string
            example: 192.168.1.100
      responses:
        '200':
          description: IP address unlocked successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /api/auth/security/policy:
    get:
      operationId: getSecurityPolicy
      summary: Get current security policy
      description: >-
        Get current security policy settings (rate limits, password policy,
        etc.)
      tags:
        - auth
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Current security policy
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityPolicyResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/auth/server-time:
    get:
      operationId: getServerTime
      summary: Get current server time
      description: >
        Returns current server timestamp for time synchronization between
        frontend and backend.

        Used to avoid hydration issues and ensure consistent time across client
        and server.
      tags:
        - auth
      responses:
        '200':
          description: Current server time information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerTimeResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
  /api/branches:
    get:
      operationId: listBranches
      summary: List branches
      description: Get list of branches
      tags:
        - branches
      security:
        - cookieAuth: []
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
        - name: active
          in: query
          description: Filter by active status
          required: false
          schema:
            type: boolean
            default: true
        - name: search
          in: query
          description: Search by name or address
          required: false
          schema:
            type: string
      responses:
        '200':
          description: List of branches
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createBranch
      summary: Create new branch
      description: Create a new branch (admin only)
      tags:
        - branches
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBranchRequest'
      responses:
        '201':
          description: Branch created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/branches/active:
    get:
      operationId: getAllActiveBranches
      summary: Get all active branches
      description: Get all active branches for dropdowns (no pagination)
      tags:
        - branches
      security:
        - cookieAuth: []
      responses:
        '200':
          description: List of active branches
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BranchInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/branches/{branchId}:
    parameters:
      - name: branchId
        in: path
        required: true
        description: Branch ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getBranchById
      summary: Get branch details
      description: Get detailed branch information
      tags:
        - branches
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Branch details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      operationId: updateBranch
      summary: Update branch
      description: Update an existing branch (admin only)
      tags:
        - branches
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBranchRequest'
      responses:
        '200':
          description: Branch updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
    delete:
      operationId: deleteBranch
      summary: Delete branch
      description: Delete a branch (admin only)
      tags:
        - branches
      security:
        - cookieAuth: []
      responses:
        '204':
          description: Branch deleted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/branches/{branchId}/activate:
    parameters:
      - name: branchId
        in: path
        required: true
        description: Branch ID
        schema:
          type: string
          format: uuid
    post:
      operationId: activateBranch
      summary: Activate branch
      description: Activate a deactivated branch (admin only)
      tags:
        - branches
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Branch activated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/branches/{branchId}/deactivate:
    parameters:
      - name: branchId
        in: path
        required: true
        description: Branch ID
        schema:
          type: string
          format: uuid
    post:
      operationId: deactivateBranch
      summary: Deactivate branch
      description: Deactivate an active branch (admin only)
      tags:
        - branches
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Branch deactivated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BranchInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/cart:
    get:
      operationId: getCart
      summary: Get current cart
      description: >-
        Get or create (getOrCreate) the active customer's shopping cart for this
        session
      tags:
        - cart
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Current cart details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CartInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
    delete:
      operationId: clearCart
      summary: Clear cart
      description: Remove all items from the active customer's cart
      tags:
        - cart
      security:
        - cookieAuth: []
      responses:
        '204':
          description: Cart cleared successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/cart/items:
    post:
      operationId: addCartItem
      summary: Add item to cart
      description: Add a new item to the shopping cart
      tags:
        - cart
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddCartItemRequest'
      responses:
        '201':
          description: Item added successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CartItemInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/cart/items/{itemId}:
    parameters:
      - name: itemId
        in: path
        required: true
        description: Cart item ID
        schema:
          type: string
          format: uuid
    put:
      operationId: updateCartItem
      summary: Update cart item
      description: Update quantity or characteristics of a cart item
      tags:
        - cart
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCartItemRequest'
      responses:
        '200':
          description: Item updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CartItemInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      operationId: removeCartItem
      summary: Remove item from cart
      description: Remove an item from the shopping cart
      tags:
        - cart
      security:
        - cookieAuth: []
      responses:
        '204':
          description: Item removed successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/cart/modifiers:
    put:
      operationId: updateCartModifiers
      summary: Update cart global modifiers
      description: Update global modifiers like urgency and discount
      tags:
        - cart
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCartModifiersRequest'
      responses:
        '200':
          description: Modifiers updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CartInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/cart/calculate:
    post:
      operationId: calculateCart
      summary: Calculate cart totals
      description: >-
        Recalculate all prices in the active customer's cart. Does not create a
        cart; returns 404 if no active cart exists for the session.
      tags:
        - cart
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Cart recalculated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CartPricingInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/cart/activate-customer:
    post:
      operationId: activateCustomerForCart
      summary: Activate customer for cart in current session
      description: >-
        Binds subsequent cart operations to the selected customer in this
        session
      tags:
        - cart
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivateCustomerRequest'
      responses:
        '204':
          description: Customer activated for cart
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/customers:
    get:
      operationId: listCustomers
      summary: List customers
      description: Search and list customers with optional filters
      tags:
        - customer
      security:
        - cookieAuth: []
      parameters:
        - $ref: '#/components/parameters/Search'
        - name: phone
          in: query
          description: Filter by phone number
          schema:
            type: string
        - name: email
          in: query
          description: Filter by email
          schema:
            type: string
        - name: discountCard
          in: query
          description: Filter by discount card number
          schema:
            type: string
        - name: offset
          in: query
          description: Number of items to skip
          schema:
            type: integer
            minimum: 0
            default: 0
        - name: limit
          in: query
          description: Number of items to return
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: List of customers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createCustomer
      summary: Create customer
      description: Create a new customer
      tags:
        - customer
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCustomerRequest'
      responses:
        '201':
          description: Customer created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/customers/{customerId}:
    parameters:
      - name: customerId
        in: path
        required: true
        description: Customer ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getCustomer
      summary: Get customer
      description: Get customer details by ID
      tags:
        - customer
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Customer details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      operationId: updateCustomer
      summary: Update customer
      description: Update customer information
      tags:
        - customer
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCustomerRequest'
      responses:
        '200':
          description: Customer updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/customers/{customerId}/exists:
    parameters:
      - name: customerId
        in: path
        required: true
        description: Customer ID
        schema:
          type: string
          format: uuid
    head:
      operationId: checkCustomerExists
      summary: Check if customer exists
      description: Check if customer exists by ID
      tags:
        - customer
      security:
        - cookieAuth: []
      responses:
        '204':
          description: Customer exists
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/files/{filePath}:
    parameters:
      - name: filePath
        in: path
        required: true
        description: File path relative to upload directory (supports nested paths)
        schema:
          type: string
          pattern: ^[a-zA-Z0-9\/_\-\.]+$
          example: orders/items/photos/item-1234567890-photo_2025-01-01_12-00-00.jpg
    get:
      operationId: serveFile
      summary: Serve uploaded file
      description: Serve uploaded files with proper content type and security checks
      tags:
        - files
      responses:
        '200':
          description: File served successfully
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
            image/jpeg:
              schema:
                type: string
                format: binary
            image/png:
              schema:
                type: string
                format: binary
            image/gif:
              schema:
                type: string
                format: binary
            image/webp:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: string
                format: binary
          headers:
            Content-Type:
              description: Actual content type of the file
              schema:
                type: string
            Content-Disposition:
              description: Content disposition header
              schema:
                type: string
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security: []
  /api/files/upload:
    post:
      operationId: uploadFile
      summary: Upload file
      description: Upload file to specified directory with optional filename
      tags:
        - files
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              title: FileUploadRequest
              type: object
              required:
                - file
                - directory
              properties:
                file:
                  type: string
                  format: binary
                  description: File to upload
                directory:
                  type: string
                  description: Directory to upload file to
                  pattern: ^[a-zA-Z0-9/_\-]+$
                  example: orders/photos
                filename:
                  type: string
                  description: Optional custom filename (without extension)
                  pattern: ^[a-zA-Z0-9_\-]+$
                  example: custom-name
      responses:
        '200':
          description: File uploaded successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileUploadResponse'
          headers:
            Location:
              description: Public URL of the uploaded file
              schema:
                type: string
        '400':
          $ref: '#/components/responses/BadRequest'
      security: []
  /api/files/upload/base64:
    post:
      operationId: uploadBase64File
      summary: Upload base64 file
      description: Upload base64 encoded file data
      tags:
        - files
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Base64FileUploadRequest'
      responses:
        '200':
          description: File uploaded successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileUploadResponse'
          headers:
            Location:
              description: Public URL of the uploaded file
              schema:
                type: string
        '400':
          $ref: '#/components/responses/BadRequest'
      security: []
  /api/files/{filePath}/info:
    parameters:
      - name: filePath
        in: path
        required: true
        description: File path relative to upload directory
        schema:
          type: string
          pattern: ^[a-zA-Z0-9\/_\-\.]+$
    get:
      operationId: getFileInfo
      summary: Get file information
      description: Get detailed information about uploaded file
      tags:
        - files
      responses:
        '200':
          description: File information retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileInfo'
        '404':
          $ref: '#/components/responses/NotFound'
      security: []
  /api/files/{filePath}/base64:
    parameters:
      - name: filePath
        in: path
        required: true
        description: File path relative to upload directory
        schema:
          type: string
          pattern: ^[a-zA-Z0-9\/_\-\.]+$
    get:
      operationId: getFileAsBase64
      summary: Get file content as base64
      description: Read file content and return as base64 encoded string
      tags:
        - files
      responses:
        '200':
          description: File content retrieved as base64
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Base64FileResponse'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security: []
  /api/games:
    get:
      tags:
        - games
      operationId: gamesListGames
      summary: Get all games
      description: Get paginated list of games with optional filtering by active status
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/Search'
        - name: active
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        '200':
          description: List of games
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
    post:
      tags:
        - games
      operationId: gamesCreateGame
      summary: Create new game
      description: Create a new game entry in the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGameRequest'
      responses:
        '201':
          description: Game created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
  /api/games/active:
    get:
      tags:
        - games
      operationId: gamesGetAllActiveGames
      summary: Get all active games
      description: Retrieve list of all currently active games
      responses:
        '200':
          description: List of active games
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Game'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
  /api/games/service-types:
    get:
      tags:
        - service-types
      operationId: gamesListServiceTypes
      summary: Get service types
      description: Get paginated list of service types with optional filtering
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - name: gameId
          in: query
          schema:
            type: string
            format: uuid
          description: Filter by game ID
        - name: active
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        '200':
          description: List of service types
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceTypeListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
    post:
      tags:
        - service-types
      operationId: gamesCreateServiceType
      summary: Create service type
      description: Create a new service type in the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateServiceTypeRequest'
      responses:
        '201':
          description: Service type created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceType'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
  /api/games/service-types/{serviceTypeId}:
    get:
      tags:
        - service-types
      operationId: gamesGetServiceTypeById
      summary: Get service type by ID
      description: Retrieve detailed information about a specific service type
      parameters:
        - name: serviceTypeId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Service type found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceType'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    put:
      tags:
        - service-types
      operationId: gamesUpdateServiceType
      summary: Update service type
      description: Update an existing service type's information
      parameters:
        - name: serviceTypeId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateServiceTypeRequest'
      responses:
        '200':
          description: Service type updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceType'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    delete:
      tags:
        - service-types
      operationId: gamesDeleteServiceType
      summary: Delete service type
      description: Permanently delete a service type from the system
      parameters:
        - name: serviceTypeId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Service type deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    patch:
      tags:
        - service-types
      operationId: gamesSetServiceTypeActive
      summary: Set service type active status
      description: Update the active status of a service type
      parameters:
        - name: serviceTypeId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: active
          in: query
          required: true
          schema:
            type: boolean
          description: Active status
      responses:
        '200':
          description: Service type updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceType'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/difficulty-levels:
    get:
      tags:
        - difficulty-levels
      operationId: gamesListDifficultyLevels
      summary: Get difficulty levels
      description: Get paginated list of difficulty levels with optional filtering
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - name: gameId
          in: query
          schema:
            type: string
            format: uuid
          description: Filter by game ID
        - name: active
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        '200':
          description: List of difficulty levels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DifficultyLevelListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
    post:
      tags:
        - difficulty-levels
      operationId: gamesCreateDifficultyLevel
      summary: Create difficulty level
      description: Create a new difficulty level in the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDifficultyLevelRequest'
      responses:
        '201':
          description: Difficulty level created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DifficultyLevel'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
  /api/games/difficulty-levels/{difficultyLevelId}:
    get:
      tags:
        - difficulty-levels
      operationId: gamesGetDifficultyLevelById
      summary: Get difficulty level by ID
      description: Retrieve detailed information about a specific difficulty level
      parameters:
        - name: difficultyLevelId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Difficulty level found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DifficultyLevel'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    put:
      tags:
        - difficulty-levels
      operationId: gamesUpdateDifficultyLevel
      summary: Update difficulty level
      description: Update an existing difficulty level's information
      parameters:
        - name: difficultyLevelId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDifficultyLevelRequest'
      responses:
        '200':
          description: Difficulty level updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DifficultyLevel'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    delete:
      tags:
        - difficulty-levels
      operationId: gamesDeleteDifficultyLevel
      summary: Delete difficulty level
      description: Permanently delete a difficulty level from the system
      parameters:
        - name: difficultyLevelId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Difficulty level deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/difficulty-levels/{difficultyLevelId}/activate:
    patch:
      tags:
        - difficulty-levels
      operationId: gamesActivateDifficultyLevel
      summary: Activate difficulty level
      description: Mark a difficulty level as active and available
      parameters:
        - name: difficultyLevelId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Difficulty level activated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DifficultyLevel'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/difficulty-levels/{difficultyLevelId}/deactivate:
    patch:
      tags:
        - difficulty-levels
      operationId: gamesDeactivateDifficultyLevel
      summary: Deactivate difficulty level
      description: Mark a difficulty level as inactive and unavailable
      parameters:
        - name: difficultyLevelId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Difficulty level deactivated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DifficultyLevel'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/boosters:
    get:
      tags:
        - boosters
      operationId: gamesListBoosters
      summary: Get all boosters
      description: Get paginated list of boosters with optional filtering
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/Search'
        - name: active
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        '200':
          description: List of boosters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BoosterListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
    post:
      tags:
        - boosters
      operationId: gamesCreateBooster
      summary: Create new booster
      description: Create a new booster in the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBoosterRequest'
      responses:
        '201':
          description: Booster created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booster'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
  /api/games/boosters/{boosterId}:
    get:
      tags:
        - boosters
      operationId: gamesGetBoosterById
      summary: Get booster by ID
      description: Retrieve detailed information about a specific booster
      parameters:
        - name: boosterId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Booster found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booster'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    put:
      tags:
        - boosters
      operationId: gamesUpdateBooster
      summary: Update booster
      description: Update an existing booster's information
      parameters:
        - name: boosterId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBoosterRequest'
      responses:
        '200':
          description: Booster updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Booster'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    delete:
      tags:
        - boosters
      operationId: gamesDeleteBooster
      summary: Delete booster
      description: Permanently delete a booster from the system
      parameters:
        - name: boosterId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Booster deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/price-configurations:
    get:
      tags:
        - price-configurations
      operationId: gamesListPriceConfigurations
      summary: Get price configurations
      description: Get paginated list of price configurations with optional filtering
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - name: gameId
          in: query
          schema:
            type: string
            format: uuid
          description: Filter by game ID
        - name: serviceTypeId
          in: query
          schema:
            type: string
            format: uuid
          description: Filter by service type ID
        - name: difficultyLevelId
          in: query
          schema:
            type: string
            format: uuid
          description: Filter by difficulty level ID
        - name: active
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        '200':
          description: List of price configurations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceConfigurationListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
    post:
      tags:
        - price-configurations
      operationId: gamesCreatePriceConfiguration
      summary: Create price configuration
      description: Create a new price configuration in the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePriceConfigurationRequest'
      responses:
        '201':
          description: Price configuration created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceConfiguration'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
  /api/games/price-configurations/{configId}:
    get:
      tags:
        - price-configurations
      operationId: gamesGetPriceConfigurationById
      summary: Get price configuration by ID
      description: Retrieve detailed information about a specific price configuration
      parameters:
        - name: configId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Price configuration found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceConfiguration'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    put:
      tags:
        - price-configurations
      operationId: gamesUpdatePriceConfiguration
      summary: Update price configuration
      description: Update an existing price configuration's information
      parameters:
        - name: configId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePriceConfigurationRequest'
      responses:
        '200':
          description: Price configuration updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceConfiguration'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    delete:
      tags:
        - price-configurations
      operationId: gamesDeletePriceConfiguration
      summary: Delete price configuration
      description: Permanently delete a price configuration from the system
      parameters:
        - name: configId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Price configuration deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/modifiers:
    get:
      tags:
        - modifiers
      summary: Get all game modifiers
      description: Retrieve a list of all game modifiers with optional filtering
      operationId: listGameModifiers
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
        - $ref: '#/components/parameters/Search'
        - name: gameCode
          in: query
          description: Filter by game code
          schema:
            type: string
        - name: type
          in: query
          description: Filter by modifier type
          schema:
            $ref: '#/components/schemas/GameModifierType'
        - name: operation
          in: query
          description: Filter by operation type
          schema:
            $ref: '#/components/schemas/GameModifierOperation'
        - name: active
          in: query
          description: Filter by active status
          schema:
            type: boolean
        - name: serviceTypeCode
          in: query
          description: Filter by service type
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameModifiersResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
    post:
      tags:
        - modifiers
      summary: Create a new game modifier
      description: Create a new game modifier for a specific game
      operationId: createGameModifier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGameModifierRequest'
      responses:
        '201':
          description: Modifier created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameModifierInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          description: Modifier code already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
        - cookieAuth: []
  /api/games/modifiers/{modifierId}:
    get:
      tags:
        - modifiers
      summary: Get game modifier by ID
      description: Retrieve a specific game modifier by its ID
      operationId: getGameModifier
      parameters:
        - name: modifierId
          in: path
          required: true
          description: Game modifier ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameModifierInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    put:
      tags:
        - modifiers
      summary: Update game modifier
      description: Update an existing game modifier
      operationId: updateGameModifier
      parameters:
        - name: modifierId
          in: path
          required: true
          description: Game modifier ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGameModifierRequest'
      responses:
        '200':
          description: Modifier updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameModifierInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    delete:
      tags:
        - modifiers
      summary: Delete game modifier
      description: Delete a game modifier by ID
      operationId: deleteGameModifier
      parameters:
        - name: modifierId
          in: path
          required: true
          description: Game modifier ID
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Modifier deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/modifiers/{modifierId}/activate:
    post:
      tags:
        - modifiers
      summary: Activate game modifier
      description: Activate a game modifier by ID
      operationId: activateGameModifier
      parameters:
        - name: modifierId
          in: path
          required: true
          description: Game modifier ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Modifier activated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameModifierInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/modifiers/{modifierId}/deactivate:
    post:
      tags:
        - modifiers
      summary: Deactivate game modifier
      description: Deactivate a game modifier by ID
      operationId: deactivateGameModifier
      parameters:
        - name: modifierId
          in: path
          required: true
          description: Game modifier ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Modifier deactivated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameModifierInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/calculator/formulas/{formulaType}/calculate:
    post:
      tags:
        - calculator
      operationId: calculateWithFormula
      summary: '[UNIVERSAL] Calculate price using any formula type'
      description: >-
        Universal endpoint for price calculation with any supported formula type
        and full context
      parameters:
        - name: formulaType
          in: path
          required: true
          description: >-
            Type of formula to calculate with (LINEAR, RANGE, FORMULA,
            TIME_BASED)
          schema:
            type: string
            enum:
              - LINEAR
              - RANGE
              - FORMULA
              - TIME_BASED
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UniversalCalculationRequest'
      responses:
        '200':
          description: Universal calculation successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UniversalCalculationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - cookieAuth: []
  /api/games/by-code/{code}:
    get:
      tags:
        - games
      operationId: gamesGetGameByCode
      summary: Get game by code
      description: Retrieve game information using game code
      parameters:
        - name: code
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Game found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          description: Game not found
      security:
        - cookieAuth: []
  /api/games/by-id/{gameId}:
    get:
      tags:
        - games
      operationId: gamesGetGameById
      summary: Get game by ID
      description: Retrieve detailed information about a specific game
      parameters:
        - name: gameId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Game found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    put:
      tags:
        - games
      operationId: gamesUpdateGame
      summary: Update game
      description: Update an existing game's information
      parameters:
        - name: gameId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGameRequest'
      responses:
        '200':
          description: Game updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
    delete:
      tags:
        - games
      operationId: gamesDeleteGame
      summary: Delete game
      description: Permanently delete a game from the system
      parameters:
        - name: gameId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Game deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/by-id/{gameId}/enable:
    patch:
      tags:
        - games
      operationId: gamesActivateGame
      summary: Activate game
      description: Mark a game as active and available for boosting
      parameters:
        - name: gameId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Game activated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/games/by-id/{gameId}/disable:
    patch:
      tags:
        - games
      operationId: gamesDeactivateGame
      summary: Deactivate game
      description: Mark a game as inactive and unavailable for boosting
      parameters:
        - name: gameId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Game deactivated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Game'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/orders:
    get:
      operationId: listOrders
      summary: List orders
      description: Get paginated list of orders
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
        - $ref: '#/components/parameters/CustomerId'
        - name: status
          in: query
          description: Filter by order status
          required: false
          schema:
            $ref: '#/components/schemas/OrderStatus'
        - $ref: '#/components/parameters/BranchId'
        - $ref: '#/components/parameters/DateFrom'
        - $ref: '#/components/parameters/DateTo'
        - name: orderNumber
          in: query
          description: Search by specific order number
          required: false
          schema:
            type: string
      responses:
        '200':
          description: List of orders
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createOrder
      summary: Create order from cart
      description: Create a new order from the current cart
      tags:
        - orders
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrderRequest'
      responses:
        '201':
          description: Order created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/by-status:
    get:
      operationId: getOrdersByStatus
      summary: Get orders by status
      description: Get all orders with specific status (non-paginated)
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - name: status
          in: query
          description: Order status
          required: true
          schema:
            $ref: '#/components/schemas/OrderStatus'
        - name: branchId
          in: query
          description: Filter by branch ID
          required: false
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Orders with specified status
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrderInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/orders/due-for-completion:
    get:
      operationId: getOrdersDueForCompletion
      summary: Get orders due for completion
      description: Get orders that are due for completion within specified days
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - name: days
          in: query
          description: Number of days to look ahead
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 30
            default: 7
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
      responses:
        '200':
          description: Orders due for completion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/orders/overdue:
    get:
      operationId: getOverdueOrders
      summary: Get overdue orders
      description: Get orders that are past their expected completion date
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
      responses:
        '200':
          description: Overdue orders
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/orders/customer/{customerId}/history:
    get:
      operationId: getCustomerOrderHistory
      summary: Get customer order history
      description: Get paginated order history for a specific customer
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - name: customerId
          in: path
          required: true
          description: Customer ID
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
      responses:
        '200':
          description: Customer order history
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderListResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/orders/customer/{customerId}/recent:
    get:
      operationId: getCustomerRecentOrders
      summary: Get customer recent orders
      description: Get customer's most recent orders (limited list)
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - name: customerId
          in: path
          required: true
          description: Customer ID
          schema:
            type: string
            format: uuid
        - name: limit
          in: query
          description: Maximum number of orders to return
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 50
            default: 10
      responses:
        '200':
          description: Recent orders list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrderInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/orders/{orderId}:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getOrderById
      summary: Get order details
      description: Get detailed order information
      tags:
        - orders
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Order details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateOrderStatus
      summary: Update order status
      description: Update the status of an order
      tags:
        - orders
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateOrderStatusRequest'
      responses:
        '200':
          description: Order updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/items/{itemId}/characteristics:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
      - name: itemId
        in: path
        required: true
        description: Order item ID
        schema:
          type: string
          format: uuid
    put:
      operationId: updateItemCharacteristics
      summary: Update item characteristics
      description: Update characteristics, stains, and defects of an order item
      tags:
        - orders
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateItemCharacteristicsRequest'
      responses:
        '200':
          description: Characteristics updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderItemInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/items/{itemId}/photos:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
      - name: itemId
        in: path
        required: true
        description: Order item ID
        schema:
          type: string
          format: uuid
    post:
      operationId: uploadItemPhoto
      summary: Upload item photo
      description: Upload a photo for an order item
      tags:
        - orders
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              title: UploadItemPhotoRequest
              type: object
              required:
                - file
              properties:
                file:
                  type: string
                  format: binary
                  description: Photo file (max 5MB)
                photoType:
                  $ref: '#/components/schemas/PhotoType'
                photoDescription:
                  type: string
                  description: Photo description
      responses:
        '201':
          description: Photo uploaded successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemPhotoInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '413':
          $ref: '#/components/responses/PayloadTooLarge'
  /api/orders/{orderId}/items/{itemId}/photos/{photoId}:
    parameters:
      - name: orderId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: itemId
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - name: photoId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    delete:
      operationId: deleteItemPhoto
      summary: Delete item photo
      description: Delete a photo from an order item
      tags:
        - orders
      security:
        - cookieAuth: []
      responses:
        '204':
          description: Photo deleted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/receipt:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getOrderReceipt
      summary: Get order receipt
      description: Get receipt PDF for an order
      tags:
        - orders
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Receipt PDF
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/signature:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
    post:
      operationId: saveCustomerSignature
      summary: Save customer signature
      description: Save customer signature for order in base64 format
      tags:
        - orders
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SaveSignatureRequest'
      responses:
        '200':
          description: Signature saved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/items:
    get:
      operationId: getOrderItems
      summary: Get order items
      description: Get all items for a specific order
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          description: Order ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Order items list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrderItemInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/payments:
    get:
      operationId: getOrderPayments
      summary: Get order payments
      description: Get payment history for a specific order
      tags:
        - orders
      security:
        - cookieAuth: []
      parameters:
        - name: orderId
          in: path
          required: true
          description: Order ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Order payments list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PaymentInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/orders/{orderId}/payment:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
    post:
      operationId: addOrderPayment
      summary: Add payment to order
      description: Register a payment for an order
      tags:
        - orders
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddPaymentRequest'
      responses:
        '201':
          description: Payment registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/price-list:
    get:
      operationId: listPriceListItems
      summary: List price list items
      description: Get list of price list items
      tags:
        - price-list
      security:
        - cookieAuth: []
      parameters:
        - name: categoryCode
          in: query
          description: Filter by category code
          required: false
          schema:
            $ref: '#/components/schemas/ServiceCategoryType'
        - name: active
          in: query
          description: Filter by active status
          required: false
          schema:
            type: boolean
            default: true
        - name: offset
          in: query
          description: Number of items to skip
          required: false
          schema:
            type: integer
            minimum: 0
            default: 0
        - name: limit
          in: query
          description: Number of items to return
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: List of price list items
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceListItemsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
    post:
      operationId: createPriceListItem
      summary: Create new price list item
      description: Create a new price list item (admin only)
      tags:
        - price-list
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePriceListItemRequest'
      responses:
        '201':
          description: Price list item created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceListItemInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /api/price-list/{priceListItemId}:
    parameters:
      - name: priceListItemId
        in: path
        required: true
        description: Price list item ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getPriceListItemById
      summary: Get price list item details
      description: Get detailed price list item information
      tags:
        - price-list
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Price list item details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceListItemInfo'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      operationId: updatePriceListItem
      summary: Update price list item
      description: Update an existing price list item (admin only)
      tags:
        - price-list
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePriceListItemRequest'
      responses:
        '200':
          description: Price list item updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceListItemInfo'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      operationId: deletePriceListItem
      summary: Delete price list item
      description: Delete a price list item (admin only)
      tags:
        - price-list
      security:
        - cookieAuth: []
      responses:
        '204':
          description: Price list item deleted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/pricing/calculate:
    post:
      operationId: calculatePrice
      summary: Calculate price for items
      description: Calculate price for one or more items with modifiers
      tags:
        - pricing
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PriceCalculationRequest'
      responses:
        '200':
          description: Price calculation result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceCalculationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/pricing/modifiers:
    get:
      operationId: listPriceModifiers
      summary: List available price modifiers
      description: Get list of all available price modifiers
      tags:
        - pricing
      security:
        - cookieAuth: []
      parameters:
        - name: categoryCode
          in: query
          description: Filter by category code
          required: false
          schema:
            $ref: '#/components/schemas/ServiceCategoryType'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
        - name: active
          in: query
          description: Filter by active status
          required: false
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: List of price modifiers
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceModifiersResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/pricing/discounts:
    get:
      operationId: listDiscounts
      summary: List available discounts
      description: Get list of all available discount types
      tags:
        - pricing
      security:
        - cookieAuth: []
      parameters:
        - name: active
          in: query
          description: Filter by active status
          required: false
          schema:
            type: boolean
            default: true
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
      responses:
        '200':
          description: List of discounts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountsResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /api/pricing/admin/modifiers:
    post:
      operationId: createPriceModifier
      summary: Create a new price modifier
      description: Create a new price modifier (admin only)
      tags:
        - pricing
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PriceModifier'
      responses:
        '201':
          description: Price modifier created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceModifier'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /api/pricing/admin/modifiers/{code}:
    put:
      operationId: updatePriceModifier
      summary: Update price modifier
      description: Update an existing price modifier (admin only)
      tags:
        - pricing
      security:
        - cookieAuth: []
      parameters:
        - name: code
          in: path
          description: Price modifier code
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PriceModifier'
      responses:
        '200':
          description: Price modifier updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceModifier'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      operationId: deletePriceModifier
      summary: Delete price modifier
      description: Delete a price modifier (admin only)
      tags:
        - pricing
      security:
        - cookieAuth: []
      parameters:
        - name: code
          in: path
          description: Price modifier code
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Price modifier deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/pricing/admin/discounts:
    post:
      operationId: createDiscount
      summary: Create a new discount
      description: Create a new discount (admin only)
      tags:
        - pricing
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Discount'
      responses:
        '201':
          description: Discount created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Discount'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /api/pricing/admin/discounts/{code}:
    put:
      operationId: updateDiscount
      summary: Update discount
      description: Update an existing discount (admin only)
      tags:
        - pricing
      security:
        - cookieAuth: []
      parameters:
        - name: code
          in: path
          description: Discount code
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Discount'
      responses:
        '200':
          description: Discount updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Discount'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      operationId: deleteDiscount
      summary: Delete discount
      description: Delete a discount (admin only)
      tags:
        - pricing
      security:
        - cookieAuth: []
      parameters:
        - name: code
          in: path
          description: Discount code
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Discount deleted
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/receipts/order/{orderId}:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID to generate receipt for
        schema:
          type: string
          format: uuid
          example: 123e4567-e89b-12d3-a456-426614174000
    get:
      operationId: generateOrderReceipt
      summary: Generate receipt for order
      description: Generate PDF receipt for existing order
      tags:
        - receipts
      parameters:
        - name: locale
          in: query
          required: false
          description: Locale for receipt generation (e.g. uk, en)
          schema:
            type: string
            default: uk
            example: uk
      responses:
        '200':
          description: Receipt generated successfully
          content:
            application/pdf:
              schema:
                type: string
                format: binary
          headers:
            Content-Disposition:
              description: Content disposition header for file download
              schema:
                type: string
            Content-Type:
              description: Content type
              schema:
                type: string
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/receipts/preview:
    post:
      operationId: generateReceiptPreview
      summary: Generate receipt preview
      description: Generate PDF receipt preview from provided data (without creating order)
      tags:
        - receipts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReceiptPreviewRequest'
      responses:
        '200':
          description: Receipt preview generated successfully
          content:
            application/pdf:
              schema:
                type: string
                format: binary
          headers:
            Content-Disposition:
              description: Content disposition header
              schema:
                type: string
        '400':
          $ref: '#/components/responses/BadRequest'
      security:
        - cookieAuth: []
  /api/receipts/order/{orderId}/email:
    parameters:
      - name: orderId
        in: path
        required: true
        description: Order ID
        schema:
          type: string
          format: uuid
    post:
      operationId: emailOrderReceipt
      summary: Email receipt to customer
      description: Generate and email receipt to customer
      tags:
        - receipts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailReceiptRequest'
      responses:
        '200':
          description: Receipt emailed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailReceiptResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - cookieAuth: []
  /api/receipts/templates:
    get:
      operationId: getReceiptTemplates
      summary: Get available receipt templates
      description: Get list of available receipt templates
      tags:
        - receipts
      responses:
        '200':
          description: Templates retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReceiptTemplate'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - cookieAuth: []
  /api/users:
    get:
      operationId: listUsers
      summary: List users
      description: Get paginated list of users with filtering
      tags:
        - users
      security:
        - cookieAuth: []
      parameters:
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/SortBy'
        - $ref: '#/components/parameters/SortOrder'
        - name: search
          in: query
          description: Search by username, first name, or last name
          required: false
          schema:
            type: string
            example: ivan
        - name: role
          in: query
          description: Filter by role
          required: false
          schema:
            $ref: '#/components/schemas/UserRole'
        - name: branchId
          in: query
          description: Filter by branch
          required: false
          schema:
            type: string
            format: uuid
        - name: active
          in: query
          description: Filter by active status
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: List of users
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      operationId: createUser
      summary: Create new user
      description: Create a new system user
      tags:
        - users
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
      responses:
        '201':
          description: User created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetail'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/users/{userId}:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getUserById
      summary: Get user details
      description: Get detailed information about a user
      tags:
        - users
      security:
        - cookieAuth: []
      responses:
        '200':
          description: User details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetail'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      operationId: updateUser
      summary: Update user
      description: Update user information
      tags:
        - users
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRequest'
      responses:
        '200':
          description: User updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetail'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/users/{userId}/password:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    put:
      operationId: changePassword
      summary: Change user password
      description: Change password for a user
      tags:
        - users
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePasswordRequest'
      responses:
        '204':
          description: Password changed successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/users/{userId}/activate:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    post:
      operationId: activateUser
      summary: Activate user
      description: Activate a deactivated user
      tags:
        - users
      security:
        - cookieAuth: []
      responses:
        '200':
          description: User activated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetail'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/users/{userId}/deactivate:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    post:
      operationId: deactivateUser
      summary: Deactivate user
      description: Deactivate an active user
      tags:
        - users
      security:
        - cookieAuth: []
      responses:
        '200':
          description: User deactivated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetail'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /api/users/{userId}/roles:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    put:
      operationId: updateUserRoles
      summary: Update user roles
      description: Replace user roles with new set
      tags:
        - users
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRolesRequest'
      responses:
        '200':
          description: Roles updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDetail'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/users/{userId}/branches:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    get:
      operationId: getUserBranches
      summary: Get user branches
      description: List branches assigned to user
      tags:
        - users
      security:
        - cookieAuth: []
      responses:
        '200':
          description: List of branches
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserBranchesResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      operationId: updateUserBranches
      summary: Update user branches
      description: Replace user branch assignments
      tags:
        - users
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBranchesRequest'
      responses:
        '200':
          description: Branches updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserBranchesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/users/{userId}/permissions:
    parameters:
      - name: userId
        in: path
        required: true
        description: User ID
        schema:
          type: string
          format: uuid
    get:
      summary: Get user permissions
      description: Get all permissions for a user based on their roles
      operationId: getUserPermissions
      tags:
        - users
      security:
        - cookieAuth: []
      responses:
        '200':
          description: User permissions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
                  description: Permission string (e.g. "orders.create", "users.*")
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /api/roles/{role}/permissions:
    parameters:
      - name: role
        in: path
        required: true
        description: User role
        schema:
          $ref: '#/components/schemas/UserRole'
    get:
      operationId: getRolePermissions
      summary: Get role permissions
      description: Get all permissions associated with a specific role
      tags:
        - users
      security:
        - cookieAuth: []
      responses:
        '200':
          description: Role permissions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
components:
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: SESSION
      description: Session cookie authentication
  responses:
    BadRequest:
      description: Bad request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Unauthorized:
      description: Unauthorized access
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Forbidden:
      description: Forbidden access
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Conflict:
      description: Resource conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    TooManyRequests:
      description: Too many requests
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    PayloadTooLarge:
      description: Payload too large
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
  schemas:
    LoginRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
          pattern: ^[a-zA-Z0-9_]+$
          description: Operator username
          example: operator1
        password:
          type: string
          minLength: 6
          maxLength: 100
          description: Password (min 6 chars for dev, 12 for prod)
          example: Admin123!
        rememberMe:
          type: boolean
          default: false
          description: Remember session for 30 days
        branchId:
          type: string
          format: uuid
          nullable: true
          description: Branch ID for login (optional, can be selected later)
          example: 550e8400-e29b-41d4-a716-446655440000
    LoginResponse:
      type: object
      required:
        - userId
        - username
        - roles
        - requiresBranchSelection
        - isBlocked
        - attemptsRemaining
      properties:
        userId:
          type: string
          format: uuid
          description: User ID
          example: 660e8400-e29b-41d4-a716-446655440001
        username:
          type: string
          description: Username
          example: operator1
        firstName:
          type: string
          description: First name
          example: Ivan
        lastName:
          type: string
          description: Last name
          example: Petrenko
        roles:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/UserRole'
          description: User roles
        permissions:
          type: array
          items:
            type: string
          description: User permissions
          example:
            - CREATE_ORDER
            - VIEW_CUSTOMERS
            - EDIT_ORDER
        branchId:
          type: string
          format: uuid
          nullable: true
          description: Current branch ID
        branchName:
          type: string
          nullable: true
          description: Current branch name
          example: Main Street Branch
        requiresBranchSelection:
          type: boolean
          description: Whether branch selection is required
        isBlocked:
          type: boolean
          description: Whether user account is blocked due to failed attempts
          example: false
        attemptsRemaining:
          type: integer
          description: Number of login attempts remaining before lockout
          minimum: 0
          example: 5
        lockoutExpiresAt:
          type: string
          nullable: true
          format: date-time
          description: When account lockout expires (if blocked)
    SessionInfo:
      type: object
      required:
        - sessionId
        - userId
        - username
        - createdAt
        - lastAccessedAt
      properties:
        sessionId:
          type: string
          description: Session ID
          example: KJ3h4k2j3h4k23j4h23k4j
        userId:
          type: string
          format: uuid
          description: User ID
        username:
          type: string
          description: Username
        roles:
          type: array
          items:
            $ref: '#/components/schemas/UserRole'
        branchId:
          type: string
          format: uuid
          nullable: true
          description: Current branch ID
        branchName:
          type: string
          nullable: true
          description: Current branch name
        createdAt:
          type: string
          format: date-time
          description: Session creation time
        lastAccessedAt:
          type: string
          format: date-time
          description: Last access time
        expiresAt:
          type: string
          format: date-time
          description: Session expiration time
        ipAddress:
          type: string
          description: IP address
          example: 192.168.1.1
        userAgent:
          type: string
          description: Browser user agent
    UserSessionsResponse:
      type: object
      required:
        - sessions
        - totalCount
        - currentSessionId
      properties:
        sessions:
          type: array
          items:
            $ref: '#/components/schemas/SessionDetail'
          description: List of user sessions
        totalCount:
          type: integer
          description: Total number of sessions
          example: 3
        currentSessionId:
          type: string
          description: Current session ID
          example: KJ3h4k2j3h4k23j4h23k4j
    SessionDetail:
      type: object
      required:
        - sessionId
        - createdAt
        - lastAccessedAt
        - expiresAt
        - ipAddress
        - isCurrentSession
      properties:
        sessionId:
          type: string
          description: Session ID
          example: KJ3h4k2j3h4k23j4h23k4j
        createdAt:
          type: string
          format: date-time
          description: Session creation time
        lastAccessedAt:
          type: string
          format: date-time
          description: Last access time
        expiresAt:
          type: string
          format: date-time
          description: Session expiration time
        ipAddress:
          type: string
          description: IP address
          example: 192.168.1.1
        userAgent:
          type: string
          description: Browser user agent
          example: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
        location:
          type: string
          nullable: true
          description: Approximate location based on IP
          example: Kiev, Ukraine
        deviceType:
          type: string
          nullable: true
          description: Device type (mobile, tablet, desktop)
          example: desktop
        isCurrentSession:
          type: boolean
          description: Is this the current session
          example: true
    SessionTerminationResponse:
      type: object
      required:
        - terminatedCount
        - message
      properties:
        terminatedCount:
          type: integer
          description: Number of sessions terminated
          example: 2
        message:
          type: string
          description: Success message
          example: Successfully terminated 2 other sessions
    SecurityAttemptsResponse:
      type: object
      required:
        - overview
        - recentAttempts
        - blockedUsers
        - blockedIps
      properties:
        overview:
          $ref: '#/components/schemas/SecurityOverview'
        recentAttempts:
          type: array
          items:
            $ref: '#/components/schemas/LoginAttempt'
          maxItems: 50
          description: Recent login attempts (last 50)
        blockedUsers:
          type: array
          items:
            $ref: '#/components/schemas/BlockedUser'
          description: Currently blocked users
        blockedIps:
          type: array
          items:
            $ref: '#/components/schemas/BlockedIp'
          description: Currently blocked IP addresses
    SecurityOverview:
      type: object
      required:
        - totalFailedAttemptsToday
        - totalBlockedUsers
        - totalBlockedIps
        - peakAttemptTime
      properties:
        totalFailedAttemptsToday:
          type: integer
          description: Total failed attempts today
          example: 147
        totalBlockedUsers:
          type: integer
          description: Currently blocked users count
          example: 3
        totalBlockedIps:
          type: integer
          description: Currently blocked IPs count
          example: 8
        peakAttemptTime:
          type: string
          format: date-time
          description: Time of highest attempt rate today
        averageAttemptsPerHour:
          type: number
          format: double
          description: Average failed attempts per hour
          example: 6.2
    LoginAttempt:
      type: object
      required:
        - timestamp
        - username
        - ipAddress
        - success
      properties:
        timestamp:
          type: string
          format: date-time
          description: Attempt timestamp
        username:
          type: string
          description: Username attempted
          example: operator1
        ipAddress:
          type: string
          description: IP address
          example: 192.168.1.1
        userAgent:
          type: string
          nullable: true
          description: User agent
        location:
          type: string
          nullable: true
          description: Approximate location
          example: Kiev, Ukraine
        success:
          type: boolean
          description: Whether attempt was successful
        failureReason:
          type: string
          nullable: true
          description: Reason for failure
          example: Invalid password
    BlockedUser:
      type: object
      required:
        - username
        - failedAttempts
        - lastAttemptAt
        - blockedUntil
      properties:
        username:
          type: string
          description: Blocked username
          example: operator1
        failedAttempts:
          type: integer
          description: Number of failed attempts
          example: 5
        lastAttemptAt:
          type: string
          format: date-time
          description: Last failed attempt time
        blockedUntil:
          type: string
          format: date-time
          description: When block expires
        lastAttemptIp:
          type: string
          description: IP of last attempt
          example: 192.168.1.1
    BlockedIp:
      type: object
      required:
        - ipAddress
        - failedAttempts
        - lastAttemptAt
        - blockedUntil
      properties:
        ipAddress:
          type: string
          description: Blocked IP address
          example: 192.168.1.1
        failedAttempts:
          type: integer
          description: Number of failed attempts
          example: 12
        lastAttemptAt:
          type: string
          format: date-time
          description: Last failed attempt time
        blockedUntil:
          type: string
          format: date-time
          description: When block expires
        location:
          type: string
          nullable: true
          description: Approximate location
          example: Kiev, Ukraine
        lastUsername:
          type: string
          nullable: true
          description: Last username attempted from this IP
          example: operator1
    SecurityPolicyResponse:
      type: object
      required:
        - rateLimiting
        - passwordPolicy
        - sessionPolicy
      properties:
        rateLimiting:
          $ref: '#/components/schemas/RateLimitingPolicy'
        passwordPolicy:
          $ref: '#/components/schemas/PasswordPolicyInfo'
        sessionPolicy:
          $ref: '#/components/schemas/SessionPolicyInfo'
    RateLimitingPolicy:
      type: object
      required:
        - maxAttemptsPerUser
        - maxAttemptsPerIp
        - lockoutDurationMinutes
        - enabled
      properties:
        maxAttemptsPerUser:
          type: integer
          description: Max failed attempts per user
          example: 5
        maxAttemptsPerIp:
          type: integer
          description: Max failed attempts per IP
          example: 10
        lockoutDurationMinutes:
          type: integer
          description: Lockout duration in minutes
          example: 15
        enabled:
          type: boolean
          description: Is rate limiting enabled
          example: true
    PasswordPolicyInfo:
      type: object
      required:
        - minLength
        - requireUppercase
        - requireLowercase
        - requireNumbers
        - requireSpecialChars
      properties:
        minLength:
          type: integer
          description: Minimum password length
          example: 12
        requireUppercase:
          type: boolean
          description: Require uppercase letters
          example: true
        requireLowercase:
          type: boolean
          description: Require lowercase letters
          example: true
        requireNumbers:
          type: boolean
          description: Require numbers
          example: true
        requireSpecialChars:
          type: boolean
          description: Require special characters
          example: true
        allowedSpecialChars:
          type: string
          description: Allowed special characters
          example: '@$!%*?&'
    SessionPolicyInfo:
      type: object
      required:
        - defaultTimeoutMinutes
        - maxConcurrentSessions
        - rememberMeTimeoutDays
      properties:
        defaultTimeoutMinutes:
          type: integer
          description: Default session timeout in minutes
          example: 60
        maxConcurrentSessions:
          type: integer
          description: Max concurrent sessions per user
          example: 3
        rememberMeTimeoutDays:
          type: integer
          description: Remember me timeout in days
          example: 30
        sessionFixationProtection:
          type: boolean
          description: Is session fixation protection enabled
          example: true
    ServerTimeResponse:
      type: object
      required:
        - timestamp
        - epochMillis
        - timezone
        - utcOffset
      properties:
        timestamp:
          type: string
          format: date-time
          description: Current server time in ISO 8601 format (UTC)
          example: '2024-01-15T14:30:45.123Z'
        epochMillis:
          type: integer
          format: int64
          description: Current server time as Unix epoch milliseconds
          example: 1705327845123
        timezone:
          type: string
          description: Server timezone identifier
          example: Europe/Kiev
        utcOffset:
          type: string
          description: UTC offset for server timezone
          example: '+02:00'
        date:
          type: string
          format: date
          description: Current server date (YYYY-MM-DD)
          example: '2024-01-15'
        time:
          type: string
          description: Current server time (HH:mm:ss)
          example: '14:30:45'
    UserRole:
      type: string
      enum:
        - OPERATOR
        - MANAGER
        - ADMIN
        - CLEANER
        - DRIVER
      description: System user roles
    ErrorDetail:
      type: object
      required:
        - field
        - message
      properties:
        field:
          type: string
          description: Field with error
          example: username
        message:
          type: string
          description: Field error message
          example: Invalid username format
    ErrorResponse:
      type: object
      required:
        - timestamp
        - status
        - error
        - message
        - path
      properties:
        timestamp:
          type: string
          format: date-time
        status:
          type: integer
        error:
          type: string
        message:
          type: string
        path:
          type: string
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ErrorDetail'
          nullable: true
    BranchInfo:
      type: object
      required:
        - id
        - name
        - address
        - phone
        - active
      properties:
        id:
          type: string
          format: uuid
          description: Branch ID
        name:
          allOf:
            - $ref: '#/components/schemas/UniqueName'
          description: Branch name
        address:
          type: string
          description: Branch address
        phone:
          allOf:
            - $ref: '#/components/schemas/PhoneNumber'
          description: Branch phone number
        email:
          allOf:
            - $ref: '#/components/schemas/Email'
          description: Branch email
        workingHours:
          type: string
          description: Working hours (e.g., "Пн-Пт 8:00-20:00, Сб 9:00-18:00")
        active:
          type: boolean
          description: Is branch active
        description:
          type: string
          description: Branch description
        sortOrder:
          type: integer
          description: Sort order for display
          default: 0
        createdAt:
          type: string
          format: date-time
          description: Creation timestamp (UTC)
        updatedAt:
          type: string
          format: date-time
          description: Last update timestamp (UTC)
    CreateBranchRequest:
      type: object
      required:
        - name
        - address
        - phone
      properties:
        name:
          allOf:
            - $ref: '#/components/schemas/UniqueName'
          description: Branch name
        address:
          type: string
          minLength: 1
          maxLength: 500
          description: Branch address
        phone:
          allOf:
            - $ref: '#/components/schemas/PhoneNumber'
          description: Branch phone number
        email:
          allOf:
            - $ref: '#/components/schemas/Email'
          description: Branch email
        workingHours:
          type: string
          maxLength: 255
          description: Working hours
        active:
          type: boolean
          description: Is branch active
          default: true
        description:
          type: string
          maxLength: 1000
          description: Branch description
        sortOrder:
          type: integer
          description: Sort order for display
          default: 0
    UpdateBranchRequest:
      type: object
      properties:
        name:
          allOf:
            - $ref: '#/components/schemas/UniqueName'
          description: Branch name
        address:
          type: string
          minLength: 1
          maxLength: 500
          description: Branch address
        phone:
          allOf:
            - $ref: '#/components/schemas/PhoneNumber'
          description: Branch phone number
        email:
          allOf:
            - $ref: '#/components/schemas/Email'
          description: Branch email
        workingHours:
          type: string
          maxLength: 255
          description: Working hours
        active:
          type: boolean
          description: Is branch active
        description:
          type: string
          maxLength: 1000
          description: Branch description
        sortOrder:
          type: integer
          description: Sort order for display
    BranchListResponse:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/BranchInfo'
    PaginatedResponse:
      type: object
      required:
        - data
        - totalElements
        - totalPages
        - size
        - number
        - numberOfElements
        - first
        - last
        - empty
      properties:
        data:
          type: array
          items: {}
          description: Page content
        totalElements:
          type: integer
          format: int64
          description: Total number of elements
        totalPages:
          type: integer
          description: Total number of pages
        size:
          type: integer
          description: Page size
        number:
          type: integer
          description: Page number (0-based)
        numberOfElements:
          type: integer
          description: Number of elements in current page
        first:
          type: boolean
          description: Is first page
        last:
          type: boolean
          description: Is last page
        empty:
          type: boolean
          description: Is empty
    UniqueName:
      type: string
      minLength: 1
      maxLength: 255
      description: Unique name field (must be unique within entity type)
      x-unique: true
      x-validation: '@UniqueName'
    PhoneNumber:
      type: string
      pattern: ^\+?[0-9\s\-\(\)]+$
      minLength: 10
      maxLength: 20
      description: Phone number in international format
      example: +380 (50) 123-45-67
    Email:
      type: string
      format: email
      maxLength: 255
      description: Email address
      example: user@example.com
    SortOrder:
      type: string
      enum:
        - ASC
        - DESC
      default: ASC
      description: Sort direction
    ActivateCustomerRequest:
      type: object
      required:
        - customerId
      properties:
        customerId:
          type: string
          format: uuid
          description: Customer ID to activate
    CartInfo:
      type: object
      required:
        - id
        - customerId
        - items
        - pricing
        - createdAt
        - expiresAt
      properties:
        id:
          type: string
          format: uuid
          description: Cart ID
        customerId:
          type: string
          format: uuid
          description: Customer ID
        items:
          type: array
          items:
            $ref: '#/components/schemas/CartItemInfo'
          description: Cart items
        globalModifiers:
          $ref: '#/components/schemas/CartGlobalModifiers'
        pricing:
          $ref: '#/components/schemas/CartPricingInfo'
        createdAt:
          type: string
          format: date-time
          description: Cart creation time
        updatedAt:
          type: string
          format: date-time
          description: Last update time
        expiresAt:
          type: string
          format: date-time
          description: Cart expiration time (TTL)
    CartItemInfo:
      type: object
      required:
        - id
        - priceListItemId
        - priceListItem
        - quantity
        - characteristics
        - pricing
      properties:
        id:
          type: string
          format: uuid
          description: Cart item ID
        priceListItemId:
          type: string
          format: uuid
          description: Price list item ID
        priceListItem:
          $ref: '#/components/schemas/PriceListItemSummary'
        quantity:
          type: integer
          minimum: 1
          description: Quantity (in units)
        characteristics:
          $ref: '#/components/schemas/ItemCharacteristics'
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/CartItemModifier'
          description: Applied modifiers
        pricing:
          $ref: '#/components/schemas/CartItemPricingInfo'
    PriceListItemSummary:
      type: object
      required:
        - id
        - name
        - categoryCode
        - unitOfMeasure
        - basePrice
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        categoryCode:
          $ref: '#/components/schemas/ServiceCategoryType'
        unitOfMeasure:
          $ref: '#/components/schemas/UnitOfMeasure'
        basePrice:
          type: integer
          description: Base price in kopiykas
    ItemCharacteristics:
      type: object
      description: Item characteristics shared across cart, order, and pricing domains
      properties:
        material:
          type: string
          description: Material type (cotton, silk, wool, etc.)
          example: cotton
        color:
          type: string
          description: Item color (affects processing and pricing)
          example: blue
        filler:
          type: string
          description: Filler type for items with filling
          example: down
        fillerCondition:
          allOf:
            - $ref: '#/components/schemas/FillerCondition'
          description: Filler condition assessment
        wearLevel:
          allOf:
            - $ref: '#/components/schemas/WearLevel'
          description: Item wear level assessment
    CartItemModifier:
      type: object
      required:
        - code
        - name
        - type
        - value
      properties:
        code:
          type: string
          description: Modifier code
        name:
          type: string
          description: Modifier name
        type:
          $ref: '#/components/schemas/PricingModifierType'
        value:
          type: number
          description: Modifier value (percentage or fixed amount)
    CartGlobalModifiers:
      type: object
      properties:
        urgencyType:
          allOf:
            - $ref: '#/components/schemas/UrgencyType'
            - default: NORMAL
              description: Urgency type
        discountType:
          allOf:
            - $ref: '#/components/schemas/DiscountType'
            - default: NONE
              description: Discount type
        discountPercentage:
          type: integer
          minimum: 0
          maximum: 100
          description: Discount percentage (for OTHER type)
        expectedCompletionDate:
          type: string
          format: date-time
          description: Expected completion date
        expectedCompletionNote:
          type: string
          description: Optional note for expected completion (e.g., "після 14:00")
    CartItemPricingInfo:
      type: object
      required:
        - basePrice
        - modifiersTotalAmount
        - subtotal
        - urgencyAmount
        - discountAmount
        - total
      properties:
        basePrice:
          type: integer
          description: Base price in kopiykas
        modifierDetails:
          type: array
          items:
            $ref: '#/components/schemas/CartModifierDetail'
          description: Applied modifier details
        modifiersTotalAmount:
          type: integer
          description: Total modifiers amount in kopiykas
        subtotal:
          type: integer
          description: Subtotal (base + modifiers) in kopiykas
        urgencyAmount:
          type: integer
          description: Urgency surcharge amount in kopiykas
        discountAmount:
          type: integer
          description: Discount amount in kopiykas
        total:
          type: integer
          description: Total price in kopiykas
    CartModifierDetail:
      type: object
      required:
        - code
        - name
        - amount
      properties:
        code:
          type: string
        name:
          type: string
        amount:
          type: integer
          description: Modifier amount in kopiykas
    CartPricingInfo:
      type: object
      required:
        - itemsSubtotal
        - urgencyAmount
        - discountAmount
        - total
      properties:
        itemsSubtotal:
          type: integer
          description: Sum of all items subtotals in kopiykas
        urgencyAmount:
          type: integer
          description: Total urgency amount in kopiykas
        discountAmount:
          type: integer
          description: Total discount amount in kopiykas
        discountApplicableAmount:
          type: integer
          description: Amount eligible for discount in kopiykas
        total:
          type: integer
          description: Final total in kopiykas
    AddCartItemRequest:
      type: object
      required:
        - priceListItemId
        - quantity
      properties:
        priceListItemId:
          type: string
          format: uuid
          description: Price list item ID
        quantity:
          type: integer
          minimum: 1
          description: Quantity in smallest unit (piece=1; kilogram=grams)
        characteristics:
          $ref: '#/components/schemas/ItemCharacteristics'
        modifierCodes:
          type: array
          items:
            type: string
          description: Modifier codes to apply
    UpdateCartItemRequest:
      type: object
      properties:
        quantity:
          type: integer
          minimum: 1
          description: New quantity in smallest unit (piece=1; kilogram=grams)
        characteristics:
          $ref: '#/components/schemas/ItemCharacteristics'
        modifierCodes:
          type: array
          items:
            type: string
          description: Updated modifier codes
    UpdateCartModifiersRequest:
      type: object
      properties:
        urgencyType:
          $ref: '#/components/schemas/UrgencyType'
        discountType:
          $ref: '#/components/schemas/DiscountType'
        discountPercentage:
          type: integer
          minimum: 0
          maximum: 100
          description: Discount percentage (required for OTHER type)
        expectedCompletionDate:
          type: string
          format: date-time
          description: Expected completion date
    ServiceCategoryType:
      type: string
      enum:
        - CLOTHING
        - LAUNDRY
        - IRONING
        - LEATHER
        - PADDING
        - FUR
        - DYEING
        - ADDITIONAL_SERVICES
        - SHEEPSKIN
        - OTHER
      description: |
        Service category types from price list
    UnitOfMeasure:
      type: string
      enum:
        - PIECE
        - KILOGRAM
        - PAIR
        - SQUARE_METER
      description: |
        Unit of measure
    FillerCondition:
      type: string
      enum:
        - NORMAL
        - COMPRESSED
      description: Condition of item filler
    WearLevel:
      type: integer
      enum:
        - 10
        - 30
        - 50
        - 75
      description: Wear level percentage (allowed values)
    PricingModifierType:
      type: string
      enum:
        - PERCENTAGE
        - FIXED
        - FORMULA
        - MULTIPLIER
        - DISCOUNT
      description: Type of price modifier
    UrgencyType:
      type: string
      enum:
        - NORMAL
        - EXPRESS_48H
        - EXPRESS_24H
      description: Order urgency levels
    DiscountType:
      type: string
      enum:
        - NONE
        - EVERCARD
        - SOCIAL_MEDIA
        - MILITARY
        - OTHER
    CustomerInfo:
      type: object
      required:
        - id
        - firstName
        - lastName
        - phonePrimary
        - active
        - createdAt
      properties:
        id:
          type: string
          format: uuid
          description: Customer ID
        firstName:
          type: string
          description: First name
        lastName:
          type: string
          description: Last name
        phonePrimary:
          allOf:
            - $ref: '#/components/schemas/PhoneNumber'
          description: Primary phone number (must be unique for active customers)
          x-unique-active: true
        email:
          allOf:
            - $ref: '#/components/schemas/Email'
          description: Email address (must be unique for active customers)
          x-unique-active: true
        address:
          type: string
          description: Address
        contactPreferences:
          type: array
          items:
            $ref: '#/components/schemas/ContactPreference'
          description: Preferred contact methods
        infoSource:
          allOf:
            - $ref: '#/components/schemas/InfoSource'
          description: How customer learned about the service
        infoSourceOther:
          type: string
          description: Other info source details
        notes:
          type: string
          description: Internal notes about customer
        discountCardNumber:
          type: string
          description: Discount card number (unique)
        active:
          type: boolean
          description: Whether customer is active
        createdAt:
          type: string
          format: date-time
          description: Registration date (UTC)
        updatedAt:
          type: string
          format: date-time
          description: Last update timestamp (UTC)
        version:
          type: integer
          format: int64
          description: Version for optimistic locking
    CreateCustomerRequest:
      type: object
      required:
        - firstName
        - lastName
        - phonePrimary
      properties:
        firstName:
          type: string
          minLength: 1
          maxLength: 100
          description: First name
        lastName:
          type: string
          minLength: 1
          maxLength: 100
          description: Last name
        phonePrimary:
          allOf:
            - $ref: '#/components/schemas/PhoneNumber'
          description: Primary phone number (must be unique for active customers)
          x-unique-active: true
        email:
          allOf:
            - $ref: '#/components/schemas/Email'
          description: Email address (must be unique for active customers)
          x-unique-active: true
        address:
          type: string
          maxLength: 500
          description: Address
        contactPreferences:
          type: array
          items:
            $ref: '#/components/schemas/ContactPreference'
          description: Preferred contact methods
        infoSource:
          allOf:
            - $ref: '#/components/schemas/InfoSource'
          description: How customer learned about the service
        infoSourceOther:
          type: string
          maxLength: 200
          description: Other info source details (required if infoSource is OTHER)
        notes:
          type: string
          maxLength: 1000
          description: Internal notes about customer
        discountCardNumber:
          type: string
          maxLength: 20
          description: Discount card number (must be unique)
          x-unique: true
    UpdateCustomerRequest:
      type: object
      properties:
        firstName:
          type: string
          minLength: 1
          maxLength: 100
          description: First name
        lastName:
          type: string
          minLength: 1
          maxLength: 100
          description: Last name
        phonePrimary:
          allOf:
            - $ref: '#/components/schemas/PhoneNumber'
          description: Primary phone number (must be unique for active customers)
          x-unique-active: true
        email:
          allOf:
            - $ref: '#/components/schemas/Email'
          description: Email address (must be unique for active customers)
          x-unique-active: true
        address:
          type: string
          maxLength: 500
          description: Address
        contactPreferences:
          type: array
          items:
            $ref: '#/components/schemas/ContactPreference'
          description: Preferred contact methods
        infoSource:
          allOf:
            - $ref: '#/components/schemas/InfoSource'
          description: How customer learned about the service
        infoSourceOther:
          type: string
          maxLength: 200
          description: Other info source details
        notes:
          type: string
          maxLength: 1000
          description: Internal notes about customer
        discountCardNumber:
          type: string
          maxLength: 20
          description: Discount card number (must be unique)
          x-unique: true
        active:
          type: boolean
          description: Whether customer is active
    CustomerListResponse:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/CustomerInfo'
    ContactPreference:
      type: string
      enum:
        - PHONE
        - SMS
        - VIBER
      description: Customer contact preferences
    InfoSource:
      type: string
      enum:
        - INSTAGRAM
        - GOOGLE
        - RECOMMENDATION
        - OTHER
      description: How customer found out about service
    Base64FileUploadRequest:
      type: object
      required:
        - base64Data
        - directory
        - filename
      properties:
        base64Data:
          type: string
          description: Base64 encoded file data (with or without data URL prefix)
          example: >-
            data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==
        directory:
          type: string
          description: Directory to store file in
          pattern: ^[a-zA-Z0-9/_\-]+$
          example: orders/signatures
        filename:
          type: string
          description: Filename without extension
          pattern: ^[a-zA-Z0-9_\-]+$
          example: signature
    FileUploadResponse:
      type: object
      required:
        - success
        - filePath
        - fileUrl
        - uploadedAt
      properties:
        success:
          type: boolean
          description: Upload success status
          example: true
        filePath:
          type: string
          description: Relative file path where file was stored
          example: orders/photos/12345678-1234-5678-9012-123456789012.jpg
        fileUrl:
          type: string
          description: Full URL to access the file
          example: >-
            http://localhost:8080/api/files/orders/photos/12345678-1234-5678-9012-123456789012.jpg
        originalFilename:
          type: string
          description: Original filename from upload
          example: photo.jpg
        fileSize:
          type: integer
          format: int64
          description: File size in bytes
          example: 2048
        contentType:
          type: string
          description: Detected content type
          example: image/jpeg
        uploadedAt:
          type: string
          format: date-time
          description: Upload timestamp
        uploadedBy:
          type: string
          description: User ID who uploaded the file
          example: user123
    FileInfo:
      type: object
      required:
        - filePath
        - fileUrl
        - exists
        - fileSize
        - lastModified
      properties:
        filePath:
          type: string
          description: Relative file path
          example: orders/photos/12345678-1234-5678-9012-123456789012.jpg
        fileUrl:
          type: string
          description: Full URL to access the file
          example: >-
            http://localhost:8080/api/files/orders/photos/12345678-1234-5678-9012-123456789012.jpg
        exists:
          type: boolean
          description: Whether file exists
          example: true
        fileSize:
          type: integer
          format: int64
          description: File size in bytes
          example: 2048
        contentType:
          type: string
          description: Detected content type
          example: image/jpeg
        readable:
          type: boolean
          description: Whether file is readable
          example: true
        lastModified:
          type: string
          format: date-time
          description: Last modification timestamp
    Base64FileResponse:
      type: object
      required:
        - filePath
        - base64Data
        - contentType
        - fileSize
      properties:
        filePath:
          type: string
          description: File path that was read
          example: orders/photos/12345678-1234-5678-9012-123456789012.jpg
        base64Data:
          type: string
          description: Base64 encoded file content
          example: >-
            iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==
        contentType:
          type: string
          description: MIME type of the file
          example: image/jpeg
        fileSize:
          type: integer
          format: int64
          description: Original file size in bytes
          example: 2048
    Game:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        category:
          type: string
          enum:
            - MMORPG
            - FPS
            - MOBA
            - BATTLE_ROYALE
            - STRATEGY
            - ACTION
            - SIMULATION
            - SPORTS
            - RACING
            - PUZZLE
            - OTHER
        description:
          type: string
          maxLength: 1000
        active:
          type: boolean
          default: true
        sortOrder:
          type: integer
          minimum: 0
          default: 0
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - name
        - code
        - category
        - active
        - sortOrder
    GameListResponse:
      type: object
      required:
        - data
        - totalElements
        - totalPages
        - size
        - number
        - numberOfElements
        - first
        - last
        - empty
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Game'
          description: Page content
        totalElements:
          type: integer
          format: int64
          description: Total number of elements
        totalPages:
          type: integer
          description: Total number of pages
        size:
          type: integer
          description: Page size
        number:
          type: integer
          description: Page number (0-based)
        numberOfElements:
          type: integer
          description: Number of elements in current page
        first:
          type: boolean
          description: Is first page
        last:
          type: boolean
          description: Is last page
        empty:
          type: boolean
          description: Is empty
    CreateGameRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        category:
          type: string
          enum:
            - MMORPG
            - FPS
            - MOBA
            - BATTLE_ROYALE
            - STRATEGY
            - ACTION
            - SIMULATION
            - SPORTS
            - RACING
            - PUZZLE
            - OTHER
        description:
          type: string
          maxLength: 1000
        sortOrder:
          type: integer
          minimum: 0
          default: 0
      required:
        - name
        - code
        - category
    UpdateGameRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        category:
          type: string
          enum:
            - MMORPG
            - FPS
            - MOBA
            - BATTLE_ROYALE
            - STRATEGY
            - ACTION
            - SIMULATION
            - SPORTS
            - RACING
            - PUZZLE
            - OTHER
        description:
          type: string
          maxLength: 1000
        sortOrder:
          type: integer
          minimum: 0
        active:
          type: boolean
      required: []
    ServiceType:
      type: object
      properties:
        id:
          type: string
          format: uuid
        gameId:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        description:
          type: string
          maxLength: 500
        baseMultiplier:
          type: integer
          minimum: 1
          maximum: 1000
          description: Base multiplier in basis points (100 = 1.0x, 200 = 2.0x)
          default: 100
        active:
          type: boolean
          default: true
        sortOrder:
          type: integer
          minimum: 0
          default: 0
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - gameId
        - name
        - code
        - baseMultiplier
        - active
        - sortOrder
    ServiceTypeListResponse:
      type: object
      required:
        - data
        - totalElements
        - totalPages
        - size
        - number
        - numberOfElements
        - first
        - last
        - empty
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/ServiceType'
          description: Page content
        totalElements:
          type: integer
          format: int64
          description: Total number of elements
        totalPages:
          type: integer
          description: Total number of pages
        size:
          type: integer
          description: Page size
        number:
          type: integer
          description: Page number (0-based)
        numberOfElements:
          type: integer
          description: Number of elements in current page
        first:
          type: boolean
          description: Is first page
        last:
          type: boolean
          description: Is last page
        empty:
          type: boolean
          description: Is empty
    CreateServiceTypeRequest:
      type: object
      properties:
        gameId:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        description:
          type: string
          maxLength: 500
        baseMultiplier:
          type: integer
          minimum: 1
          maximum: 1000
          default: 100
        sortOrder:
          type: integer
          minimum: 0
          default: 0
        active:
          type: boolean
          default: true
      required:
        - gameId
        - name
        - code
        - baseMultiplier
    UpdateServiceTypeRequest:
      type: object
      properties:
        gameId:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        description:
          type: string
          maxLength: 500
        baseMultiplier:
          type: integer
          minimum: 1
          maximum: 1000
        sortOrder:
          type: integer
          minimum: 0
        active:
          type: boolean
      required: []
    DifficultyLevel:
      type: object
      properties:
        id:
          type: string
          format: uuid
        gameId:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        levelValue:
          type: integer
          minimum: 1
          maximum: 1000
        description:
          type: string
          maxLength: 500
        active:
          type: boolean
          default: true
        sortOrder:
          type: integer
          minimum: 0
          default: 0
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - gameId
        - name
        - code
        - levelValue
        - active
        - sortOrder
    DifficultyLevelListResponse:
      type: object
      required:
        - data
        - totalElements
        - totalPages
        - size
        - number
        - numberOfElements
        - first
        - last
        - empty
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/DifficultyLevel'
          description: Page content
        totalElements:
          type: integer
          format: int64
          description: Total number of elements
        totalPages:
          type: integer
          description: Total number of pages
        size:
          type: integer
          description: Page size
        number:
          type: integer
          description: Page number (0-based)
        numberOfElements:
          type: integer
          description: Number of elements in current page
        first:
          type: boolean
          description: Is first page
        last:
          type: boolean
          description: Is last page
        empty:
          type: boolean
          description: Is empty
    CreateDifficultyLevelRequest:
      type: object
      properties:
        gameId:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        levelValue:
          type: integer
          minimum: 1
          maximum: 1000
        description:
          type: string
          maxLength: 500
        sortOrder:
          type: integer
          minimum: 0
          default: 0
      required:
        - gameId
        - name
        - code
        - levelValue
    UpdateDifficultyLevelRequest:
      type: object
      properties:
        gameId:
          type: string
          format: uuid
        name:
          type: string
          minLength: 1
          maxLength: 100
        code:
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[A-Z0-9_-]+$
        levelValue:
          type: integer
          minimum: 1
          maximum: 1000
        description:
          type: string
          maxLength: 500
        sortOrder:
          type: integer
          minimum: 0
        active:
          type: boolean
      required: []
    Booster:
      type: object
      properties:
        id:
          type: string
          format: uuid
        discordUsername:
          type: string
          minLength: 1
          maxLength: 100
        displayName:
          type: string
          minLength: 1
          maxLength: 50
        contactEmail:
          type: string
          format: email
        phoneNumber:
          type: string
          pattern: ^\+?[1-9]\d{1,14}$
        rating:
          type: integer
          minimum: 0
          maximum: 500
          description: Rating in basis points (100 = 1.0 star, 500 = 5.0 stars)
        totalOrders:
          type: integer
          minimum: 0
        successRate:
          type: integer
          minimum: 0
          maximum: 10000
          description: Success rate in basis points (10000 = 100.00%)
        averageCompletionTime:
          type: integer
          minimum: 0
          description: Average completion time in minutes
        active:
          type: boolean
          default: true
        verified:
          type: boolean
          default: false
        lastActive:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - discordUsername
        - displayName
        - rating
        - totalOrders
        - successRate
        - active
        - verified
    BoosterListResponse:
      type: object
      required:
        - data
        - totalElements
        - totalPages
        - size
        - number
        - numberOfElements
        - first
        - last
        - empty
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Booster'
          description: Page content
        totalElements:
          type: integer
          format: int64
          description: Total number of elements
        totalPages:
          type: integer
          description: Total number of pages
        size:
          type: integer
          description: Page size
        number:
          type: integer
          description: Page number (0-based)
        numberOfElements:
          type: integer
          description: Number of elements in current page
        first:
          type: boolean
          description: Is first page
        last:
          type: boolean
          description: Is last page
        empty:
          type: boolean
          description: Is empty
    CreateBoosterRequest:
      type: object
      properties:
        discordUsername:
          type: string
          minLength: 1
          maxLength: 100
        displayName:
          type: string
          minLength: 1
          maxLength: 50
        contactEmail:
          type: string
          format: email
        phoneNumber:
          type: string
          pattern: ^\+?[1-9]\d{1,14}$
        verified:
          type: boolean
          default: false
      required:
        - discordUsername
        - displayName
        - contactEmail
    UpdateBoosterRequest:
      type: object
      properties:
        discordUsername:
          type: string
          minLength: 1
          maxLength: 100
        displayName:
          type: string
          minLength: 1
          maxLength: 50
        contactEmail:
          type: string
          format: email
        phoneNumber:
          type: string
          pattern: ^\+?[1-9]\d{1,14}$
        active:
          type: boolean
        verified:
          type: boolean
      required: []
    PriceConfiguration:
      type: object
      properties:
        id:
          type: string
          format: uuid
        gameId:
          type: string
          format: uuid
        difficultyLevelId:
          type: string
          format: uuid
        serviceTypeId:
          type: string
          format: uuid
        basePrice:
          type: integer
          minimum: 0
          description: Base price in cents (e.g., 100 = $1.00)
        pricePerLevel:
          type: integer
          minimum: 0
          default: 0
          description: Price per level in cents
        currency:
          type: string
          default: USD
        calculationType:
          type: string
          enum:
            - LINEAR
            - RANGE
            - FORMULA
            - TIME_BASED
        calculationFormula:
          oneOf:
            - $ref: '#/components/schemas/CalculationFormula'
            - type: 'null'
        active:
          type: boolean
          default: true
        sortOrder:
          type: integer
          minimum: 0
          default: 0
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
        - id
        - gameId
        - difficultyLevelId
        - serviceTypeId
        - basePrice
        - calculationType
        - active
        - sortOrder
    PriceConfigurationListResponse:
      type: object
      required:
        - data
        - totalElements
        - totalPages
        - size
        - number
        - numberOfElements
        - first
        - last
        - empty
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/PriceConfiguration'
          description: Page content
        totalElements:
          type: integer
          format: int64
          description: Total number of elements
        totalPages:
          type: integer
          description: Total number of pages
        size:
          type: integer
          description: Page size
        number:
          type: integer
          description: Page number (0-based)
        numberOfElements:
          type: integer
          description: Number of elements in current page
        first:
          type: boolean
          description: Is first page
        last:
          type: boolean
          description: Is last page
        empty:
          type: boolean
          description: Is empty
    CreatePriceConfigurationRequest:
      type: object
      properties:
        gameId:
          type: string
          format: uuid
        difficultyLevelId:
          type: string
          format: uuid
        serviceTypeId:
          type: string
          format: uuid
        basePrice:
          type: integer
          minimum: 0
          description: Base price in cents
        pricePerLevel:
          type: integer
          minimum: 0
          default: 0
          description: Price per level in cents
        currency:
          type: string
          default: USD
        calculationType:
          type: string
          enum:
            - LINEAR
            - RANGE
            - FORMULA
            - TIME_BASED
        calculationFormula:
          oneOf:
            - $ref: '#/components/schemas/CalculationFormula'
            - type: 'null'
        sortOrder:
          type: integer
          minimum: 0
          default: 0
        active:
          type: boolean
          default: true
      required:
        - gameId
        - difficultyLevelId
        - serviceTypeId
        - basePrice
        - calculationType
    UpdatePriceConfigurationRequest:
      type: object
      properties:
        gameId:
          type: string
          format: uuid
        difficultyLevelId:
          type: string
          format: uuid
        serviceTypeId:
          type: string
          format: uuid
        basePrice:
          type: integer
          minimum: 0
          description: Base price in cents
        pricePerLevel:
          type: integer
          minimum: 0
          description: Price per level in cents
        currency:
          type: string
        calculationType:
          type: string
          enum:
            - LINEAR
            - RANGE
            - FORMULA
            - TIME_BASED
        calculationFormula:
          oneOf:
            - $ref: '#/components/schemas/CalculationFormula'
            - type: 'null'
        sortOrder:
          type: integer
          minimum: 0
        active:
          type: boolean
      required:
        - gameId
        - difficultyLevelId
        - serviceTypeId
    GameModifierType:
      type: string
      enum:
        - TIMING
        - SUPPORT
        - MODE
        - QUALITY
        - EXTRA
        - PROMOTIONAL
        - SEASONAL
        - SPELLS
        - RANK
        - PROGRESSION
        - COSMETIC
        - SOCIAL
        - GUIDANCE
        - ACHIEVEMENT
        - SERVICE
      description: Type of game boosting modifier
      x-enum-descriptions:
        - Timing-related modifiers (rush, express, etc.)
        - Support modifiers (voice chat, stream, etc.)
        - Game mode modifiers (ranked, casual, etc.)
        - Quality modifiers (premium, standard, etc.)
        - Extra service modifiers (screenshot, replay, etc.)
        - Promotional modifiers (discounts, bonuses, etc.)
        - Seasonal modifiers (holiday specials, events, etc.)
        - Spell/item modifiers (spells, items, etc.)
        - Rank-related modifiers (rank boost, etc.)
        - Progression modifiers (level up, achievements, etc.)
        - Cosmetic modifiers (skins, effects, etc.)
        - Social modifiers (duo, party, etc.)
        - Guidance modifiers (coaching, tips, etc.)
        - Achievement modifiers (trophies, badges, etc.)
        - Service modifiers (premium service, etc.)
    GameModifierOperation:
      type: string
      enum:
        - ADD
        - SUBTRACT
        - MULTIPLY
        - DIVIDE
      description: Operation type for applying game modifiers
      x-enum-descriptions:
        - Add fixed amount to base price
        - Subtract fixed amount from base price
        - Multiply base price by factor
        - Divide base price by factor
    GameModifier:
      type: object
      required:
        - code
        - name
        - type
        - operation
        - value
        - gameCode
        - active
      properties:
        code:
          type: string
          description: Unique modifier code within game
          x-unique: true
          example: RUSH_24H
        name:
          type: string
          description: Modifier display name
          example: 24 Hour Rush
        description:
          type: string
          description: Detailed description
          example: Complete the boost within 24 hours
        type:
          $ref: '#/components/schemas/GameModifierType'
        operation:
          $ref: '#/components/schemas/GameModifierOperation'
        value:
          type: integer
          description: |
            Modifier value:
            - For ADD/SUBTRACT: amount in cents (e.g., 5000 = $50.00)
            - For MULTIPLY: multiplier * 100 (e.g., 150 = 1.5x, 200 = 2.0x)
            - For DIVIDE: divisor * 100 (e.g., 200 = divide by 2.0)
          example: 150
        gameCode:
          type: string
          description: Game this modifier belongs to
          example: WOW
        serviceTypeCodes:
          type: array
          items:
            type: string
          description: Service types this modifier applies to
          example:
            - LEVEL_BOOST
            - ACHIEVEMENT
        active:
          type: boolean
          description: Is modifier active and available
          default: true
        sortOrder:
          type: integer
          description: Display order
          default: 0
        icon:
          type: string
          description: Icon identifier for UI
          example: LIGHTNING
        color:
          type: string
          description: Color code for UI
          example: '#FF6B35'
        priority:
          type: integer
          description: Priority for applying multiple modifiers (higher = applied later)
          default: 0
          minimum: 0
          maximum: 100
        maxUses:
          type: integer
          description: Maximum number of times this modifier can be used (null = unlimited)
          minimum: 1
        effectiveDate:
          type: string
          format: date-time
          description: Date when modifier becomes effective
        expirationDate:
          type: string
          format: date-time
          description: Date when modifier expires
        conditions:
          type: string
          description: JSON conditions for applying modifier
          example: 'minLevel: 10, maxLevel: 60'
    GameModifierInfo:
      allOf:
        - $ref: '#/components/schemas/GameModifier'
        - type: object
          properties:
            id:
              type: string
              format: uuid
              description: Modifier ID
            createdAt:
              type: string
              format: date-time
              description: Creation timestamp
            updatedAt:
              type: string
              format: date-time
              description: Last update timestamp
    CreateGameModifierRequest:
      type: object
      required:
        - code
        - name
        - type
        - operation
        - value
        - gameCode
      properties:
        code:
          type: string
          description: Unique modifier code
          x-unique: true
        name:
          type: string
          description: Modifier display name
        description:
          type: string
          description: Detailed description
        type:
          $ref: '#/components/schemas/GameModifierType'
        operation:
          $ref: '#/components/schemas/GameModifierOperation'
        value:
          type: integer
          description: Modifier value
        gameCode:
          type: string
          description: Game code
        serviceTypeCodes:
          type: array
          items:
            type: string
          description: Applicable service types
        sortOrder:
          type: integer
          description: Display order
          default: 0
        icon:
          type: string
          description: Icon identifier
        color:
          type: string
          description: Color code
    UpdateGameModifierRequest:
      type: object
      properties:
        name:
          type: string
          description: Modifier display name
        description:
          type: string
          description: Detailed description
        type:
          $ref: '#/components/schemas/GameModifierType'
        operation:
          $ref: '#/components/schemas/GameModifierOperation'
        value:
          type: integer
          description: Modifier value
        serviceTypeCodes:
          type: array
          items:
            type: string
          description: Applicable service types
        active:
          type: boolean
          description: Is modifier active
        sortOrder:
          type: integer
          description: Display order
        icon:
          type: string
          description: Icon identifier
        color:
          type: string
          description: Color code
    GameModifiersResponse:
      type: object
      required:
        - modifiers
      properties:
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/GameModifier'
          description: List of game modifiers
        totalCount:
          type: integer
          description: Total number of modifiers
        activeCount:
          type: integer
          description: Number of active modifiers
    GameModifierFilter:
      type: object
      properties:
        gameCode:
          type: string
          description: Filter by game code
        type:
          $ref: '#/components/schemas/GameModifierType'
        operation:
          $ref: '#/components/schemas/GameModifierOperation'
        active:
          type: boolean
          description: Filter by active status
        serviceTypeCode:
          type: string
          description: Filter by service type
        search:
          type: string
          description: Free text search in name/description
    CalculationFormula:
      type: object
      discriminator:
        propertyName: type
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - LINEAR
            - RANGE
            - FORMULA
            - TIME_BASED
          description: Type of calculation formula
      description: Base schema for all calculation formulas with polymorphism support
    UniversalCalculationRequest:
      type: object
      required:
        - context
      properties:
        formula:
          oneOf:
            - $ref: '#/components/schemas/CalculationFormula'
            - type: 'null'
          description: >-
            Optional formula for custom calculations. If not provided, universal
            calculator will create a default formula based on context.
        context:
          $ref: '#/components/schemas/UniversalCalculationContext'
      description: Request schema for universal calculation endpoint
    UniversalCalculationResponse:
      type: object
      required:
        - finalPrice
        - status
        - breakdown
        - formulaType
      properties:
        finalPrice:
          type: integer
          description: Final price in cents
          example: 15000
        currency:
          type: string
          default: USD
          example: USD
        status:
          type: string
          enum:
            - SUCCESS
            - FAILED
            - FALLBACK
          default: SUCCESS
        breakdown:
          type: object
          title: CalculationBreakdown
          description: Complete calculation breakdown
          properties:
            baseCalculation:
              type: integer
              description: Base formula calculation in cents
              example: 10000
            modifierAdjustments:
              type: array
              items:
                type: object
                title: ModifierAdjustment
                properties:
                  modifierCode:
                    type: string
                    example: RUSH
                  adjustment:
                    type: integer
                    description: Price adjustment in cents
                    example: 2000
                  type:
                    type: string
                    enum:
                      - PERCENTAGE
                      - FIXED
                      - MULTIPLIER
                    example: PERCENTAGE
            totalAdjustment:
              type: integer
              description: Total adjustment in cents
              example: 5000
            finalPrice:
              type: integer
              description: Final calculated price in cents
              example: 15000
          required:
            - baseCalculation
            - modifierAdjustments
            - totalAdjustment
            - finalPrice
        formulaType:
          type: string
          enum:
            - LINEAR
            - RANGE
            - FORMULA
            - TIME_BASED
          example: LINEAR
        metadata:
          type: object
          title: CalculationMetadata
          description: Calculation metadata
          properties:
            calculationTimeMs:
              type: integer
              description: Time taken for calculation
              example: 15
            formulaVersion:
              type: string
              description: Version of formula used
              example: '1.0'
            appliedModifiersCount:
              type: integer
              description: Number of modifiers applied
              example: 2
            levelDifference:
              type: integer
              description: Difference between target and start level
              example: 59
      description: Response schema for universal calculation endpoint
    LinearFormula:
      allOf:
        - $ref: '#/components/schemas/CalculationFormula'
        - type: object
          properties:
            pricePerLevel:
              type: integer
              minimum: 0
              description: Price per level in cents
              example: 100
          description: >-
            Simple linear calculation - uses basePrice + (levelDiff ×
            pricePerLevel)
    RangeFormula:
      allOf:
        - $ref: '#/components/schemas/CalculationFormula'
        - type: object
          required:
            - ranges
          properties:
            ranges:
              type: array
              items:
                $ref: '#/components/schemas/PriceRange'
              description: Array of price ranges for different level intervals
              minItems: 1
          description: Range-based calculation with different prices for level intervals
    FormulaFormula:
      allOf:
        - $ref: '#/components/schemas/CalculationFormula'
        - type: object
          required:
            - expression
          properties:
            expression:
              type: string
              description: Mathematical expression for price calculation
              example: basePrice + (levelDiff * pricePerLevel * multiplier)
            variables:
              type: object
              description: Custom variables for the formula (values as integers)
              additionalProperties:
                type: integer
              example:
                multiplier: 150
                discount: 10
          description: Custom mathematical formula with variables
    TimeBasedFormula:
      allOf:
        - $ref: '#/components/schemas/CalculationFormula'
        - type: object
          required:
            - hourlyRate
            - baseHours
          properties:
            hourlyRate:
              type: integer
              minimum: 1
              description: Hourly rate in cents
              example: 2000
            baseHours:
              type: integer
              minimum: 1
              description: Base time estimate in hours
              example: 8
            hoursPerLevel:
              type: integer
              minimum: 0
              default: 1
              description: Additional hours per level
              example: 1
            complexityMultiplier:
              type: integer
              minimum: 100
              maximum: 1000
              default: 100
              description: >-
                Complexity adjustment multiplier (percentage, 100 = 1.0x, 150 =
                1.5x)
              example: 150
            minimumHours:
              type: integer
              minimum: 1
              default: 1
              description: Minimum billable time in hours
              example: 1
            roundToHours:
              type: boolean
              default: true
              description: Whether to round up to full hours
              example: true
          description: Time-based calculation with hourly rates and complexity adjustments
    PriceRange:
      type: object
      required:
        - from
        - to
        - price
      properties:
        from:
          type: integer
          minimum: 1
          description: Starting level of the range (inclusive)
          example: 1
        to:
          type: integer
          minimum: 1
          description: Ending level of the range (inclusive)
          example: 5
        price:
          type: integer
          minimum: 0
          description: Price per level in this range (in cents)
          example: 1000
      description: Price range definition for range-based calculations
    UniversalCalculationContext:
      type: object
      description: Complete calculation context
      properties:
        gameCode:
          type: string
          example: WOW
        serviceTypeCode:
          type: string
          example: LEVEL_BOOST
        difficultyLevelCode:
          type: string
          example: 01-60
        startLevel:
          type: integer
          minimum: 1
          example: 1
        targetLevel:
          type: integer
          minimum: 1
          example: 60
        modifiers:
          type: array
          items:
            type: string
          description: Modifier codes
          example:
            - RUSH
            - PREMIUM
        additionalParameters:
          type: object
          description: Any additional calculation parameters (values as integers)
          additionalProperties:
            type: integer
          example:
            customMultiplier: 120
    OrderInfo:
      type: object
      required:
        - id
        - orderNumber
        - customerId
        - customer
        - branchId
        - status
        - items
        - pricing
        - createdAt
        - expectedCompletionDate
      properties:
        id:
          type: string
          format: uuid
          description: Order ID
        orderNumber:
          type: string
          description: Order number
        customerId:
          type: string
          format: uuid
          description: Customer ID
        customer:
          $ref: '#/components/schemas/CustomerSummary'
        branchId:
          type: string
          format: uuid
          description: Branch ID
        uniqueLabel:
          type: string
          description: Unique label (QR code)
        status:
          $ref: '#/components/schemas/OrderStatus'
        items:
          type: array
          items:
            $ref: '#/components/schemas/OrderItemInfo'
        pricing:
          $ref: '#/components/schemas/OrderPricingInfo'
        payments:
          type: array
          items:
            $ref: '#/components/schemas/PaymentInfo'
        notes:
          type: string
          description: Order notes
        customerSignature:
          type: string
          description: Customer signature (base64)
        createdAt:
          type: string
          format: date-time
          description: Creation time
        createdBy:
          type: string
          description: Created by user ID
        expectedCompletionDate:
          type: string
          format: date-time
          description: Expected completion date
        actualCompletionDate:
          type: string
          format: date-time
          description: Actual completion date
    CustomerSummary:
      type: object
      required:
        - id
        - firstName
        - lastName
        - phone
      properties:
        id:
          type: string
          format: uuid
        firstName:
          type: string
        lastName:
          type: string
        phone:
          type: string
        email:
          type: string
    OrderItemInfo:
      type: object
      required:
        - id
        - priceListItemId
        - priceListItem
        - quantity
        - characteristics
        - pricing
      properties:
        id:
          type: string
          format: uuid
          description: Order item ID
        priceListItemId:
          type: string
          format: uuid
          description: Price list item ID
        priceListItem:
          allOf:
            - $ref: '#/components/schemas/PriceListItemSummary'
          description: Price list item details
        quantity:
          type: integer
          description: Quantity (in units)
        characteristics:
          allOf:
            - $ref: '#/components/schemas/ItemCharacteristics'
          description: Item characteristics
        stains:
          type: array
          items:
            $ref: '#/components/schemas/ItemStain'
          description: Item stains
        defects:
          type: array
          items:
            $ref: '#/components/schemas/ItemDefect'
          description: Item defects
        risks:
          type: array
          items:
            $ref: '#/components/schemas/ItemRisk'
          description: Item risks
        photos:
          type: array
          items:
            $ref: '#/components/schemas/ItemPhotoInfo'
          description: Item photos
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/OrderItemModifier'
          description: Applied modifiers
        pricing:
          allOf:
            - $ref: '#/components/schemas/OrderItemPricingInfo'
          description: Item pricing details
    OrderItemCharacteristics:
      $ref: '#/components/schemas/ItemCharacteristics'
    ItemStain:
      type: object
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/StainType'
        description:
          type: string
          description: Additional description
    ItemDefect:
      type: object
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/DefectType'
        description:
          type: string
          description: Additional description
    ItemRisk:
      type: object
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/RiskType'
        description:
          type: string
          description: Risk description
    ItemPhotoInfo:
      type: object
      required:
        - id
        - url
        - type
        - uploadedAt
      properties:
        id:
          type: string
          format: uuid
          description: Photo ID
        url:
          type: string
          description: Photo URL
        type:
          $ref: '#/components/schemas/PhotoType'
        description:
          type: string
          description: Photo description
        uploadedAt:
          type: string
          format: date-time
          description: Upload time
        uploadedBy:
          type: string
          description: Uploaded by user ID
    OrderItemModifier:
      type: object
      required:
        - code
        - name
        - type
        - value
      properties:
        code:
          type: string
          description: Modifier code
        name:
          type: string
          description: Modifier name
        type:
          $ref: '#/components/schemas/PricingModifierType'
        value:
          type: number
          description: Modifier value
    OrderItemPricingInfo:
      type: object
      required:
        - basePrice
        - modifiersTotalAmount
        - subtotal
        - urgencyAmount
        - discountAmount
        - total
      properties:
        basePrice:
          type: integer
          description: Base price in kopiykas
        modifierDetails:
          type: array
          items:
            $ref: '#/components/schemas/OrderModifierDetail'
          description: Applied modifier details
        modifiersTotalAmount:
          type: integer
          description: Total modifiers amount
        subtotal:
          type: integer
          description: Subtotal (base + modifiers)
        urgencyAmount:
          type: integer
          description: Urgency surcharge
        discountAmount:
          type: integer
          description: Discount amount
        total:
          type: integer
          description: Total price
    OrderModifierDetail:
      type: object
      required:
        - code
        - name
        - amount
      properties:
        code:
          type: string
        name:
          type: string
        amount:
          type: integer
    OrderPricingInfo:
      type: object
      required:
        - itemsSubtotal
        - urgencyAmount
        - discountAmount
        - total
        - paidAmount
        - balanceDue
      properties:
        itemsSubtotal:
          type: integer
          description: Sum of all items subtotals
        urgencyAmount:
          type: integer
          description: Total urgency amount
        discountAmount:
          type: integer
          description: Total discount amount
        discountApplicableAmount:
          type: integer
          description: Amount eligible for discount
        total:
          type: integer
          description: Final total
        paidAmount:
          type: integer
          description: Total paid amount
        balanceDue:
          type: integer
          description: Balance due
    PaymentInfo:
      type: object
      required:
        - id
        - amount
        - method
        - paidAt
      properties:
        id:
          type: string
          format: uuid
        amount:
          type: integer
          description: Payment amount in kopiykas
        method:
          $ref: '#/components/schemas/PaymentMethod'
        paidAt:
          type: string
          format: date-time
        paidBy:
          type: string
          description: User ID who registered payment
    CreateOrderRequest:
      type: object
      required:
        - cartId
        - branchId
      properties:
        cartId:
          type: string
          format: uuid
          description: Cart ID to create order from
        branchId:
          type: string
          format: uuid
          description: Branch ID
        uniqueLabel:
          type: string
          description: Unique label (QR code)
        notes:
          type: string
          description: Order notes
        customerSignature:
          type: string
          description: Customer signature (base64)
        termsAccepted:
          type: boolean
          description: Terms and conditions accepted
          default: false
    UpdateOrderStatusRequest:
      type: object
      required:
        - status
      properties:
        status:
          $ref: '#/components/schemas/OrderStatus'
        notes:
          type: string
          description: Status change notes
    UpdateItemCharacteristicsRequest:
      type: object
      properties:
        characteristics:
          $ref: '#/components/schemas/ItemCharacteristics'
        stains:
          type: array
          items:
            $ref: '#/components/schemas/ItemStain'
        defects:
          type: array
          items:
            $ref: '#/components/schemas/ItemDefect'
        risks:
          type: array
          items:
            $ref: '#/components/schemas/ItemRisk'
    AddPaymentRequest:
      type: object
      required:
        - amount
        - method
      properties:
        amount:
          type: integer
          minimum: 1
          description: Payment amount in kopiykas
        method:
          $ref: '#/components/schemas/PaymentMethod'
    SaveSignatureRequest:
      type: object
      required:
        - signature
      properties:
        signature:
          type: string
          description: Customer signature in base64 format
          example: >-
            data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==
    OrderListResponse:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/OrderInfo'
    OrderStatus:
      type: string
      enum:
        - PENDING
        - ACCEPTED
        - IN_PROGRESS
        - READY
        - COMPLETED
        - CANCELLED
      description: Order lifecycle status
    PhotoType:
      type: string
      enum:
        - GENERAL
        - DEFECT
        - STAIN
        - LABEL
      description: Types of item photos
    PaymentMethod:
      type: string
      enum:
        - CASH
        - TERMINAL
        - BANK_TRANSFER
      description: Available payment methods
    StainType:
      type: string
      enum:
        - GREASE
        - BLOOD
        - PROTEIN
        - WINE
        - COFFEE
        - GRASS
        - INK
        - COSMETICS
        - OTHER
      description: Types of stains on items
    DefectType:
      type: string
      enum:
        - WORN
        - TORN
        - MISSING_ACCESSORIES
        - DAMAGED_ACCESSORIES
        - OTHER
      description: Types of item defects
    RiskType:
      type: string
      enum:
        - COLOR_CHANGE
        - DEFORMATION
        - NO_WARRANTY
      description: Processing risk types
    PriceListItemInfo:
      type: object
      required:
        - id
        - categoryCode
        - catalogNumber
        - name
        - unitOfMeasure
        - basePrice
        - active
      properties:
        id:
          type: string
          format: uuid
          description: Price list item ID
        categoryCode:
          allOf:
            - $ref: '#/components/schemas/ServiceCategoryType'
          description: Service category code
        catalogNumber:
          type: integer
          description: Catalog number
        name:
          type: string
          description: Item name
        unitOfMeasure:
          allOf:
            - $ref: '#/components/schemas/UnitOfMeasure'
          description: Unit of measure
        basePrice:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Base price in kopiykas (1 kopiykas = 0.01 UAH)
        priceBlack:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Price for black dyeing in kopiykas (1 kopiykas = 0.01 UAH)
        priceColor:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Price for color dyeing in kopiykas (1 kopiykas = 0.01 UAH)
        active:
          type: boolean
          description: Is item active
        processingTimeDays:
          type: integer
          description: Processing time in days
          default: 3
        expressAvailable:
          type: boolean
          description: Is express service available
          default: false
        expressTimeHours:
          type: integer
          description: Express processing time in hours
        expressPrice:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Express service price in kopiykas
        sortOrder:
          type: integer
          description: Sort order for display
          default: '0'
        description:
          type: string
          description: Service/item description
        nameUa:
          type: string
          description: Ukrainian name
    CreatePriceListItemRequest:
      type: object
      required:
        - categoryCode
        - catalogNumber
        - name
        - unitOfMeasure
        - basePrice
      properties:
        categoryCode:
          allOf:
            - $ref: '#/components/schemas/ServiceCategoryType'
          description: Service category code
        catalogNumber:
          type: integer
          description: Catalog number
        name:
          type: string
          description: Item name
        unitOfMeasure:
          allOf:
            - $ref: '#/components/schemas/UnitOfMeasure'
          description: Unit of measure
        basePrice:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Base price in kopiykas
        priceBlack:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Price for black dyeing
        priceColor:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Price for color dyeing
        active:
          type: boolean
          description: Is item active
          default: true
        processingTimeDays:
          type: integer
          description: Processing time in days
          default: 3
        expressAvailable:
          type: boolean
          description: Is express service available
          default: false
        expressTimeHours:
          type: integer
          description: Express processing time in hours
        expressPrice:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Express service price
        sortOrder:
          type: integer
          description: Sort order for display
          default: '0'
        description:
          type: string
          description: Service/item description
        nameUa:
          type: string
          description: Ukrainian name
    UpdatePriceListItemRequest:
      type: object
      properties:
        name:
          type: string
          description: Item name
        basePrice:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Base price in kopiykas
        priceBlack:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Price for black dyeing
        priceColor:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Price for color dyeing
        active:
          type: boolean
          description: Is item active
        processingTimeDays:
          type: integer
          description: Processing time in days
        expressAvailable:
          type: boolean
          description: Is express service available
        expressTimeHours:
          type: integer
          description: Express processing time in hours
        expressPrice:
          type: integer
          minimum: 0
          maximum: 999999999
          description: Express service price
        sortOrder:
          type: integer
          description: Sort order for display
          default: '0'
        description:
          type: string
          description: Service/item description
        nameUa:
          type: string
          description: Ukrainian name
    PriceListItemsResponse:
      type: object
      required:
        - priceListItems
        - totalItems
        - hasMore
      properties:
        priceListItems:
          type: array
          items:
            $ref: '#/components/schemas/PriceListItemInfo'
          description: List of price list items
        totalItems:
          type: integer
          description: Total number of items matching the filter
        hasMore:
          type: boolean
          description: Whether there are more items to load
    PriceCalculationRequest:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/PriceCalculationItem'
          description: Items to calculate price for
        globalModifiers:
          $ref: '#/components/schemas/GlobalPriceModifiers'
    PriceCalculationItem:
      type: object
      required:
        - priceListItemId
        - quantity
      properties:
        priceListItemId:
          type: string
          format: uuid
          description: Price list item ID
        quantity:
          type: integer
          minimum: 1
          description: Quantity (in units)
        characteristics:
          $ref: '#/components/schemas/ItemCharacteristics'
        modifierCodes:
          type: array
          items:
            type: string
          description: Modifier codes to apply
    PricingItemCharacteristics:
      $ref: '#/components/schemas/ItemCharacteristics'
    GlobalPriceModifiers:
      type: object
      x-discount-excluded-categories:
        - LAUNDRY
        - IRONING
        - DYEING
      x-discount-excluded-categories-description: |
        Categories excluded from all discounts:
        * `LAUNDRY` - Прання (Laundry)
        * `IRONING` - Прасування (Ironing)
        * `DYEING` - Фарбування (Dyeing)
      properties:
        urgencyType:
          allOf:
            - $ref: '#/components/schemas/UrgencyType'
            - x-enum-varnames:
                - NORMAL
                - EXPRESS_48H
                - EXPRESS_24H
              x-enum-descriptions:
                - Standard processing
                - Express 48 hours
                - Express 24 hours
              x-enum-percentages:
                - 0
                - 50
                - 100
              default: NORMAL
              description: |
                Urgency type:
                * `NORMAL` - Standard processing (0%)
                * `EXPRESS_48H` - Express 48 hours (+50%)
                * `EXPRESS_24H` - Express 24 hours (+100%)
        discountType:
          allOf:
            - $ref: '#/components/schemas/DiscountType'
            - x-enum-varnames:
                - NONE
                - EVERCARD
                - SOCIAL_MEDIA
                - MILITARY
                - OTHER
              x-enum-descriptions:
                - No discount
                - Evercard discount
                - Social media discount
                - Military discount
                - Other discount
              x-enum-percentages:
                - 0
                - 10
                - 5
                - 10
                - null
              default: NONE
              description: |
                Discount type:
                * `NONE` - No discount (0%)
                * `EVERCARD` - Evercard discount (10%)
                * `SOCIAL_MEDIA` - Social media discount (5%)
                * `MILITARY` - Military discount (10%)
                * `OTHER` - Other discount (requires discountPercentage)
        discountPercentage:
          type: integer
          minimum: 0
          maximum: 100
          description: Discount percentage (required for OTHER type)
    PriceCalculationResponse:
      type: object
      required:
        - items
        - totals
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/CalculatedItemPrice'
          description: Calculated prices for each item
        totals:
          $ref: '#/components/schemas/CalculationTotals'
        warnings:
          type: array
          items:
            type: string
          description: Calculation warnings (e.g., discount not applicable)
    CalculatedItemPrice:
      type: object
      required:
        - priceListItemId
        - itemName
        - quantity
        - basePrice
        - calculations
        - total
      properties:
        priceListItemId:
          type: string
          format: uuid
        itemName:
          type: string
          description: Item name from price list
        categoryCode:
          $ref: '#/components/schemas/ServiceCategoryType'
        quantity:
          type: integer
        basePrice:
          type: integer
          description: Base price per unit in kopiykas
        calculations:
          $ref: '#/components/schemas/ItemPriceCalculation'
        total:
          type: integer
          description: Total price for this item in kopiykas
    ItemPriceCalculation:
      type: object
      required:
        - baseAmount
        - modifiers
        - subtotal
        - urgencyModifier
        - discountModifier
        - finalAmount
      properties:
        baseAmount:
          type: integer
          description: Base amount (base price × quantity) in kopiykas
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/AppliedModifier'
          description: Applied modifiers with amounts
        modifiersTotal:
          type: integer
          description: Total modifiers amount in kopiykas
        subtotal:
          type: integer
          description: Subtotal (base + modifiers) in kopiykas
        urgencyModifier:
          $ref: '#/components/schemas/AppliedModifier'
        discountModifier:
          $ref: '#/components/schemas/AppliedModifier'
        discountEligible:
          type: boolean
          description: Whether item is eligible for discount
        finalAmount:
          type: integer
          description: Final amount after all calculations in kopiykas
    AppliedModifier:
      type: object
      required:
        - code
        - name
        - type
        - value
        - amount
      properties:
        code:
          type: string
          description: Modifier code
        name:
          type: string
          description: Modifier name
        type:
          $ref: '#/components/schemas/PricingModifierType'
        value:
          type: integer
          description: >-
            Modifier value (percentage in basis points *100 or fixed amount in
            kopiykas)
        amount:
          type: integer
          description: Calculated amount in kopiykas
    CalculationTotals:
      type: object
      required:
        - itemsSubtotal
        - urgencyAmount
        - discountAmount
        - discountApplicableAmount
        - total
      properties:
        itemsSubtotal:
          type: integer
          description: Sum of all items subtotals in kopiykas
        urgencyAmount:
          type: integer
          description: Total urgency surcharge in kopiykas
        urgencyPercentage:
          type: integer
          description: Applied urgency percentage
        discountAmount:
          type: integer
          description: Total discount amount in kopiykas
        discountPercentage:
          type: integer
          description: Applied discount percentage
        discountApplicableAmount:
          type: integer
          description: Amount eligible for discount in kopiykas
        total:
          type: integer
          description: Final total amount in kopiykas
        expectedCompletionDate:
          type: string
          format: date-time
          description: Expected completion date based on items and urgency
        expectedCompletionNote:
          type: string
          description: Optional note (e.g., "після 14:00")
    PriceModifier:
      type: object
      required:
        - code
        - name
        - type
        - value
        - active
      properties:
        code:
          type: string
          description: Unique modifier code
          x-unique: true
        name:
          type: string
          description: Modifier name
        description:
          type: string
          description: Modifier description
        type:
          $ref: '#/components/schemas/PricingModifierType'
        operation:
          allOf:
            - $ref: '#/components/schemas/PricingOperationType'
          description: Operation type for applying the modifier
          default: ADD
        value:
          type: integer
          description: |
            Modifier value:
            - For PERCENTAGE: basis points (e.g., 1550 = 15.5%)
            - For FIXED: amount in kopiykas per item
        categoryRestrictions:
          type: array
          items:
            $ref: '#/components/schemas/ServiceCategoryType'
          description: Category codes where modifier is applicable
        active:
          type: boolean
          description: Is modifier active
        sortOrder:
          type: integer
          description: Sort order for display
          default: 0
    PriceModifierInfo:
      allOf:
        - $ref: '#/components/schemas/PriceModifier'
        - type: object
          properties:
            id:
              type: string
              format: uuid
              description: Modifier ID
            createdAt:
              type: string
              format: date-time
              description: Creation timestamp
            updatedAt:
              type: string
              format: date-time
              description: Last update timestamp
    Discount:
      type: object
      required:
        - code
        - name
        - percentage
        - active
      properties:
        code:
          type: string
          description: Unique discount code
          x-unique: true
        name:
          type: string
          description: Discount name
        description:
          type: string
          description: Discount description
        percentage:
          type: integer
          minimum: 0
          maximum: 100
          description: Discount percentage
        excludedCategories:
          type: array
          items:
            $ref: '#/components/schemas/ServiceCategoryType'
          description: Category codes excluded from discount
        active:
          type: boolean
          description: Is discount active
        sortOrder:
          type: integer
          description: Sort order for display
          default: 0
    DiscountInfo:
      allOf:
        - $ref: '#/components/schemas/Discount'
        - type: object
          properties:
            id:
              type: string
              format: uuid
              description: Discount ID
            createdAt:
              type: string
              format: date-time
              description: Creation timestamp
            updatedAt:
              type: string
              format: date-time
              description: Last update timestamp
    PriceModifiersResponse:
      type: object
      required:
        - modifiers
      properties:
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/PriceModifier'
          description: List of price modifiers
        generalModifiers:
          type: array
          items:
            $ref: '#/components/schemas/PriceModifier'
          description: General modifiers (applicable to all categories)
        textileModifiers:
          type: array
          items:
            $ref: '#/components/schemas/PriceModifier'
          description: Textile-specific modifiers
        leatherModifiers:
          type: array
          items:
            $ref: '#/components/schemas/PriceModifier'
          description: Leather-specific modifiers
    DiscountsResponse:
      type: object
      required:
        - discounts
      properties:
        discounts:
          type: array
          items:
            $ref: '#/components/schemas/Discount'
          description: List of available discounts
    PricingOperationType:
      type: string
      enum:
        - ADD
        - SUBTRACT
        - MULTIPLY
        - DIVIDE
      description: Operation type for applying modifiers
      x-enum-descriptions:
        - Add modifier value to base price
        - Subtract modifier value from base price
        - Multiply base price by modifier value
        - Divide base price by modifier value
    ReceiptPreviewRequest:
      type: object
      required:
        - orderData
      properties:
        orderData:
          $ref: '#/components/schemas/ReceiptOrderData'
        templateId:
          type: string
          description: Template ID to use
          default: default
          example: default
        locale:
          type: string
          description: Locale for receipt generation
          default: uk
          example: uk
    ReceiptOrderData:
      type: object
      required:
        - orderNumber
        - branchName
        - customerName
        - items
        - totalAmount
        - createdAt
      properties:
        orderNumber:
          type: string
          description: Order number
          example: ORD-2024-0001
        branchName:
          type: string
          description: Branch name
          example: AKSI Main Branch
        branchAddress:
          type: string
          description: Branch address
          example: вул. Хрещатик, 1, Київ
        branchPhone:
          type: string
          description: Branch phone
          example: +380 44 123 45 67
        customerName:
          type: string
          description: Customer name
          example: Іван Петренко
        customerPhone:
          type: string
          description: Customer phone
          example: +380 67 123 45 67
        items:
          type: array
          description: Order items
          items:
            $ref: '#/components/schemas/ReceiptItem'
        subtotal:
          type: integer
          description: Subtotal in kopiykas
          example: 150000
        discount:
          type: integer
          description: Discount amount in kopiykas
          example: 15000
        totalAmount:
          type: integer
          description: Total amount in kopiykas
          example: 135000
        prepaidAmount:
          type: integer
          description: Prepaid amount in kopiykas
          example: 50000
        dueAmount:
          type: integer
          description: Due amount in kopiykas
          example: 85000
        paymentMethod:
          $ref: '#/components/schemas/PaymentMethod'
        createdAt:
          type: string
          format: date-time
          description: Order creation timestamp
        completionDate:
          type: string
          format: date-time
          description: Expected completion date
          example: '2024-12-25T10:00:00Z'
        notes:
          type: string
          description: Additional notes
          example: Обережно з пуговицями
    ReceiptItem:
      type: object
      required:
        - name
        - quantity
        - unitPrice
        - totalPrice
      properties:
        position:
          type: integer
          description: Item position in order
          example: 1
        name:
          type: string
          description: Item name
          example: Піджак чоловічий
        catalogNumber:
          type: string
          description: Catalog number
          example: CAT-001
        quantity:
          type: integer
          description: Quantity
          example: 1
        unitPrice:
          type: integer
          description: Unit price in kopiykas
          example: 50000
        totalPrice:
          type: integer
          description: Total price in kopiykas
          example: 50000
        modifiers:
          type: array
          description: Applied modifiers
          items:
            type: string
            example: Терміново
    EmailReceiptRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          description: Email address (if not specified, use customer's email)
          example: customer@example.com
        subject:
          type: string
          description: Email subject
          example: Ваша квитанція від AKSI
        message:
          type: string
          description: Additional message
          example: Дякуємо за ваше замовлення!
    EmailReceiptResponse:
      type: object
      required:
        - success
        - sentAt
      properties:
        success:
          type: boolean
          description: Email sent successfully
          example: true
        sentAt:
          type: string
          format: date-time
          description: Email sent timestamp
        email:
          type: string
          description: Email address where receipt was sent
          example: customer@example.com
        messageId:
          type: string
          description: Email message ID
          example: msg-123456
    ReceiptTemplate:
      type: object
      required:
        - id
        - name
        - description
        - isDefault
      properties:
        id:
          type: string
          description: Template ID
          example: default
        name:
          type: string
          description: Template name
          example: Стандартний шаблон
        description:
          type: string
          description: Template description
          example: Базовий шаблон квитанції
        isDefault:
          type: boolean
          description: Is default template
          example: true
        supportedLocales:
          type: array
          items:
            type: string
          description: Supported locales
          example:
            - uk
            - en
    UserSummary:
      type: object
      required:
        - id
        - username
        - firstName
        - lastName
        - email
        - roles
        - active
        - createdAt
      properties:
        id:
          type: string
          format: uuid
          description: User ID
        username:
          type: string
          description: Username
          example: operator1
        firstName:
          type: string
          description: First name
          example: Ivan
        lastName:
          type: string
          description: Last name
          example: Petrenko
        email:
          type: string
          format: email
          description: Email address
          example: ivan.petrenko@example.com
        roles:
          type: array
          items:
            $ref: '#/components/schemas/UserRole'
          minItems: 1
        active:
          type: boolean
          description: Is user active
        createdAt:
          type: string
          format: date-time
          description: Creation timestamp
        lastLoginAt:
          type: string
          format: date-time
          description: Last login timestamp
    UserDetail:
      allOf:
        - $ref: '#/components/schemas/UserSummary'
        - type: object
          required:
            - branches
            - updatedAt
          properties:
            phone:
              type: string
              pattern: ^\+?[0-9]{10,15}$
              description: Phone number
              example: '+380501234567'
            branches:
              type: array
              items:
                $ref: '#/components/schemas/BranchAssignment'
              description: Assigned branches
            updatedAt:
              type: string
              format: date-time
              description: Last update timestamp
            createdBy:
              type: string
              format: uuid
              description: ID of user who created this user
            updatedBy:
              type: string
              format: uuid
              description: ID of user who last updated this user
            failedLoginAttempts:
              type: integer
              minimum: 0
              description: Number of failed login attempts
              example: 0
            accountLockTime:
              type: string
              format: date-time
              description: When account was locked due to failed attempts
            lastFailedLoginAt:
              type: string
              format: date-time
              description: Last failed login attempt timestamp
    BranchAssignment:
      type: object
      required:
        - branchId
        - branchName
        - isPrimary
      properties:
        branchId:
          type: string
          format: uuid
          description: Branch ID
        branchName:
          type: string
          description: Branch name
          example: Main Street Branch
        isPrimary:
          type: boolean
          description: Is this the primary branch
    CreateUserRequest:
      type: object
      required:
        - username
        - password
        - firstName
        - lastName
        - email
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
          pattern: ^[a-zA-Z0-9_]+$
          description: Username (must be unique)
          example: operator1
          x-spring-validation: '@Username'
        password:
          type: string
          minLength: 6
          maxLength: 100
          description: Password (min 6 chars for dev, 12 for prod)
          example: SecurePassword123!
          x-spring-validation: '@StrongPassword'
        firstName:
          type: string
          minLength: 1
          maxLength: 100
          pattern: ^[a-zA-Z\u0400-\u04FF\s\-]+$
          description: First name (letters only)
          example: Ivan
        lastName:
          type: string
          minLength: 1
          maxLength: 100
          pattern: ^[a-zA-Z\u0400-\u04FF\s\-]+$
          description: Last name (letters only)
          example: Petrenko
        email:
          type: string
          format: email
          maxLength: 255
          description: Email address (must be unique)
          example: ivan.petrenko@example.com
          x-spring-validation: '@Email @UniqueEmail'
        phone:
          type: string
          pattern: ^\+?[0-9]{10,15}$
          description: Phone number (optional, international format)
          example: '+380501234567'
        roles:
          type: array
          items:
            $ref: '#/components/schemas/UserRole'
          minItems: 1
          maxItems: 10
          description: User roles (defaults to OPERATOR if not specified)
          default:
            - OPERATOR
          x-spring-default: '#{T(java.util.List).of(T(com.aksi.api.user.dto.UserRole).OPERATOR)}'
        branchIds:
          type: array
          items:
            type: string
            format: uuid
          maxItems: 50
          description: Branch IDs to assign (optional)
          default: []
        primaryBranchId:
          type: string
          format: uuid
          description: Primary branch ID (must be in branchIds if provided)
          x-spring-validation: '@ValidPrimaryBranch'
        active:
          type: boolean
          description: Account active status
          default: true
          x-spring-hidden: true
        emailVerified:
          type: boolean
          description: Email verification status
          default: false
          x-spring-hidden: true
    UpdateUserRequest:
      type: object
      minProperties: 1
      properties:
        firstName:
          type: string
          minLength: 1
          maxLength: 100
          description: First name
        lastName:
          type: string
          minLength: 1
          maxLength: 100
          description: Last name
        email:
          type: string
          format: email
          description: Email address
        phone:
          type: string
          pattern: ^\+?[0-9]{10,15}$
          description: Phone number
    ChangePasswordRequest:
      type: object
      required:
        - newPassword
      properties:
        currentPassword:
          type: string
          description: Current password (required if changing own password)
        newPassword:
          type: string
          minLength: 6
          maxLength: 100
          description: New password (min 6 chars for dev, 12 for prod)
          example: Admin123!
    UpdateRolesRequest:
      type: object
      required:
        - roles
      properties:
        roles:
          type: array
          items:
            $ref: '#/components/schemas/UserRole'
          minItems: 1
          description: New set of roles
    UpdateBranchesRequest:
      type: object
      required:
        - branchIds
      properties:
        branchIds:
          type: array
          items:
            type: string
            format: uuid
          description: Branch IDs to assign
        primaryBranchId:
          type: string
          format: uuid
          description: Primary branch ID (must be in branchIds if provided)
    UserBranchesResponse:
      type: object
      required:
        - branches
      properties:
        branches:
          type: array
          items:
            $ref: '#/components/schemas/BranchAssignment'
    UserListResponse:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponse'
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: '#/components/schemas/UserSummary'
  parameters:
    PageNumber:
      name: page
      in: query
      description: Page number (0-based)
      schema:
        type: integer
        minimum: 0
        default: 0
    PageSize:
      name: size
      in: query
      description: Page size (number of items per page)
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    SortBy:
      name: sortBy
      in: query
      description: >-
        Field to sort by (domain-specific). If not provided, server default is
        used
      schema:
        type: string
    SortOrder:
      name: sortOrder
      in: query
      description: Sort direction
      schema:
        $ref: '#/components/schemas/SortOrder'
    Search:
      name: search
      in: query
      description: Free text search
      schema:
        type: string
    CustomerId:
      name: customerId
      in: query
      description: Filter by customer ID
      schema:
        type: string
        format: uuid
    BranchId:
      name: branchId
      in: query
      description: Filter by branch ID
      schema:
        type: string
        format: uuid
    DateFrom:
      name: dateFrom
      in: query
      description: Filter by creation date from (UTC)
      schema:
        type: string
        format: date-time
    DateTo:
      name: dateTo
      in: query
      description: Filter by creation date to (UTC)
      schema:
        type: string
        format: date-time
x-tagGroups:
  - name: Auth API
    tags:
      - auth
  - name: Branch API
    tags:
      - branches
  - name: Cart API
    tags:
      - cart
  - name: Customer API
    tags:
      - customer
  - name: File API
    tags:
      - files
  - name: Games API
    tags:
      - games
      - service-types
      - difficulty-levels
      - boosters
      - price-configurations
      - modifiers
      - calculator
  - name: Order API
    tags:
      - orders
  - name: Price List API
    tags:
      - price-list
  - name: Pricing API
    tags:
      - pricing
  - name: Receipt API
    tags:
      - receipts
  - name: User API
    tags:
      - users
