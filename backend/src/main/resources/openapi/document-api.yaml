openapi: 3.0.3
info:
  title: Document Domain API
  description: API для управління документами в односторінковій системі хімчистки
  version: 1.0.0
  contact:
    name: AKSI Development Team
    email: dev@aksi.com
servers:
- url: http://localhost:8080
  description: Development server
- url: https://api.aksi.com
  description: Production server
tags:
- name: receipts
  description: Управління квитанціями
- name: documents
  description: Управління документами
- name: digital-signatures
  description: Цифрові підписи
- name: qr-codes
  description: QR-коди
- name: pdf-generation
  description: Генерація PDF
paths:
  /api/receipts:
    get:
      tags:
      - receipts
      summary: Отримати список квитанцій
      description: Повертає список квитанцій з можливістю фільтрації
      parameters:
      - name: orderId
        in: query
        description: Фільтр за замовленням
        required: false
        schema:
          type: string
          format: uuid
      - name: branchId
        in: query
        description: Фільтр за філією
        required: false
        schema:
          type: string
          format: uuid
      - name: clientId
        in: query
        description: Фільтр за клієнтом
        required: false
        schema:
          type: string
          format: uuid
      - name: startDate
        in: query
        description: Початкова дата
        required: false
        schema:
          type: string
          format: date
      - name: endDate
        in: query
        description: Кінцева дата
        required: false
        schema:
          type: string
          format: date
      - name: page
        in: query
        description: Номер сторінки
        required: false
        schema:
          type: integer
          minimum: 0
          default: 0
      - name: size
        in: query
        description: Розмір сторінки
        required: false
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
      responses:
        '200':
          description: Список квитанцій
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReceiptPageResponse'
      operationId: getReceipts
    post:
      tags:
      - receipts
      summary: Згенерувати квитанцію
      description: Генерує нову квитанцію для замовлення
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateReceiptRequest'
      responses:
        '201':
          description: Квитанція успішно згенерована
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReceiptResponse'
        '400':
          description: Помилка валідації
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
        '404':
          description: Замовлення не знайдене
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: createReceipt
  /api/receipts/{id}:
    get:
      tags:
      - receipts
      summary: Отримати квитанцію за ID
      description: Повертає детальну інформацію про квитанцію
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор квитанції (UUID)
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Інформація про квитанцію
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReceiptResponse'
        '404':
          description: Квитанція не знайдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getReceiptById
    put:
      tags:
      - receipts
      summary: Оновити квитанцію
      description: Оновлює дані квитанції (якщо ще не роздрукована)
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор квитанції (UUID)
        schema:
          type: string
          format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateReceiptRequest'
      responses:
        '200':
          description: Квитанція успішно оновлена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReceiptResponse'
        '400':
          description: Помилка валідації або квитанція вже роздрукована
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
        '404':
          description: Квитанція не знайдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: updateReceipt
  /api/receipts/{id}/pdf:
    get:
      tags:
      - pdf-generation
      summary: Отримати PDF квитанції
      description: Повертає PDF версію квитанції
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор квитанції (UUID)
        schema:
          type: string
          format: uuid
      - name: template
        in: query
        description: Шаблон квитанції
        required: false
        schema:
          type: string
          enum:
          - STANDARD
          - COMPACT
          - DETAILED
          default: STANDARD
      responses:
        '200':
          description: PDF файл квитанції
          content:
            application/pdf:
              schema:
                type: string
                format: binary
          headers:
            Content-Disposition:
              description: Attachment filename
              schema:
                type: string
                example: attachment; filename="receipt-AKSI-01-2024-000001.pdf"
        '404':
          description: Квитанція не знайдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getReceiptPdf
    post:
      tags:
      - pdf-generation
      summary: Згенерувати PDF квитанції
      description: Генерує PDF версію квитанції (якщо ще не згенерована)
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор квитанції (UUID)
        schema:
          type: string
          format: uuid
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                template:
                  type: string
                  enum:
                  - STANDARD
                  - COMPACT
                  - DETAILED
                  default: STANDARD
                  description: Шаблон для генерації
                regenerate:
                  type: boolean
                  default: false
                  description: Перегенерувати якщо вже існує
      responses:
        '201':
          description: PDF успішно згенеровано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '200':
          description: PDF вже існує
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '404':
          description: Квитанція не знайдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: generateReceiptPdf
  /api/receipts/{id}/print:
    post:
      tags:
      - receipts
      summary: Позначити як роздруковану
      description: Позначає квитанцію як роздруковану
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор квитанції (UUID)
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Квитанція позначена як роздрукована
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReceiptResponse'
        '404':
          description: Квитанція не знайдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: printReceipt
  /api/receipts/number/{receiptNumber}:
    get:
      tags:
      - receipts
      summary: Отримати квитанцію за номером
      description: Повертає квитанцію за номером
      parameters:
      - name: receiptNumber
        in: path
        required: true
        description: Номер квитанції
        schema:
          type: string
          pattern: ^[A-Z0-9-]+$
          example: AKSI-01-2024-000001
      responses:
        '200':
          description: Інформація про квитанцію
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReceiptResponse'
        '404':
          description: Квитанція з таким номером не знайдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getReceiptByNumber
  /api/qr-codes/generate:
    post:
      tags:
      - qr-codes
      summary: Згенерувати QR-код
      description: Генерує QR-код для замовлення або квитанції
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateQRCodeRequest'
      responses:
        '201':
          description: QR-код успішно згенеровано
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QRCodeResponse'
        '400':
          description: Помилка валідації
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
      operationId: generateQrCode
  /api/qr-codes/{id}:
    get:
      tags:
      - qr-codes
      summary: Отримати QR-код
      description: Повертає зображення QR-коду
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор QR-коду (UUID)
        schema:
          type: string
          format: uuid
      - name: format
        in: query
        description: Формат зображення
        required: false
        schema:
          type: string
          enum:
          - PNG
          - SVG
          - JPEG
          default: PNG
      - name: size
        in: query
        description: Розмір зображення в пікселях
        required: false
        schema:
          type: integer
          minimum: 50
          maximum: 1000
          default: 200
      responses:
        '200':
          description: QR-код зображення
          content:
            image/png:
              schema:
                type: string
                format: binary
            image/svg+xml:
              schema:
                type: string
            image/jpeg:
              schema:
                type: string
                format: binary
        '404':
          description: QR-код не знайдений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getQrCodebyid
  /api/digital-signatures:
    post:
      tags:
      - digital-signatures
      summary: Створити цифровий підпис
      description: Зберігає цифровий підпис клієнта або оператора
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDigitalSignatureRequest'
      responses:
        '201':
          description: Підпис успішно збережено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DigitalSignatureResponse'
        '400':
          description: Помилка валідації
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
      operationId: createDigitalSignature
  /api/digital-signatures/{id}:
    get:
      tags:
      - digital-signatures
      summary: Отримати цифровий підпис
      description: Повертає інформацію про цифровий підпис
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор підпису (UUID)
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Інформація про підпис
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DigitalSignatureResponse'
        '404':
          description: Підпис не знайдений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getDigitalSignaturebyid
  /api/digital-signatures/{id}/image:
    get:
      tags:
      - digital-signatures
      summary: Отримати зображення підпису
      description: Повертає зображення цифрового підпису
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор підпису (UUID)
        schema:
          type: string
          format: uuid
      - name: format
        in: query
        description: Формат зображення
        required: false
        schema:
          type: string
          enum:
          - PNG
          - SVG
          default: PNG
      responses:
        '200':
          description: Зображення підпису
          content:
            image/png:
              schema:
                type: string
                format: binary
            image/svg+xml:
              schema:
                type: string
        '404':
          description: Підпис не знайдений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getDigitalSignaturebyid1
  /api/documents:
    get:
      tags:
      - documents
      summary: Отримати список документів
      description: Повертає список документів з можливістю фільтрації
      parameters:
      - name: type
        in: query
        description: Тип документа
        required: false
        schema:
          $ref: '#/components/schemas/DocumentType'
      - name: relatedEntityId
        in: query
        description: ID пов'язаної сутності
        required: false
        schema:
          type: string
          format: uuid
      - name: status
        in: query
        description: Статус документа
        required: false
        schema:
          $ref: '#/components/schemas/DocumentStatus'
      - name: page
        in: query
        description: Номер сторінки
        required: false
        schema:
          type: integer
          minimum: 0
          default: 0
      - name: size
        in: query
        description: Розмір сторінки
        required: false
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
      responses:
        '200':
          description: Список документів
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentPageResponse'
      operationId: getDocuments
  /api/documents/{id}:
    get:
      tags:
      - documents
      summary: Отримати документ за ID
      description: Повертає інформацію про документ
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор документа (UUID)
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Інформація про документ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '404':
          description: Документ не знайдений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: getDocumentById
    delete:
      tags:
      - documents
      summary: Видалити документ
      description: Видаляє документ та пов'язані файли
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор документа (UUID)
        schema:
          type: string
          format: uuid
      responses:
        '204':
          description: Документ успішно видалено
        '404':
          description: Документ не знайдений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: Документ не можна видалити (використовується)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: deleteDocument
  /api/documents/{id}/download:
    get:
      tags:
      - documents
      summary: Завантажити документ
      description: Завантажує файл документа
      parameters:
      - name: id
        in: path
        required: true
        description: Унікальний ідентифікатор документа (UUID)
        schema:
          type: string
          format: uuid
      responses:
        '200':
          description: Файл документа
          content:
            application/pdf:
              schema:
                type: string
                format: binary
            application/octet-stream:
              schema:
                type: string
                format: binary
          headers:
            Content-Disposition:
              description: Attachment filename
              schema:
                type: string
        '404':
          description: Документ не знайдений
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      operationId: downloadDocument
components:
  schemas:
    GenerateReceiptRequest:
      type: object
      required:
      - orderId
      properties:
        orderId:
          type: string
          format: uuid
          description: Ідентифікатор замовлення
        template:
          type: string
          enum:
          - STANDARD
          - COMPACT
          - DETAILED
          default: STANDARD
          description: Шаблон квитанції
        includePhotos:
          type: boolean
          default: false
          description: Включити фотографії предметів
        generatePdf:
          type: boolean
          default: true
          description: Автоматично генерувати PDF
        generateQrCode:
          type: boolean
          default: true
          description: Автоматично генерувати QR-код
    UpdateReceiptRequest:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/ReceiptDataRequest'
        regeneratePdf:
          type: boolean
          default: false
          description: Перегенерувати PDF після оновлення
    ReceiptDataRequest:
      type: object
      properties:
        companyInfo:
          $ref: '#/components/schemas/CompanyInfoRequest'
        operatorInfo:
          $ref: '#/components/schemas/OperatorInfoRequest'
        legalInfo:
          $ref: '#/components/schemas/LegalInfoRequest'
    CompanyInfoRequest:
      type: object
      properties:
        companyName:
          type: string
          maxLength: 200
        legalName:
          type: string
          maxLength: 200
        address:
          type: string
          maxLength: 500
        phone:
          type: string
          pattern: ^\+380[0-9]{9}$
        email:
          type: string
          format: email
        website:
          type: string
          format: uri
        logoUrl:
          type: string
          format: uri
        taxNumber:
          type: string
          maxLength: 50
    OperatorInfoRequest:
      type: object
      properties:
        operatorName:
          type: string
          maxLength: 100
        operatorPosition:
          type: string
          maxLength: 100
    LegalInfoRequest:
      type: object
      properties:
        termsAndConditions:
          type: string
          maxLength: 2000
        liabilityLimitations:
          type: string
          maxLength: 1000
        warrantyInfo:
          type: string
          maxLength: 1000
    GenerateQRCodeRequest:
      type: object
      required:
      - data
      - type
      properties:
        data:
          type: string
          description: Дані для кодування в QR-код
          example: AKSI-01-2024-000001
        type:
          type: string
          enum:
          - ORDER_TRACKING
          - RECEIPT_VERIFICATION
          - CONTACT_INFO
          description: Тип QR-коду
        size:
          type: integer
          minimum: 50
          maximum: 1000
          default: 200
          description: Розмір в пікселях
        format:
          type: string
          enum:
          - PNG
          - SVG
          - JPEG
          default: PNG
          description: Формат зображення
        errorCorrectionLevel:
          type: string
          enum:
          - LOW
          - MEDIUM
          - QUARTILE
          - HIGH
          default: MEDIUM
          description: Рівень корекції помилок
    CreateDigitalSignatureRequest:
      type: object
      required:
      - documentId
      - signatureData
      - type
      - signerName
      properties:
        documentId:
          type: string
          format: uuid
          description: Ідентифікатор документа
        signatureData:
          type: string
          description: Base64 дані підпису (SVG або PNG)
        type:
          $ref: '#/components/schemas/SignatureType'
        signerName:
          type: string
          maxLength: 100
          description: Ім'я підписанта
        signerRole:
          type: string
          maxLength: 50
          description: Роль підписанта
        metadata:
          $ref: '#/components/schemas/SignatureMetadataRequest'
    SignatureMetadataRequest:
      type: object
      properties:
        deviceInfo:
          type: string
          maxLength: 200
          description: Інформація про пристрій
        browserInfo:
          type: string
          maxLength: 200
          description: Інформація про браузер
        screenResolution:
          type: string
          maxLength: 20
          description: Роздільна здатність екрану
        signatureMethod:
          type: string
          enum:
          - TOUCH
          - MOUSE
          - STYLUS
          description: Метод створення підпису
    ReceiptResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Унікальний ідентифікатор квитанції
        orderId:
          type: string
          format: uuid
          description: Ідентифікатор замовлення
        receiptNumber:
          type: string
          description: Номер квитанції
          example: AKSI-01-2024-000001
        data:
          $ref: '#/components/schemas/ReceiptDataResponse'
        pdfDocument:
          $ref: '#/components/schemas/DocumentSummaryResponse'
        qrCode:
          $ref: '#/components/schemas/QRCodeSummaryResponse'
        signatures:
          type: array
          items:
            $ref: '#/components/schemas/DigitalSignatureSummaryResponse'
        isPrinted:
          type: boolean
          description: Чи роздрукована квитанція
        printedAt:
          type: string
          format: date-time
          description: Дата друку
        generatedAt:
          type: string
          format: date-time
          description: Дата генерації
        generatedBy:
          type: string
          description: Хто згенерував
    ReceiptDataResponse:
      type: object
      properties:
        companyInfo:
          $ref: '#/components/schemas/CompanyInfoResponse'
        branchInfo:
          $ref: '#/components/schemas/BranchInfoResponse'
        orderInfo:
          $ref: '#/components/schemas/OrderInfoResponse'
        clientInfo:
          $ref: '#/components/schemas/ClientInfoResponse'
        items:
          type: array
          items:
            $ref: '#/components/schemas/ItemDetailResponse'
        financial:
          $ref: '#/components/schemas/FinancialSummaryResponse'
        legalInfo:
          $ref: '#/components/schemas/LegalInfoResponse'
        operatorInfo:
          $ref: '#/components/schemas/OperatorInfoResponse'
    CompanyInfoResponse:
      type: object
      properties:
        companyName:
          type: string
        legalName:
          type: string
        address:
          type: string
        phone:
          type: string
        email:
          type: string
        website:
          type: string
        logoUrl:
          type: string
        taxNumber:
          type: string
    BranchInfoResponse:
      type: object
      properties:
        branchId:
          type: string
          format: uuid
        branchCode:
          type: string
        branchName:
          type: string
        address:
          type: string
        phone:
          type: string
        managerName:
          type: string
    OrderInfoResponse:
      type: object
      properties:
        orderId:
          type: string
          format: uuid
        orderNumber:
          type: string
        createdAt:
          type: string
          format: date-time
        expectedCompletionDate:
          type: string
          format: date-time
        expediteType:
          type: string
          enum:
          - NORMAL
          - URGENT_48H
          - URGENT_24H
        totalAmount:
          type: number
          format: double
        discountAmount:
          type: number
          format: double
        finalAmount:
          type: number
          format: double
        paidAmount:
          type: number
          format: double
        remainingAmount:
          type: number
          format: double
    ClientInfoResponse:
      type: object
      properties:
        clientId:
          type: string
          format: uuid
        firstName:
          type: string
        lastName:
          type: string
        phone:
          type: string
        email:
          type: string
        address:
          type: string
        preferredContactMethod:
          type: string
    ItemDetailResponse:
      type: object
      properties:
        itemNumber:
          type: integer
        itemName:
          type: string
        category:
          type: string
        quantity:
          type: string
        material:
          type: string
        color:
          type: string
        filling:
          type: string
        basePrice:
          type: number
          format: double
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/ModifierDetailResponse'
        finalPrice:
          type: number
          format: double
        stains:
          type: array
          items:
            type: string
        defects:
          type: array
          items:
            type: string
        defectNotes:
          type: string
        photos:
          type: array
          items:
            $ref: '#/components/schemas/PhotoSummaryResponse'
    ModifierDetailResponse:
      type: object
      properties:
        name:
          type: string
        type:
          type: string
          enum:
          - PERCENTAGE
          - FIXED_AMOUNT
          - MULTIPLIER
        value:
          type: number
          format: double
        appliedAmount:
          type: number
          format: double
    PhotoSummaryResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        thumbnailUrl:
          type: string
          format: uri
        fullUrl:
          type: string
          format: uri
    FinancialSummaryResponse:
      type: object
      properties:
        subtotal:
          type: number
          format: double
        discountType:
          type: string
        discountAmount:
          type: number
          format: double
        expediteCharge:
          type: number
          format: double
        totalAmount:
          type: number
          format: double
        paidAmount:
          type: number
          format: double
        remainingAmount:
          type: number
          format: double
        paymentMethod:
          type: string
    LegalInfoResponse:
      type: object
      properties:
        termsAndConditions:
          type: string
        liabilityLimitations:
          type: string
        warrantyInfo:
          type: string
        acceptanceConfirmed:
          type: boolean
        acceptanceDate:
          type: string
          format: date-time
    OperatorInfoResponse:
      type: object
      properties:
        operatorName:
          type: string
        operatorPosition:
          type: string
        operatorId:
          type: string
          format: uuid
    DocumentResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        documentNumber:
          type: string
        type:
          $ref: '#/components/schemas/DocumentType'
        relatedEntityId:
          type: string
          format: uuid
        fileName:
          type: string
        filePath:
          type: string
        fileSize:
          type: integer
          format: int64
        mimeType:
          type: string
        status:
          $ref: '#/components/schemas/DocumentStatus'
        downloadUrl:
          type: string
          format: uri
        metadata:
          $ref: '#/components/schemas/DocumentMetadataResponse'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        createdBy:
          type: string
    DocumentSummaryResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        fileName:
          type: string
        fileSize:
          type: integer
          format: int64
        downloadUrl:
          type: string
          format: uri
        createdAt:
          type: string
          format: date-time
    DocumentMetadataResponse:
      type: object
      properties:
        template:
          type: string
        version:
          type: string
        generationTime:
          type: number
          format: double
          description: Час генерації в секундах
        pageCount:
          type: integer
          description: Кількість сторінок (для PDF)
    QRCodeResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        data:
          type: string
          description: Закодовані дані
        type:
          type: string
          enum:
          - ORDER_TRACKING
          - RECEIPT_VERIFICATION
          - CONTACT_INFO
        size:
          type: integer
        format:
          type: string
          enum:
          - PNG
          - SVG
          - JPEG
        imageUrl:
          type: string
          format: uri
          description: URL для отримання зображення
        createdAt:
          type: string
          format: date-time
    QRCodeSummaryResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        imageUrl:
          type: string
          format: uri
        size:
          type: integer
    DigitalSignatureResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        documentId:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/SignatureType'
        signerName:
          type: string
        signerRole:
          type: string
        signedAt:
          type: string
          format: date-time
        ipAddress:
          type: string
        imageUrl:
          type: string
          format: uri
          description: URL для отримання зображення підпису
        metadata:
          $ref: '#/components/schemas/SignatureMetadataResponse'
        isValid:
          type: boolean
          description: Чи валідний підпис
    DigitalSignatureSummaryResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/SignatureType'
        signerName:
          type: string
        signedAt:
          type: string
          format: date-time
        imageUrl:
          type: string
          format: uri
    SignatureMetadataResponse:
      type: object
      properties:
        deviceInfo:
          type: string
        browserInfo:
          type: string
        screenResolution:
          type: string
        signatureMethod:
          type: string
          enum:
          - TOUCH
          - MOUSE
          - STYLUS
        signatureDuration:
          type: number
          format: double
          description: Час створення підпису в секундах
    ReceiptPageResponse:
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/ReceiptResponse'
        pageable:
          $ref: '#/components/schemas/PageableInfo'
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
        last:
          type: boolean
        first:
          type: boolean
        numberOfElements:
          type: integer
    DocumentPageResponse:
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/DocumentResponse'
        pageable:
          $ref: '#/components/schemas/PageableInfo'
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
        last:
          type: boolean
        first:
          type: boolean
        numberOfElements:
          type: integer
    PageableInfo:
      type: object
      properties:
        page:
          type: integer
        size:
          type: integer
        sort:
          type: array
          items:
            type: string
    DocumentType:
      type: string
      enum:
      - RECEIPT
      - CONTRACT
      - INVOICE
      - PHOTO
      - QR_CODE
      - SIGNATURE
      description: 'Типи документів:

        * RECEIPT - Квитанція

        * CONTRACT - Договір

        * INVOICE - Рахунок

        * PHOTO - Фото

        * QR_CODE - QR-код

        * SIGNATURE - Підпис

        '
    DocumentStatus:
      type: string
      enum:
      - DRAFT
      - GENERATED
      - SIGNED
      - PRINTED
      - ARCHIVED
      description: 'Статуси документів:

        * DRAFT - Чернетка

        * GENERATED - Згенеровано

        * SIGNED - Підписано

        * PRINTED - Роздруковано

        * ARCHIVED - Заархівовано

        '
    SignatureType:
      type: string
      enum:
      - CLIENT_HANDOVER
      - CLIENT_PICKUP
      - OPERATOR
      - DIGITAL
      description: 'Типи підписів:

        * CLIENT_HANDOVER - Підпис клієнта при здачі

        * CLIENT_PICKUP - Підпис клієнта при отриманні

        * OPERATOR - Підпис оператора

        * DIGITAL - Цифровий підпис

        '
    ErrorResponse:
      type: object
      properties:
        timestamp:
          type: string
          format: date-time
        status:
          type: integer
        error:
          type: string
        message:
          type: string
        path:
          type: string
    ValidationErrorResponse:
      type: object
      properties:
        timestamp:
          type: string
          format: date-time
        status:
          type: integer
        error:
          type: string
        message:
          type: string
        path:
          type: string
        validationErrors:
          type: array
          items:
            $ref: '#/components/schemas/FieldError'
    FieldError:
      type: object
      properties:
        field:
          type: string
        message:
          type: string
        rejectedValue:
          description: Значення, яке було відхилено
        code:
          type: string
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
