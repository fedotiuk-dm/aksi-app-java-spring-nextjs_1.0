/api/auth/login:
  post:
    tags:
      - authentication
    summary: Автентифікація користувача
    description: Логін користувача з email/username та паролем
    operationId: loginUser
    security: [] # Цей endpoint не потребує автентифікації
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../../auth-api.yaml#/components/schemas/LoginRequest"
    responses:
      "200":
        description: Успішна автентифікація
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/AuthResponse"
            example:
              accessToken: "jwt.access.token"
              refreshToken: "jwt.refresh.token"
              tokenType: "Bearer"
              expiresIn: 3600
      "400":
        description: Невірний формат запиту
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ValidationErrorResponse"

      "401":
        description: Невірні облікові дані
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
            example:
              message: "Невірний логін або пароль"
              code: "INVALID_CREDENTIALS"
              timestamp: "2024-01-15T10:30:00Z"
      "403":
        description: Користувач заблокований
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
            example:
              message: "Користувач заблокований або неактивний"
              code: "USER_BLOCKED"
              timestamp: "2024-01-15T10:30:00Z"
      "500":
        description: Внутрішня помилка сервера
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"

/api/auth/logout:
  post:
    tags:
      - authentication
    summary: Вихід з системи
    description: Вихід користувача та інвалідація токенів
    operationId: logoutUser
    responses:
      "200":
        description: Успішний вихід з системи
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/LogoutResponse"
            example:
              success: true
              message: "Користувач успішно вийшов з системи"
      "401":
        description: Невалідний токен
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
      "500":
        description: Внутрішня помилка сервера
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"

/api/auth/refresh-token:
  post:
    tags:
      - authentication
    summary: Оновлення access токену
    description: Оновлення access токену використовуючи refresh токен
    operationId: refreshAccessToken
    security: [] # Цей endpoint не потребує Bearer auth, використовує refresh token
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../../auth-api.yaml#/components/schemas/RefreshTokenRequest"
    responses:
      "200":
        description: Успішне оновлення токену
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/AuthResponse"
            example:
              accessToken: "jwt.new.access.token"
              refreshToken: "jwt.new.refresh.token"
              tokenType: "Bearer"
              expiresIn: 3600
      "400":
        description: Невірний формат запиту
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ValidationErrorResponse"

      "401":
        description: Невалідний refresh токен
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
            example:
              message: "Refresh токен недійсний або закінчився"
              code: "INVALID_REFRESH_TOKEN"
              timestamp: "2024-01-15T10:30:00Z"
      "500":
        description: Внутрішня помилка сервера
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
