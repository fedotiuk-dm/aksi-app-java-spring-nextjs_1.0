/api/auth/login:
  post:
    tags:
      - authentication
    summary: Автентифікація користувача
    description: Логін користувача з email/username та паролем
    operationId: loginUser
    security: [] # Цей endpoint не потребує автентифікації
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../../auth-api.yaml#/components/schemas/LoginRequest"
          examples:
            admin:
              summary: Адміністратор
              value:
                username: "admin@aksi.com"
                password: "admin123"
            manager:
              summary: Менеджер
              value:
                username: "manager@aksi.com"
                password: "manager123"
    responses:
      "200":
        description: Успішна автентифікація
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/AuthResponse"
            examples:
              success:
                summary: Успішний логін
                value:
                  accessToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  tokenType: "Bearer"
                  expiresIn: 3600
      "400":
        description: Невірний формат запиту
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ValidationErrorResponse"
      "401":
        description: Невірні облікові дані
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
            examples:
              invalid_credentials:
                summary: Невірний логін або пароль
                value:
                  message: "Невірний логін або пароль"
                  code: "INVALID_CREDENTIALS"
                  timestamp: "2024-01-15T10:30:00Z"
      "403":
        description: Користувач заблокований
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
            examples:
              user_blocked:
                summary: Користувач неактивний
                value:
                  message: "Користувач заблокований або неактивний"
                  code: "USER_BLOCKED"
                  timestamp: "2024-01-15T10:30:00Z"
      "500":
        description: Внутрішня помилка сервера
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"

/api/auth/logout:
  post:
    tags:
      - authentication
    summary: Вихід з системи
    description: Вихід користувача та інвалідація токенів
    operationId: logoutUser
    responses:
      "200":
        description: Успішний вихід з системи
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/LogoutResponse"
            examples:
              success:
                summary: Успішний логаут
                value:
                  success: true
                  message: "Користувач успішно вийшов з системи"
      "401":
        description: Невалідний токен
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
      "500":
        description: Внутрішня помилка сервера
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"

/api/auth/refresh-token:
  post:
    tags:
      - authentication
    summary: Оновлення access токену
    description: Оновлення access токену використовуючи refresh токен
    operationId: refreshAccessToken
    security: [] # Цей endpoint не потребує Bearer auth, використовує refresh token
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../../auth-api.yaml#/components/schemas/RefreshTokenRequest"
          examples:
            refresh:
              summary: Оновлення токену
              value:
                refreshToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
    responses:
      "200":
        description: Успішне оновлення токену
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/AuthResponse"
            examples:
              success:
                summary: Новий токен
                value:
                  accessToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  tokenType: "Bearer"
                  expiresIn: 3600
      "400":
        description: Невірний формат запиту
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ValidationErrorResponse"
      "401":
        description: Невалідний refresh токен
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
            examples:
              invalid_token:
                summary: Невалідний refresh токен
                value:
                  message: "Refresh токен недійсний або закінчився"
                  code: "INVALID_REFRESH_TOKEN"
                  timestamp: "2024-01-15T10:30:00Z"
      "500":
        description: Внутрішня помилка сервера
        content:
          application/json:
            schema:
              $ref: "../../auth-api.yaml#/components/schemas/ErrorResponse"
