# Endpoints для управління QR-кодами
/api/qr-codes/generate:
  post:
    tags:
      - qr-codes
    summary: Згенерувати QR-код
    description: Генерує QR-код для замовлення або квитанції
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/document-requests.yaml#/GenerateQRCodeRequest"
    responses:
      201:
        description: QR-код успішно згенеровано
        content:
          application/json:
            schema:
              $ref: "../schemas/document-responses.yaml#/QRCodeResponse"
      400:
        description: Помилка валідації
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ValidationErrorResponse"
    operationId: generateQrCode

/api/qr-codes/{id}:
  get:
    tags:
      - qr-codes
    summary: Отримати QR-код
    description: Повертає зображення QR-коду
    parameters:
      - $ref: "../../common/parameters/path.yaml#/IdParam"
      - name: format
        in: query
        description: Формат зображення
        required: false
        schema:
          $ref: "../schemas/document-enums.yaml#/QRCodeFormat"
          default: PNG
      - name: size
        in: query
        description: Розмір зображення в пікселях
        required: false
        schema:
          type: integer
          minimum: 50
          maximum: 1000
          default: 200
    responses:
      200:
        description: QR-код зображення
        content:
          image/png:
            schema:
              type: string
              format: binary
          image/svg+xml:
            schema:
              type: string
          image/jpeg:
            schema:
              type: string
              format: binary
          application/json:
            schema:
              $ref: "../schemas/document-responses.yaml#/QrCodeBinaryResponse"
      404:
        description: QR-код не знайдений
        content:
          application/json:
            schema:
              $ref: "../../common/schemas/errors.yaml#/ErrorResponse"
    operationId: getQrCodeById
