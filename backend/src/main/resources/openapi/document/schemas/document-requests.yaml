# Request схеми для Document домену
GenerateReceiptRequest:
  type: object
  title: GenerateReceiptRequest
  required:
    - orderId
  properties:
    orderId:
      $ref: "../../common/schemas/base.yaml#/UUID"
      nullable: false
      description: Ідентифікатор замовлення
    template:
      $ref: "./document-enums.yaml#/ReceiptTemplate"
      nullable: false
      default: STANDARD
      description: Шаблон квитанції
    includePhotos:
      type: boolean
      nullable: false
      default: false
      description: Включити фотографії предметів
    generatePdf:
      type: boolean
      nullable: false
      default: true
      description: Автоматично генерувати PDF
    generateQrCode:
      type: boolean
      nullable: false
      default: true
      description: Автоматично генерувати QR-код

UpdateReceiptRequest:
  type: object
  title: UpdateReceiptRequest
  properties:
    data:
      $ref: "#/ReceiptDataRequest"
      nullable: false
    regeneratePdf:
      type: boolean
      nullable: false
      default: false
      description: Перегенерувати PDF після оновлення

ReceiptDataRequest:
  type: object
  title: ReceiptDataRequest
  properties:
    companyInfo:
      $ref: "#/CompanyInfoRequest"
    operatorInfo:
      $ref: "#/OperatorInfoRequest"
    legalInfo:
      $ref: "#/LegalInfoRequest"

CompanyInfoRequest:
  type: object
  title: CompanyInfoRequest
  properties:
    companyName:
      type: string
      maxLength: 200
    legalName:
      type: string
      maxLength: 200
    address:
      type: string
      maxLength: 500
    phone:
      $ref: "../../common/schemas/base.yaml#/PhoneNumber"
    email:
      $ref: "../../common/schemas/base.yaml#/Email"
    website:
      type: string
      format: uri
    logoUrl:
      type: string
      format: uri
    taxNumber:
      type: string
      maxLength: 50

OperatorInfoRequest:
  type: object
  title: OperatorInfoRequest
  properties:
    operatorName:
      type: string
      maxLength: 100
    operatorPosition:
      type: string
      maxLength: 100

LegalInfoRequest:
  type: object
  title: LegalInfoRequest
  properties:
    termsAndConditions:
      type: string
      maxLength: 2000
    liabilityLimitations:
      type: string
      maxLength: 1000
    warrantyInfo:
      type: string
      maxLength: 1000

GenerateQRCodeRequest:
  type: object
  title: GenerateQRCodeRequest
  required:
    - data
    - type
  properties:
    data:
      type: string
      nullable: false
      description: Дані для кодування в QR-код
      example: AKSI-01-2024-000001
    type:
      $ref: "./document-enums.yaml#/QRCodeType"
      nullable: false
      description: Тип QR-коду
    size:
      type: integer
      minimum: 50
      maximum: 1000
      nullable: false
      default: 200
      description: Розмір в пікселях
    format:
      $ref: "./document-enums.yaml#/QRCodeFormat"
      nullable: false
      default: PNG
      description: Формат зображення
    errorCorrectionLevel:
      $ref: "./document-enums.yaml#/ErrorCorrectionLevel"
      nullable: false
      default: MEDIUM
      description: Рівень корекції помилок

CreateDigitalSignatureRequest:
  type: object
  title: CreateDigitalSignatureRequest
  required:
    - documentId
    - signatureData
    - type
    - signerName
  properties:
    documentId:
      $ref: "../../common/schemas/base.yaml#/UUID"
      nullable: false
      description: Ідентифікатор документа
    signatureData:
      type: string
      nullable: false
      description: Base64 дані підпису (SVG або PNG)
    type:
      $ref: "./document-enums.yaml#/SignatureType"
      nullable: false
    signerName:
      type: string
      maxLength: 100
      nullable: false
      description: Ім'я підписанта
    signerRole:
      type: string
      maxLength: 50
      nullable: false
      description: Роль підписанта
    metadata:
      $ref: "#/SignatureMetadataRequest"
      nullable: false

SignatureMetadataRequest:
  type: object
  title: SignatureMetadataRequest
  properties:
    deviceInfo:
      type: string
      maxLength: 200
      description: Інформація про пристрій
    browserInfo:
      type: string
      maxLength: 200
      description: Інформація про браузер
    screenResolution:
      type: string
      maxLength: 20
      description: Роздільна здатність екрану
    signatureMethod:
      $ref: "./document-enums.yaml#/SignatureMethod"
      description: Метод створення підпису

GeneratePdfRequest:
  type: object
  title: GeneratePdfRequest
  properties:
    template:
      $ref: "./document-enums.yaml#/ReceiptTemplate"
      default: STANDARD
      description: Шаблон для генерації
    regenerate:
      type: boolean
      default: false
      description: Перегенерувати якщо вже існує

UpdateDocumentStatusRequest:
  type: object
  title: UpdateDocumentStatusRequest
  description: Запит на оновлення статусу документа
  required:
    - status
  properties:
    status:
      $ref: "./document-enums.yaml#/DocumentStatus"
      nullable: false
      description: Новий статус документа
    reason:
      type: string
      maxLength: 500
      nullable: false
      description: Причина зміни статусу
    metadata:
      type: object
      nullable: false
      description: Додаткова інформація про зміну статусу
      additionalProperties:
        type: string
