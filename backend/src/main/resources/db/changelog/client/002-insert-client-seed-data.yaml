databaseChangeLog:
  # Вставка тестових клієнтів для розробки
  - changeSet:
      id: 001-insert-test-clients
      author: system
      context: dev
      changes:
        # VIP клієнт з повною інформацією
        - insert:
            tableName: clients
            columns:
              - column:
                  name: id
                  value: "550e8400-e29b-41d4-a716-446655440001"
              - column:
                  name: first_name
                  value: "Олена"
              - column:
                  name: last_name
                  value: "Коваленко"
              - column:
                  name: phone
                  value: "+380671234567"
              - column:
                  name: email
                  value: "olena.kovalenko@example.com"
              - column:
                  name: source_type
                  value: "REFERRAL"
              - column:
                  name: notes
                  value: "Постійний клієнт, завжди вчасно забирає замовлення"
              - column:
                  name: street
                  value: "вул. Хрещатик, 25"
              - column:
                  name: city
                  value: "Київ"
              - column:
                  name: region
                  value: "Київська область"
              - column:
                  name: postal_code
                  value: "01001"
              - column:
                  name: country
                  value: "Україна"
              - column:
                  name: total_orders
                  value: "15"
              - column:
                  name: total_spent
                  value: "4500.00"
              - column:
                  name: last_order_date
                  value: "2024-12-20"
              - column:
                  name: average_order_value
                  value: "300.00"
              - column:
                  name: is_vip
                  value: "true"
              - column:
                  name: created_at
                  valueDate: "2024-01-15T10:30:00"

        # Звичайний клієнт без адреси
        - insert:
            tableName: clients
            columns:
              - column:
                  name: id
                  value: "550e8400-e29b-41d4-a716-446655440002"
              - column:
                  name: first_name
                  value: "Микола"
              - column:
                  name: last_name
                  value: "Петренко"
              - column:
                  name: phone
                  value: "+380503456789"
              - column:
                  name: source_type
                  value: "GOOGLE"
              - column:
                  name: total_orders
                  value: "3"
              - column:
                  name: total_spent
                  value: "450.00"
              - column:
                  name: last_order_date
                  value: "2024-12-18"
              - column:
                  name: average_order_value
                  value: "150.00"
              - column:
                  name: is_vip
                  value: "false"
              - column:
                  name: created_at
                  valueDate: "2024-11-05T14:20:00"

        # Новий клієнт без замовлень
        - insert:
            tableName: clients
            columns:
              - column:
                  name: id
                  value: "550e8400-e29b-41d4-a716-446655440003"
              - column:
                  name: first_name
                  value: "Анна"
              - column:
                  name: last_name
                  value: "Іваненко"
              - column:
                  name: phone
                  value: "+380961234567"
              - column:
                  name: email
                  value: "anna.ivanenko@example.com"
              - column:
                  name: source_type
                  value: "INSTAGRAM"
              - column:
                  name: notes
                  value: "Новий клієнт, потребує особливої уваги"
              - column:
                  name: street
                  value: "вул. Шевченка, 120, кв. 45"
              - column:
                  name: city
                  value: "Львів"
              - column:
                  name: region
                  value: "Львівська область"
              - column:
                  name: postal_code
                  value: "79000"
              - column:
                  name: is_vip
                  value: "false"
              - column:
                  name: created_at
                  valueDate: "2024-12-25T09:00:00"

        # Клієнт з Одеси
        - insert:
            tableName: clients
            columns:
              - column:
                  name: id
                  value: "550e8400-e29b-41d4-a716-446655440004"
              - column:
                  name: first_name
                  value: "Сергій"
              - column:
                  name: last_name
                  value: "Морозов"
              - column:
                  name: phone
                  value: "+380487654321"
              - column:
                  name: email
                  value: "sergiy.morozov@example.com"
              - column:
                  name: source_type
                  value: "ADVERTISING"
              - column:
                  name: city
                  value: "Одеса"
              - column:
                  name: region
                  value: "Одеська область"
              - column:
                  name: total_orders
                  value: "8"
              - column:
                  name: total_spent
                  value: "2400.00"
              - column:
                  name: last_order_date
                  value: "2024-12-15"
              - column:
                  name: average_order_value
                  value: "300.00"
              - column:
                  name: is_vip
                  value: "false"
              - column:
                  name: created_at
                  valueDate: "2024-03-10T16:45:00"

        # Корпоративний клієнт
        - insert:
            tableName: clients
            columns:
              - column:
                  name: id
                  value: "550e8400-e29b-41d4-a716-446655440005"
              - column:
                  name: first_name
                  value: "Марія"
              - column:
                  name: last_name
                  value: "Бондаренко"
              - column:
                  name: phone
                  value: "+380442001122"
              - column:
                  name: email
                  value: "maria.bondarenko@company.ua"
              - column:
                  name: source_type
                  value: "WEBSITE"
              - column:
                  name: notes
                  value: "Корпоративний клієнт, потрібен спеціальний сервіс"
              - column:
                  name: street
                  value: "вул. Володимирська, 50, оф. 301"
              - column:
                  name: city
                  value: "Київ"
              - column:
                  name: region
                  value: "Київська область"
              - column:
                  name: postal_code
                  value: "01030"
              - column:
                  name: total_orders
                  value: "25"
              - column:
                  name: total_spent
                  value: "8750.00"
              - column:
                  name: last_order_date
                  value: "2024-12-22"
              - column:
                  name: average_order_value
                  value: "350.00"
              - column:
                  name: is_vip
                  value: "true"
              - column:
                  name: created_at
                  valueDate: "2024-01-08T11:15:00"

  # Вставка способів зв'язку для клієнтів
  - changeSet:
      id: 002-insert-communication-methods
      author: system
      context: dev
      changes:
        # Олена Коваленко - всі способи зв'язку
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440001')"
              - column:
                  name: communication_method
                  value: "PHONE"
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440001')"
              - column:
                  name: communication_method
                  value: "EMAIL"
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440001')"
              - column:
                  name: communication_method
                  value: "VIBER"

        # Микола Петренко - тільки телефон та SMS
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440002')"
              - column:
                  name: communication_method
                  value: "PHONE"
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440002')"
              - column:
                  name: communication_method
                  value: "SMS"

        # Анна Іваненко - email та Telegram
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440003')"
              - column:
                  name: communication_method
                  value: "EMAIL"
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440003')"
              - column:
                  name: communication_method
                  value: "TELEGRAM"

        # Сергій Морозов - телефон та email
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440004')"
              - column:
                  name: communication_method
                  value: "PHONE"
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440004')"
              - column:
                  name: communication_method
                  value: "EMAIL"

        # Марія Бондаренко - всі корпоративні способи
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440005')"
              - column:
                  name: communication_method
                  value: "PHONE"
        - insert:
            tableName: client_communication_methods
            columns:
              - column:
                  name: client_id
                  valueComputed: "(SELECT id FROM clients WHERE id = '550e8400-e29b-41d4-a716-446655440005')"
              - column:
                  name: communication_method
                  value: "EMAIL"
