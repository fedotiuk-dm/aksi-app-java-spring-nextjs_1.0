databaseChangeLog:
  - changeSet:
      id: 007-insert-price-modifiers-from-csv
      author: system
      comment: "Завантаження модифікаторів цін з CSV файлу"
      preConditions:
        - onFail: MARK_RAN
        - sqlCheck:
            expectedResult: 0
            sql: "SELECT COUNT(*) FROM price_modifiers"
      changes:
        - loadData:
            tableName: price_modifiers
            file: db/changelog/item/data/price-modifiers.csv
            separator: ","
            quotchar: '"'
            columns:
              - column:
                  name: id
                  type: UUID
                  defaultValueComputed: gen_random_uuid()
              - column:
                  name: code
                  type: STRING
                  header: code
              - column:
                  name: name
                  type: STRING
                  header: name
              - column:
                  name: description
                  type: STRING
                  header: description
              - column:
                  name: modifier_type
                  type: STRING
                  header: modifier_type
              - column:
                  name: value
                  type: NUMERIC
                  header: value
              - column:
                  name: is_active
                  type: BOOLEAN
                  header: active
              - column:
                  name: sort_order
                  type: NUMERIC
                  defaultValue: "1"
              - column:
                  name: created_at
                  type: TIMESTAMP
                  defaultValueComputed: CURRENT_TIMESTAMP
              - column:
                  name: updated_at
                  type: TIMESTAMP
                  defaultValueComputed: CURRENT_TIMESTAMP

      rollback:
        - delete:
            tableName: price_modifiers
