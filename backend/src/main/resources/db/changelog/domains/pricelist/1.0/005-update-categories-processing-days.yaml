databaseChangeLog:
  - changeSet:
      id: pricelist-1.0-005
      author: fedotiuk-dm
      comment: Update processing days for different service categories
      failOnError: true
      preConditions:
        - onFail: MARK_RAN
        - tableExists:
            tableName: service_categories
        - columnExists:
            tableName: service_categories
            columnName: standard_processing_days
      changes:
        # Стандартні категорії - 2 дні (48 годин)
        - update:
            tableName: service_categories
            columns:
              - column:
                  name: standard_processing_days
                  valueNumeric: 2
            where: code IN ('DYEING', 'IRONING', 'PADDING', 'ADDITIONAL_SERVICES', 'CLOTHING')
        
        # Шкіряні вироби - 14 днів
        - update:
            tableName: service_categories
            columns:
              - column:
                  name: standard_processing_days
                  valueNumeric: 14
            where: code = 'LEATHER'
        
        # Хутряні вироби - 14 днів
        - update:
            tableName: service_categories
            columns:
              - column:
                  name: standard_processing_days
                  valueNumeric: 14
            where: code = 'FUR'
        
        # Прання білизни - 7 днів
        - update:
            tableName: service_categories
            columns:
              - column:
                  name: standard_processing_days
                  valueNumeric: 7
            where: code = 'LAUNDRY'
      rollback:
        - update:
            tableName: service_categories
            columns:
              - column:
                  name: standard_processing_days
                  valueNumeric: 2
            where: "1=1"  # Скидаємо всі значення на 2 дні