databaseChangeLog:
  # Property definitions
  - property:
      name: now
      value: now()
      dbms: postgresql
  - property:
      name: uuid_function
      value: gen_random_uuid()
      dbms: postgresql

  # Initial schema creation
  - include:
      file: db/changelog/changes/001-create-initial-schema.yaml

  # Domain specific changelogs
  - include:
      file: db/changelog/changes/002-create-user-tables.yaml
  - include:
      file: db/changelog/changes/003-create-customer-tables-v2.yaml
  - include:
      file: db/changelog/changes/004-create-service-item-tables.yaml
  - include:
      file: db/changelog/changes/005-update-branch-id-to-uuid.yaml
  - include:
      file: db/changelog/changes/006-update-service-item-fields.yaml
  - include:
      file: db/changelog/changes/006-5-alter-unit-of-measure-size.yaml
  - include:
      file: db/changelog/changes/007-load-price-list-data.yaml
  - include:
      file: db/changelog/changes/008-increase-code-field-size.yaml
  - include:
      file: db/changelog/changes/009-add-item-fields.yaml
  - include:
      file: db/changelog/changes/009-5-increase-unit-of-measure-size.yaml
  - include:
      file: db/changelog/changes/010-create-services-from-price-list.yaml
  # Commented out due to existing columns issue - replaced by 024
  # - include:
  #     file: db/changelog/changes/010-7-ensure-items-columns.yaml
  # - include:
  #     file: db/changelog/changes/010-8-ensure-catalog-number-column.yaml
  # - include:
  #     file: db/changelog/changes/010-9-ensure-unit-of-measure-column.yaml
  - include:
      file: db/changelog/changes/011-create-items-from-price-list.yaml
  - include:
      file: db/changelog/changes/011-5-add-price-columns-to-service-items.yaml
  - include:
      file: db/changelog/changes/012-create-service-items-from-price-list.yaml
  - include:
      file: db/changelog/changes/013-convert-prices-to-kopiykas.yaml
  - include:
      file: db/changelog/changes/014-extend-price-list-items.yaml
  - include:
      file: db/changelog/changes/015-cleanup-old-catalog-tables.yaml
  - include:
      file: db/changelog/changes/016-create-cart-tables.yaml
  - include:
      file: db/changelog/changes/017-update-customer-for-api.yaml
  - include:
      file: db/changelog/changes/018-create-branches-table.yaml
  # Commented out - version column already exists - handled by 024
  # - include:
  #     file: db/changelog/changes/019-add-version-to-branches.yaml
  - include:
      file: db/changelog/changes/020-create-pricing-tables.yaml
  - include:
      file: db/changelog/changes/021-create-order-tables.yaml
  # Commented out - has same syntax issue as 010-7
  # - include:
  #     file: db/changelog/changes/023-fix-items-columns.yaml
  - include:
      file: db/changelog/changes/024-skip-existing-columns.yaml
  - include:
      file: db/changelog/changes/025-migrate-wear-level-to-enum.yaml
  - include:
      file: db/changelog/changes/026-fix-child-items-modifier.yaml
  # Game services tables
  - include:
      file: db/changelog/changes/028-create-game-services-tables.yaml
  # Add missing columns for game services - columns already exist in database
  # - include:
  #     file: db/changelog/changes/029-add-missing-game-services-columns.yaml
  # Add surrogate primary key to booster_game_specializations table
  - include:
      file: db/changelog/changes/031-add-id-to-booster-game-specializations.yaml
  # Update game entities schema to match domain changes
  - include:
      file: db/changelog/changes/035-update-game-entities-schema.yaml
  # - include:
  #     file: db/changelog/changes/005-create-branch-tables.yaml
  # - include:
  #     file: db/changelog/changes/004-create-customer-tables.yaml
  # - include:
  #     file: db/changelog/changes/005-create-item-tables.yaml
  # - include:
  #     file: db/changelog/changes/006-create-service-tables.yaml
  # - include:
  #     file: db/changelog/changes/007-create-order-tables.yaml
  # - include:
  #     file: db/changelog/changes/008-create-payment-tables.yaml
  # - include:
  #     file: db/changelog/changes/009-create-notification-tables.yaml
  # Add operation_type column to price_modifiers table
  - include:
      file: db/changelog/changes/037-add-operation-type-to-price-modifiers.yaml
  # Create diverse seed data for different calculator types
  # - include:
  #     file: db/changelog/changes/040-create-diverse-calculator-seed-data.yaml
  # Migrate calculation formulas from String to JSON polymorphic objects
  - include:
      file: db/changelog/changes/041-migrate-calculation-formulas-to-json.yaml
  # Add currency column to price_configurations table
  - include:
      file: db/changelog/changes/042-add-currency-column-to-price-configurations.yaml
  # Add base_multiplier column to service_types table (must run before 044)
  - include:
      file: db/changelog/changes/051-add-base-multiplier-to-service-types.yaml
  # Fix game categories and calculation formulas
  - include:
      file: db/changelog/changes/045-fix-game-categories-and-formulas.yaml
  # Fix calculation formulas format using Liquibase native syntax
  - include:
      file: db/changelog/changes/048-fix-calculation-formulas-format.yaml
  # Fix invalid modifier types (GAMEMODE -> MODE)
  - include:
      file: db/changelog/changes/049-fix-gamemode-modifier-type.yaml
  # Fix version column type in booster_game_specializations table
  - include:
      file: db/changelog/changes/053-fix-booster-game-specializations-version-column.yaml
  # Add missing version column to boosters table
  - include:
      file: db/changelog/changes/054-add-version-column-to-boosters.yaml
  # Fix contact_email column type in boosters table
  - include:
      file: db/changelog/changes/055-fix-contact-email-column-type.yaml
  # Add missing version column to difficulty_levels table
  - include:
      file: db/changelog/changes/056-add-version-column-to-difficulty-levels.yaml
  # Add missing version column to games table
  - include:
      file: db/changelog/changes/057-add-version-column-to-games.yaml
  # Add missing version column to price_configurations table
  - include:
      file: db/changelog/changes/058-add-version-column-to-price-configurations.yaml
  # Add missing version column to service_types table
  - include:
      file: db/changelog/changes/059-add-version-column-to-service-types.yaml
  # Additional version columns will be added as needed
  # - include:
  #     file: db/changelog/changes/061-add-version-to-game-modifiers.yaml
  # - include:
  #     file: db/changelog/changes/062-add-version-to-price-list-items.yaml

  # Fix existing games with invalid categories
  - include:
      file: db/changelog/changes/096-fix-game-categories.yaml

  # Multiple game systems with unique approaches
  - include:
      file: db/changelog/changes/097-fix-modifier-types.yaml
  # Create game modifiers table structure only (no seed data)
  - include:
      file: db/changelog/changes/098-create-game-modifiers-structure.yaml
